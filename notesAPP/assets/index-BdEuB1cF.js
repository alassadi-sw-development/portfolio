(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ag={exports:{}},cu={},ug={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uo=Symbol.for("react.element"),F0=Symbol.for("react.portal"),j0=Symbol.for("react.fragment"),B0=Symbol.for("react.strict_mode"),U0=Symbol.for("react.profiler"),$0=Symbol.for("react.provider"),H0=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),q0=Symbol.for("react.suspense"),K0=Symbol.for("react.memo"),G0=Symbol.for("react.lazy"),Gf=Symbol.iterator;function Q0(t){return t===null||typeof t!="object"?null:(t=Gf&&t[Gf]||t["@@iterator"],typeof t=="function"?t:null)}var lg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cg=Object.assign,dg={};function Li(t,e,n){this.props=t,this.context=e,this.refs=dg,this.updater=n||lg}Li.prototype.isReactComponent={};Li.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Li.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hg(){}hg.prototype=Li.prototype;function Td(t,e,n){this.props=t,this.context=e,this.refs=dg,this.updater=n||lg}var Sd=Td.prototype=new hg;Sd.constructor=Td;cg(Sd,Li.prototype);Sd.isPureReactComponent=!0;var Qf=Array.isArray,fg=Object.prototype.hasOwnProperty,kd={current:null},pg={key:!0,ref:!0,__self:!0,__source:!0};function mg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fg.call(e,r)&&!pg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:uo,type:t,key:s,ref:o,props:i,_owner:kd.current}}function Y0(t,e){return{$$typeof:uo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cd(t){return typeof t=="object"&&t!==null&&t.$$typeof===uo}function X0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yf=/\/+/g;function El(t,e){return typeof t=="object"&&t!==null&&t.key!=null?X0(""+t.key):e.toString(36)}function da(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uo:case F0:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+El(o,0):r,Qf(i)?(n="",t!=null&&(n=t.replace(Yf,"$&/")+"/"),da(i,e,n,"",function(h){return h})):i!=null&&(Cd(i)&&(i=Y0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Yf,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Qf(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+El(s,l);o+=da(s,e,n,c,i)}else if(c=Q0(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+El(s,l++),o+=da(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jo(t,e,n){if(t==null)return t;var r=[],i=0;return da(t,r,"","",function(s){return e.call(n,s,i++)}),r}function J0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Et={current:null},ha={transition:null},Z0={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:ha,ReactCurrentOwner:kd};function gg(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:jo,forEach:function(t,e,n){jo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jo(t,function(){e++}),e},toArray:function(t){return jo(t,function(e){return e})||[]},only:function(t){if(!Cd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Li;ue.Fragment=j0;ue.Profiler=U0;ue.PureComponent=Td;ue.StrictMode=B0;ue.Suspense=q0;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z0;ue.act=gg;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cg({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=kd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)fg.call(e,c)&&!pg.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:uo,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:H0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$0,_context:t},t.Consumer=t};ue.createElement=mg;ue.createFactory=function(t){var e=mg.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:W0,render:t}};ue.isValidElement=Cd;ue.lazy=function(t){return{$$typeof:G0,_payload:{_status:-1,_result:t},_init:J0}};ue.memo=function(t,e){return{$$typeof:K0,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=ha.transition;ha.transition={};try{t()}finally{ha.transition=e}};ue.unstable_act=gg;ue.useCallback=function(t,e){return Et.current.useCallback(t,e)};ue.useContext=function(t){return Et.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Et.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Et.current.useEffect(t,e)};ue.useId=function(){return Et.current.useId()};ue.useImperativeHandle=function(t,e,n){return Et.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Et.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Et.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Et.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Et.current.useReducer(t,e,n)};ue.useRef=function(t){return Et.current.useRef(t)};ue.useState=function(t){return Et.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Et.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Et.current.useTransition()};ue.version="18.3.1";ug.exports=ue;var Ot=ug.exports;const cn=lu(Ot);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1=Ot,t1=Symbol.for("react.element"),n1=Symbol.for("react.fragment"),r1=Object.prototype.hasOwnProperty,i1=e1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s1={key:!0,ref:!0,__self:!0,__source:!0};function _g(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)r1.call(e,r)&&!s1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:t1,type:t,key:s,ref:o,props:i,_owner:i1.current}}cu.Fragment=n1;cu.jsx=_g;cu.jsxs=_g;ag.exports=cu;var je=ag.exports,vg={exports:{}},Lt={},yg={exports:{}},wg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,j){var Q=L.length;L.push(j);e:for(;0<Q;){var q=Q-1>>>1,ne=L[q];if(0<i(ne,j))L[q]=j,L[Q]=ne,Q=q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var j=L[0],Q=L.pop();if(Q!==j){L[0]=Q;e:for(var q=0,ne=L.length,oe=ne>>>1;q<oe;){var ge=2*(q+1)-1,me=L[ge],ye=ge+1,Se=L[ye];if(0>i(me,Q))ye<ne&&0>i(Se,me)?(L[q]=Se,L[ye]=Q,q=ye):(L[q]=me,L[ge]=Q,q=ge);else if(ye<ne&&0>i(Se,Q))L[q]=Se,L[ye]=Q,q=ye;else break e}}return j}function i(L,j){var Q=L.sortIndex-j.sortIndex;return Q!==0?Q:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],w=1,E=null,k=3,N=!1,V=!1,b=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(L){for(var j=n(h);j!==null;){if(j.callback===null)r(h);else if(j.startTime<=L)r(h),j.sortIndex=j.expirationTime,e(c,j);else break;j=n(h)}}function u(L){if(b=!1,P(L),!V)if(n(c)!==null)V=!0,D(f);else{var j=n(h);j!==null&&F(u,j.startTime-L)}}function f(L,j){V=!1,b&&(b=!1,I(g),g=-1),N=!0;var Q=k;try{for(P(j),E=n(c);E!==null&&(!(E.expirationTime>j)||L&&!T());){var q=E.callback;if(typeof q=="function"){E.callback=null,k=E.priorityLevel;var ne=q(E.expirationTime<=j);j=t.unstable_now(),typeof ne=="function"?E.callback=ne:E===n(c)&&r(c),P(j)}else r(c);E=n(c)}if(E!==null)var oe=!0;else{var ge=n(h);ge!==null&&F(u,ge.startTime-j),oe=!1}return oe}finally{E=null,k=Q,N=!1}}var p=!1,m=null,g=-1,y=5,v=-1;function T(){return!(t.unstable_now()-v<y)}function R(){if(m!==null){var L=t.unstable_now();v=L;var j=!0;try{j=m(!0,L)}finally{j?S():(p=!1,m=null)}}else p=!1}var S;if(typeof C=="function")S=function(){C(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,B=z.port2;z.port1.onmessage=R,S=function(){B.postMessage(null)}}else S=function(){M(R,0)};function D(L){m=L,p||(p=!0,S())}function F(L,j){g=M(function(){L(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){V||N||(V=!0,D(f))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(k){case 1:case 2:case 3:var j=3;break;default:j=k}var Q=k;k=j;try{return L()}finally{k=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Q=k;k=L;try{return j()}finally{k=Q}},t.unstable_scheduleCallback=function(L,j,Q){var q=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?q+Q:q):Q=q,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Q+ne,L={id:w++,callback:j,priorityLevel:L,startTime:Q,expirationTime:ne,sortIndex:-1},Q>q?(L.sortIndex=Q,e(h,L),n(c)===null&&L===n(h)&&(b?(I(g),g=-1):b=!0,F(u,Q-q))):(L.sortIndex=ne,e(c,L),V||N||(V=!0,D(f))),L},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(L){var j=k;return function(){var Q=k;k=j;try{return L.apply(this,arguments)}finally{k=Q}}}})(wg);yg.exports=wg;var o1=yg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1=Ot,Mt=o1;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Eg=new Set,Ls={};function Fr(t,e){wi(t,e),wi(t+"Capture",e)}function wi(t,e){for(Ls[t]=e,t=0;t<e.length;t++)Eg.add(e[t])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lc=Object.prototype.hasOwnProperty,u1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xf={},Jf={};function l1(t){return lc.call(Jf,t)?!0:lc.call(Xf,t)?!1:u1.test(t)?Jf[t]=!0:(Xf[t]=!0,!1)}function c1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function d1(t,e,n,r){if(e===null||typeof e>"u"||c1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new Tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new Tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new Tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new Tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new Tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new Tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new Tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new Tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new Tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ad=/[\-:]([a-z])/g;function Id(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ad,Id);it[e]=new Tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ad,Id);it[e]=new Tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ad,Id);it[e]=new Tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new Tt(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new Tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pd(t,e,n,r){var i=it.hasOwnProperty(e)?it[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(d1(e,n,i,r)&&(n=null),r||i===null?l1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mn=a1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bo=Symbol.for("react.element"),Jr=Symbol.for("react.portal"),Zr=Symbol.for("react.fragment"),Rd=Symbol.for("react.strict_mode"),cc=Symbol.for("react.profiler"),Tg=Symbol.for("react.provider"),Sg=Symbol.for("react.context"),bd=Symbol.for("react.forward_ref"),dc=Symbol.for("react.suspense"),hc=Symbol.for("react.suspense_list"),Dd=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),kg=Symbol.for("react.offscreen"),Zf=Symbol.iterator;function is(t){return t===null||typeof t!="object"?null:(t=Zf&&t[Zf]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,Tl;function ms(t){if(Tl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tl=e&&e[1]||""}return`
`+Tl+t}var Sl=!1;function kl(t,e){if(!t||Sl)return"";Sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Sl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ms(t):""}function h1(t){switch(t.tag){case 5:return ms(t.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return t=kl(t.type,!1),t;case 11:return t=kl(t.type.render,!1),t;case 1:return t=kl(t.type,!0),t;default:return""}}function fc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zr:return"Fragment";case Jr:return"Portal";case cc:return"Profiler";case Rd:return"StrictMode";case dc:return"Suspense";case hc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sg:return(t.displayName||"Context")+".Consumer";case Tg:return(t._context.displayName||"Context")+".Provider";case bd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dd:return e=t.displayName||null,e!==null?e:fc(t.type)||"Memo";case jn:e=t._payload,t=t._init;try{return fc(t(e))}catch{}}return null}function f1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fc(e);case 8:return e===Rd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function p1(t){var e=Cg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uo(t){t._valueTracker||(t._valueTracker=p1(t))}function Ag(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pc(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ep(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ig(t,e){e=e.checked,e!=null&&Pd(t,"checked",e,!1)}function mc(t,e){Ig(t,e);var n=sr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gc(t,e.type,n):e.hasOwnProperty("defaultValue")&&gc(t,e.type,sr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gc(t,e,n){(e!=="number"||Pa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gs=Array.isArray;function hi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _c(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function np(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(gs(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sr(n)}}function Pg(t,e){var n=sr(e.value),r=sr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $o,bg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($o=$o||document.createElement("div"),$o.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$o.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m1=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(t){m1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ss[e]=Ss[t]})});function Dg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ss.hasOwnProperty(t)&&Ss[t]?(""+e).trim():e+"px"}function Ng(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Dg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var g1=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yc(t,e){if(e){if(g1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function wc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=null;function Nd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tc=null,fi=null,pi=null;function ip(t){if(t=ho(t)){if(typeof Tc!="function")throw Error(W(280));var e=t.stateNode;e&&(e=mu(e),Tc(t.stateNode,t.type,e))}}function Vg(t){fi?pi?pi.push(t):pi=[t]:fi=t}function Mg(){if(fi){var t=fi,e=pi;if(pi=fi=null,ip(t),e)for(t=0;t<e.length;t++)ip(e[t])}}function Og(t,e){return t(e)}function Lg(){}var Cl=!1;function xg(t,e,n){if(Cl)return t(e,n);Cl=!0;try{return Og(t,e,n)}finally{Cl=!1,(fi!==null||pi!==null)&&(Lg(),Mg())}}function zs(t,e){var n=t.stateNode;if(n===null)return null;var r=mu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Sc=!1;if(Pn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Sc=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Sc=!1}function _1(t,e,n,r,i,s,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(w){this.onError(w)}}var ks=!1,Ra=null,ba=!1,kc=null,v1={onError:function(t){ks=!0,Ra=t}};function y1(t,e,n,r,i,s,o,l,c){ks=!1,Ra=null,_1.apply(v1,arguments)}function w1(t,e,n,r,i,s,o,l,c){if(y1.apply(this,arguments),ks){if(ks){var h=Ra;ks=!1,Ra=null}else throw Error(W(198));ba||(ba=!0,kc=h)}}function jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sp(t){if(jr(t)!==t)throw Error(W(188))}function E1(t){var e=t.alternate;if(!e){if(e=jr(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sp(i),t;if(s===r)return sp(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Fg(t){return t=E1(t),t!==null?jg(t):null}function jg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jg(t);if(e!==null)return e;t=t.sibling}return null}var Bg=Mt.unstable_scheduleCallback,op=Mt.unstable_cancelCallback,T1=Mt.unstable_shouldYield,S1=Mt.unstable_requestPaint,ze=Mt.unstable_now,k1=Mt.unstable_getCurrentPriorityLevel,Vd=Mt.unstable_ImmediatePriority,Ug=Mt.unstable_UserBlockingPriority,Da=Mt.unstable_NormalPriority,C1=Mt.unstable_LowPriority,$g=Mt.unstable_IdlePriority,du=null,hn=null;function A1(t){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(du,t,void 0,(t.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:R1,I1=Math.log,P1=Math.LN2;function R1(t){return t>>>=0,t===0?32:31-(I1(t)/P1|0)|0}var Ho=64,Wo=4194304;function _s(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Na(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=_s(l):(s&=o,s!==0&&(r=_s(s)))}else o=n&~i,o!==0?r=_s(o):s!==0&&(r=_s(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rn(e),i=1<<n,r|=t[n],e&=~i;return r}function b1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-rn(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=b1(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Cc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hg(){var t=Ho;return Ho<<=1,!(Ho&4194240)&&(Ho=64),t}function Al(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rn(e),t[e]=n}function N1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-rn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Md(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function Wg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qg,Od,Kg,Gg,Qg,Ac=!1,qo=[],Kn=null,Gn=null,Qn=null,Fs=new Map,js=new Map,Un=[],V1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ap(t,e){switch(t){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":Fs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(e.pointerId)}}function os(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ho(e),e!==null&&Od(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function M1(t,e,n,r,i){switch(e){case"focusin":return Kn=os(Kn,t,e,n,r,i),!0;case"dragenter":return Gn=os(Gn,t,e,n,r,i),!0;case"mouseover":return Qn=os(Qn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fs.set(s,os(Fs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,js.set(s,os(js.get(s)||null,t,e,n,r,i)),!0}return!1}function Yg(t){var e=Tr(t.target);if(e!==null){var n=jr(e);if(n!==null){if(e=n.tag,e===13){if(e=zg(n),e!==null){t.blockedOn=e,Qg(t.priority,function(){Kg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ic(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ec=r,n.target.dispatchEvent(r),Ec=null}else return e=ho(n),e!==null&&Od(e),t.blockedOn=n,!1;e.shift()}return!0}function up(t,e,n){fa(t)&&n.delete(e)}function O1(){Ac=!1,Kn!==null&&fa(Kn)&&(Kn=null),Gn!==null&&fa(Gn)&&(Gn=null),Qn!==null&&fa(Qn)&&(Qn=null),Fs.forEach(up),js.forEach(up)}function as(t,e){t.blockedOn===e&&(t.blockedOn=null,Ac||(Ac=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,O1)))}function Bs(t){function e(i){return as(i,t)}if(0<qo.length){as(qo[0],t);for(var n=1;n<qo.length;n++){var r=qo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Kn!==null&&as(Kn,t),Gn!==null&&as(Gn,t),Qn!==null&&as(Qn,t),Fs.forEach(e),js.forEach(e),n=0;n<Un.length;n++)r=Un[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Un.length&&(n=Un[0],n.blockedOn===null);)Yg(n),n.blockedOn===null&&Un.shift()}var mi=Mn.ReactCurrentBatchConfig,Va=!0;function L1(t,e,n,r){var i=ve,s=mi.transition;mi.transition=null;try{ve=1,Ld(t,e,n,r)}finally{ve=i,mi.transition=s}}function x1(t,e,n,r){var i=ve,s=mi.transition;mi.transition=null;try{ve=4,Ld(t,e,n,r)}finally{ve=i,mi.transition=s}}function Ld(t,e,n,r){if(Va){var i=Ic(t,e,n,r);if(i===null)Ll(t,e,r,Ma,n),ap(t,r);else if(M1(i,t,e,n,r))r.stopPropagation();else if(ap(t,r),e&4&&-1<V1.indexOf(t)){for(;i!==null;){var s=ho(i);if(s!==null&&qg(s),s=Ic(t,e,n,r),s===null&&Ll(t,e,r,Ma,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ll(t,e,r,null,n)}}var Ma=null;function Ic(t,e,n,r){if(Ma=null,t=Nd(r),t=Tr(t),t!==null)if(e=jr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ma=t,null}function Xg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k1()){case Vd:return 1;case Ug:return 4;case Da:case C1:return 16;case $g:return 536870912;default:return 16}default:return 16}}var Hn=null,xd=null,pa=null;function Jg(){if(pa)return pa;var t,e=xd,n=e.length,r,i="value"in Hn?Hn.value:Hn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return pa=i.slice(t,1<r?1-r:void 0)}function ma(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ko(){return!0}function lp(){return!1}function xt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ko:lp,this.isPropagationStopped=lp,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),e}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zd=xt(xi),co=Ve({},xi,{view:0,detail:0}),z1=xt(co),Il,Pl,us,hu=Ve({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==us&&(us&&t.type==="mousemove"?(Il=t.screenX-us.screenX,Pl=t.screenY-us.screenY):Pl=Il=0,us=t),Il)},movementY:function(t){return"movementY"in t?t.movementY:Pl}}),cp=xt(hu),F1=Ve({},hu,{dataTransfer:0}),j1=xt(F1),B1=Ve({},co,{relatedTarget:0}),Rl=xt(B1),U1=Ve({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),$1=xt(U1),H1=Ve({},xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W1=xt(H1),q1=Ve({},xi,{data:0}),dp=xt(q1),K1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Q1[t])?!!e[t]:!1}function Fd(){return Y1}var X1=Ve({},co,{key:function(t){if(t.key){var e=K1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ma(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fd,charCode:function(t){return t.type==="keypress"?ma(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ma(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J1=xt(X1),Z1=Ve({},hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hp=xt(Z1),ew=Ve({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fd}),tw=xt(ew),nw=Ve({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),rw=xt(nw),iw=Ve({},hu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sw=xt(iw),ow=[9,13,27,32],jd=Pn&&"CompositionEvent"in window,Cs=null;Pn&&"documentMode"in document&&(Cs=document.documentMode);var aw=Pn&&"TextEvent"in window&&!Cs,Zg=Pn&&(!jd||Cs&&8<Cs&&11>=Cs),fp=" ",pp=!1;function e_(t,e){switch(t){case"keyup":return ow.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ei=!1;function uw(t,e){switch(t){case"compositionend":return t_(e);case"keypress":return e.which!==32?null:(pp=!0,fp);case"textInput":return t=e.data,t===fp&&pp?null:t;default:return null}}function lw(t,e){if(ei)return t==="compositionend"||!jd&&e_(t,e)?(t=Jg(),pa=xd=Hn=null,ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zg&&e.locale!=="ko"?null:e.data;default:return null}}var cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cw[t.type]:e==="textarea"}function n_(t,e,n,r){Vg(r),e=Oa(e,"onChange"),0<e.length&&(n=new zd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var As=null,Us=null;function dw(t){f_(t,0)}function fu(t){var e=ri(t);if(Ag(e))return t}function hw(t,e){if(t==="change")return e}var r_=!1;if(Pn){var bl;if(Pn){var Dl="oninput"in document;if(!Dl){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),Dl=typeof gp.oninput=="function"}bl=Dl}else bl=!1;r_=bl&&(!document.documentMode||9<document.documentMode)}function _p(){As&&(As.detachEvent("onpropertychange",i_),Us=As=null)}function i_(t){if(t.propertyName==="value"&&fu(Us)){var e=[];n_(e,Us,t,Nd(t)),xg(dw,e)}}function fw(t,e,n){t==="focusin"?(_p(),As=e,Us=n,As.attachEvent("onpropertychange",i_)):t==="focusout"&&_p()}function pw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fu(Us)}function mw(t,e){if(t==="click")return fu(e)}function gw(t,e){if(t==="input"||t==="change")return fu(e)}function _w(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var an=typeof Object.is=="function"?Object.is:_w;function $s(t,e){if(an(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lc.call(e,i)||!an(t[i],e[i]))return!1}return!0}function vp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yp(t,e){var n=vp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vp(n)}}function s_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?s_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function o_(){for(var t=window,e=Pa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pa(t.document)}return e}function Bd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vw(t){var e=o_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&s_(n.ownerDocument.documentElement,n)){if(r!==null&&Bd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=yp(n,s);var o=yp(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yw=Pn&&"documentMode"in document&&11>=document.documentMode,ti=null,Pc=null,Is=null,Rc=!1;function wp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rc||ti==null||ti!==Pa(r)||(r=ti,"selectionStart"in r&&Bd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Is&&$s(Is,r)||(Is=r,r=Oa(Pc,"onSelect"),0<r.length&&(e=new zd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ti)))}function Go(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ni={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionend:Go("Transition","TransitionEnd")},Nl={},a_={};Pn&&(a_=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function pu(t){if(Nl[t])return Nl[t];if(!ni[t])return t;var e=ni[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in a_)return Nl[t]=e[n];return t}var u_=pu("animationend"),l_=pu("animationiteration"),c_=pu("animationstart"),d_=pu("transitionend"),h_=new Map,Ep="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(t,e){h_.set(t,e),Fr(e,[t])}for(var Vl=0;Vl<Ep.length;Vl++){var Ml=Ep[Vl],ww=Ml.toLowerCase(),Ew=Ml[0].toUpperCase()+Ml.slice(1);cr(ww,"on"+Ew)}cr(u_,"onAnimationEnd");cr(l_,"onAnimationIteration");cr(c_,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(d_,"onTransitionEnd");wi("onMouseEnter",["mouseout","mouseover"]);wi("onMouseLeave",["mouseout","mouseover"]);wi("onPointerEnter",["pointerout","pointerover"]);wi("onPointerLeave",["pointerout","pointerover"]);Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tw=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function Tp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,w1(r,e,void 0,t),t.currentTarget=null}function f_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Tp(i,l,h),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Tp(i,l,h),s=c}}}if(ba)throw t=kc,ba=!1,kc=null,t}function Ie(t,e){var n=e[Mc];n===void 0&&(n=e[Mc]=new Set);var r=t+"__bubble";n.has(r)||(p_(e,t,2,!1),n.add(r))}function Ol(t,e,n){var r=0;e&&(r|=4),p_(n,t,r,e)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function Hs(t){if(!t[Qo]){t[Qo]=!0,Eg.forEach(function(n){n!=="selectionchange"&&(Tw.has(n)||Ol(n,!1,t),Ol(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qo]||(e[Qo]=!0,Ol("selectionchange",!1,e))}}function p_(t,e,n,r){switch(Xg(e)){case 1:var i=L1;break;case 4:i=x1;break;default:i=Ld}n=i.bind(null,e,n,t),i=void 0,!Sc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ll(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Tr(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}xg(function(){var h=s,w=Nd(n),E=[];e:{var k=h_.get(t);if(k!==void 0){var N=zd,V=t;switch(t){case"keypress":if(ma(n)===0)break e;case"keydown":case"keyup":N=J1;break;case"focusin":V="focus",N=Rl;break;case"focusout":V="blur",N=Rl;break;case"beforeblur":case"afterblur":N=Rl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=j1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=tw;break;case u_:case l_:case c_:N=$1;break;case d_:N=rw;break;case"scroll":N=z1;break;case"wheel":N=sw;break;case"copy":case"cut":case"paste":N=W1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=hp}var b=(e&4)!==0,M=!b&&t==="scroll",I=b?k!==null?k+"Capture":null:k;b=[];for(var C=h,P;C!==null;){P=C;var u=P.stateNode;if(P.tag===5&&u!==null&&(P=u,I!==null&&(u=zs(C,I),u!=null&&b.push(Ws(C,u,P)))),M)break;C=C.return}0<b.length&&(k=new N(k,V,null,n,w),E.push({event:k,listeners:b}))}}if(!(e&7)){e:{if(k=t==="mouseover"||t==="pointerover",N=t==="mouseout"||t==="pointerout",k&&n!==Ec&&(V=n.relatedTarget||n.fromElement)&&(Tr(V)||V[Rn]))break e;if((N||k)&&(k=w.window===w?w:(k=w.ownerDocument)?k.defaultView||k.parentWindow:window,N?(V=n.relatedTarget||n.toElement,N=h,V=V?Tr(V):null,V!==null&&(M=jr(V),V!==M||V.tag!==5&&V.tag!==6)&&(V=null)):(N=null,V=h),N!==V)){if(b=cp,u="onMouseLeave",I="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(b=hp,u="onPointerLeave",I="onPointerEnter",C="pointer"),M=N==null?k:ri(N),P=V==null?k:ri(V),k=new b(u,C+"leave",N,n,w),k.target=M,k.relatedTarget=P,u=null,Tr(w)===h&&(b=new b(I,C+"enter",V,n,w),b.target=P,b.relatedTarget=M,u=b),M=u,N&&V)t:{for(b=N,I=V,C=0,P=b;P;P=Gr(P))C++;for(P=0,u=I;u;u=Gr(u))P++;for(;0<C-P;)b=Gr(b),C--;for(;0<P-C;)I=Gr(I),P--;for(;C--;){if(b===I||I!==null&&b===I.alternate)break t;b=Gr(b),I=Gr(I)}b=null}else b=null;N!==null&&Sp(E,k,N,b,!1),V!==null&&M!==null&&Sp(E,M,V,b,!0)}}e:{if(k=h?ri(h):window,N=k.nodeName&&k.nodeName.toLowerCase(),N==="select"||N==="input"&&k.type==="file")var f=hw;else if(mp(k))if(r_)f=gw;else{f=pw;var p=fw}else(N=k.nodeName)&&N.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(f=mw);if(f&&(f=f(t,h))){n_(E,f,n,w);break e}p&&p(t,k,h),t==="focusout"&&(p=k._wrapperState)&&p.controlled&&k.type==="number"&&gc(k,"number",k.value)}switch(p=h?ri(h):window,t){case"focusin":(mp(p)||p.contentEditable==="true")&&(ti=p,Pc=h,Is=null);break;case"focusout":Is=Pc=ti=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,wp(E,n,w);break;case"selectionchange":if(yw)break;case"keydown":case"keyup":wp(E,n,w)}var m;if(jd)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else ei?e_(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(Zg&&n.locale!=="ko"&&(ei||g!=="onCompositionStart"?g==="onCompositionEnd"&&ei&&(m=Jg()):(Hn=w,xd="value"in Hn?Hn.value:Hn.textContent,ei=!0)),p=Oa(h,g),0<p.length&&(g=new dp(g,t,null,n,w),E.push({event:g,listeners:p}),m?g.data=m:(m=t_(n),m!==null&&(g.data=m)))),(m=aw?uw(t,n):lw(t,n))&&(h=Oa(h,"onBeforeInput"),0<h.length&&(w=new dp("onBeforeInput","beforeinput",null,n,w),E.push({event:w,listeners:h}),w.data=m))}f_(E,e)})}function Ws(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zs(t,n),s!=null&&r.unshift(Ws(t,s,i)),s=zs(t,e),s!=null&&r.push(Ws(t,s,i))),t=t.return}return r}function Gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=zs(n,s),c!=null&&o.unshift(Ws(n,c,l))):i||(c=zs(n,s),c!=null&&o.push(Ws(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Sw=/\r\n?/g,kw=/\u0000|\uFFFD/g;function kp(t){return(typeof t=="string"?t:""+t).replace(Sw,`
`).replace(kw,"")}function Yo(t,e,n){if(e=kp(e),kp(t)!==e&&n)throw Error(W(425))}function La(){}var bc=null,Dc=null;function Nc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vc=typeof setTimeout=="function"?setTimeout:void 0,Cw=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(t){return Cp.resolve(null).then(t).catch(Iw)}:Vc;function Iw(t){setTimeout(function(){throw t})}function xl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bs(e)}function Yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ap(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zi=Math.random().toString(36).slice(2),dn="__reactFiber$"+zi,qs="__reactProps$"+zi,Rn="__reactContainer$"+zi,Mc="__reactEvents$"+zi,Pw="__reactListeners$"+zi,Rw="__reactHandles$"+zi;function Tr(t){var e=t[dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rn]||n[dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ap(t);t!==null;){if(n=t[dn])return n;t=Ap(t)}return e}t=n,n=t.parentNode}return null}function ho(t){return t=t[dn]||t[Rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function mu(t){return t[qs]||null}var Oc=[],ii=-1;function dr(t){return{current:t}}function Pe(t){0>ii||(t.current=Oc[ii],Oc[ii]=null,ii--)}function ke(t,e){ii++,Oc[ii]=t.current,t.current=e}var or={},gt=dr(or),Ct=dr(!1),br=or;function Ei(t,e){var n=t.type.contextTypes;if(!n)return or;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function At(t){return t=t.childContextTypes,t!=null}function xa(){Pe(Ct),Pe(gt)}function Ip(t,e,n){if(gt.current!==or)throw Error(W(168));ke(gt,e),ke(Ct,n)}function m_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,f1(t)||"Unknown",i));return Ve({},n,r)}function za(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||or,br=gt.current,ke(gt,t),ke(Ct,Ct.current),!0}function Pp(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=m_(t,e,br),r.__reactInternalMemoizedMergedChildContext=t,Pe(Ct),Pe(gt),ke(gt,t)):Pe(Ct),ke(Ct,n)}var kn=null,gu=!1,zl=!1;function g_(t){kn===null?kn=[t]:kn.push(t)}function bw(t){gu=!0,g_(t)}function hr(){if(!zl&&kn!==null){zl=!0;var t=0,e=ve;try{var n=kn;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kn=null,gu=!1}catch(i){throw kn!==null&&(kn=kn.slice(t+1)),Bg(Vd,hr),i}finally{ve=e,zl=!1}}return null}var si=[],oi=0,Fa=null,ja=0,Ft=[],jt=0,Dr=null,Cn=1,An="";function yr(t,e){si[oi++]=ja,si[oi++]=Fa,Fa=t,ja=e}function __(t,e,n){Ft[jt++]=Cn,Ft[jt++]=An,Ft[jt++]=Dr,Dr=t;var r=Cn;t=An;var i=32-rn(r)-1;r&=~(1<<i),n+=1;var s=32-rn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cn=1<<32-rn(e)+i|n<<i|r,An=s+t}else Cn=1<<s|n<<i|r,An=t}function Ud(t){t.return!==null&&(yr(t,1),__(t,1,0))}function $d(t){for(;t===Fa;)Fa=si[--oi],si[oi]=null,ja=si[--oi],si[oi]=null;for(;t===Dr;)Dr=Ft[--jt],Ft[jt]=null,An=Ft[--jt],Ft[jt]=null,Cn=Ft[--jt],Ft[jt]=null}var Nt=null,Dt=null,Re=!1,tn=null;function v_(t,e){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nt=t,Dt=Yn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Dr!==null?{id:Cn,overflow:An}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nt=t,Dt=null,!0):!1;default:return!1}}function Lc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xc(t){if(Re){var e=Dt;if(e){var n=e;if(!Rp(t,e)){if(Lc(t))throw Error(W(418));e=Yn(n.nextSibling);var r=Nt;e&&Rp(t,e)?v_(r,n):(t.flags=t.flags&-4097|2,Re=!1,Nt=t)}}else{if(Lc(t))throw Error(W(418));t.flags=t.flags&-4097|2,Re=!1,Nt=t}}}function bp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nt=t}function Xo(t){if(t!==Nt)return!1;if(!Re)return bp(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nc(t.type,t.memoizedProps)),e&&(e=Dt)){if(Lc(t))throw y_(),Error(W(418));for(;e;)v_(t,e),e=Yn(e.nextSibling)}if(bp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=Yn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Nt?Yn(t.stateNode.nextSibling):null;return!0}function y_(){for(var t=Dt;t;)t=Yn(t.nextSibling)}function Ti(){Dt=Nt=null,Re=!1}function Hd(t){tn===null?tn=[t]:tn.push(t)}var Dw=Mn.ReactCurrentBatchConfig;function ls(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Jo(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dp(t){var e=t._init;return e(t._payload)}function w_(t){function e(I,C){if(t){var P=I.deletions;P===null?(I.deletions=[C],I.flags|=16):P.push(C)}}function n(I,C){if(!t)return null;for(;C!==null;)e(I,C),C=C.sibling;return null}function r(I,C){for(I=new Map;C!==null;)C.key!==null?I.set(C.key,C):I.set(C.index,C),C=C.sibling;return I}function i(I,C){return I=er(I,C),I.index=0,I.sibling=null,I}function s(I,C,P){return I.index=P,t?(P=I.alternate,P!==null?(P=P.index,P<C?(I.flags|=2,C):P):(I.flags|=2,C)):(I.flags|=1048576,C)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function l(I,C,P,u){return C===null||C.tag!==6?(C=Wl(P,I.mode,u),C.return=I,C):(C=i(C,P),C.return=I,C)}function c(I,C,P,u){var f=P.type;return f===Zr?w(I,C,P.props.children,u,P.key):C!==null&&(C.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===jn&&Dp(f)===C.type)?(u=i(C,P.props),u.ref=ls(I,C,P),u.return=I,u):(u=Ta(P.type,P.key,P.props,null,I.mode,u),u.ref=ls(I,C,P),u.return=I,u)}function h(I,C,P,u){return C===null||C.tag!==4||C.stateNode.containerInfo!==P.containerInfo||C.stateNode.implementation!==P.implementation?(C=ql(P,I.mode,u),C.return=I,C):(C=i(C,P.children||[]),C.return=I,C)}function w(I,C,P,u,f){return C===null||C.tag!==7?(C=Ir(P,I.mode,u,f),C.return=I,C):(C=i(C,P),C.return=I,C)}function E(I,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Wl(""+C,I.mode,P),C.return=I,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Bo:return P=Ta(C.type,C.key,C.props,null,I.mode,P),P.ref=ls(I,null,C),P.return=I,P;case Jr:return C=ql(C,I.mode,P),C.return=I,C;case jn:var u=C._init;return E(I,u(C._payload),P)}if(gs(C)||is(C))return C=Ir(C,I.mode,P,null),C.return=I,C;Jo(I,C)}return null}function k(I,C,P,u){var f=C!==null?C.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return f!==null?null:l(I,C,""+P,u);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Bo:return P.key===f?c(I,C,P,u):null;case Jr:return P.key===f?h(I,C,P,u):null;case jn:return f=P._init,k(I,C,f(P._payload),u)}if(gs(P)||is(P))return f!==null?null:w(I,C,P,u,null);Jo(I,P)}return null}function N(I,C,P,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return I=I.get(P)||null,l(C,I,""+u,f);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Bo:return I=I.get(u.key===null?P:u.key)||null,c(C,I,u,f);case Jr:return I=I.get(u.key===null?P:u.key)||null,h(C,I,u,f);case jn:var p=u._init;return N(I,C,P,p(u._payload),f)}if(gs(u)||is(u))return I=I.get(P)||null,w(C,I,u,f,null);Jo(C,u)}return null}function V(I,C,P,u){for(var f=null,p=null,m=C,g=C=0,y=null;m!==null&&g<P.length;g++){m.index>g?(y=m,m=null):y=m.sibling;var v=k(I,m,P[g],u);if(v===null){m===null&&(m=y);break}t&&m&&v.alternate===null&&e(I,m),C=s(v,C,g),p===null?f=v:p.sibling=v,p=v,m=y}if(g===P.length)return n(I,m),Re&&yr(I,g),f;if(m===null){for(;g<P.length;g++)m=E(I,P[g],u),m!==null&&(C=s(m,C,g),p===null?f=m:p.sibling=m,p=m);return Re&&yr(I,g),f}for(m=r(I,m);g<P.length;g++)y=N(m,I,g,P[g],u),y!==null&&(t&&y.alternate!==null&&m.delete(y.key===null?g:y.key),C=s(y,C,g),p===null?f=y:p.sibling=y,p=y);return t&&m.forEach(function(T){return e(I,T)}),Re&&yr(I,g),f}function b(I,C,P,u){var f=is(P);if(typeof f!="function")throw Error(W(150));if(P=f.call(P),P==null)throw Error(W(151));for(var p=f=null,m=C,g=C=0,y=null,v=P.next();m!==null&&!v.done;g++,v=P.next()){m.index>g?(y=m,m=null):y=m.sibling;var T=k(I,m,v.value,u);if(T===null){m===null&&(m=y);break}t&&m&&T.alternate===null&&e(I,m),C=s(T,C,g),p===null?f=T:p.sibling=T,p=T,m=y}if(v.done)return n(I,m),Re&&yr(I,g),f;if(m===null){for(;!v.done;g++,v=P.next())v=E(I,v.value,u),v!==null&&(C=s(v,C,g),p===null?f=v:p.sibling=v,p=v);return Re&&yr(I,g),f}for(m=r(I,m);!v.done;g++,v=P.next())v=N(m,I,g,v.value,u),v!==null&&(t&&v.alternate!==null&&m.delete(v.key===null?g:v.key),C=s(v,C,g),p===null?f=v:p.sibling=v,p=v);return t&&m.forEach(function(R){return e(I,R)}),Re&&yr(I,g),f}function M(I,C,P,u){if(typeof P=="object"&&P!==null&&P.type===Zr&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Bo:e:{for(var f=P.key,p=C;p!==null;){if(p.key===f){if(f=P.type,f===Zr){if(p.tag===7){n(I,p.sibling),C=i(p,P.props.children),C.return=I,I=C;break e}}else if(p.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===jn&&Dp(f)===p.type){n(I,p.sibling),C=i(p,P.props),C.ref=ls(I,p,P),C.return=I,I=C;break e}n(I,p);break}else e(I,p);p=p.sibling}P.type===Zr?(C=Ir(P.props.children,I.mode,u,P.key),C.return=I,I=C):(u=Ta(P.type,P.key,P.props,null,I.mode,u),u.ref=ls(I,C,P),u.return=I,I=u)}return o(I);case Jr:e:{for(p=P.key;C!==null;){if(C.key===p)if(C.tag===4&&C.stateNode.containerInfo===P.containerInfo&&C.stateNode.implementation===P.implementation){n(I,C.sibling),C=i(C,P.children||[]),C.return=I,I=C;break e}else{n(I,C);break}else e(I,C);C=C.sibling}C=ql(P,I.mode,u),C.return=I,I=C}return o(I);case jn:return p=P._init,M(I,C,p(P._payload),u)}if(gs(P))return V(I,C,P,u);if(is(P))return b(I,C,P,u);Jo(I,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,C!==null&&C.tag===6?(n(I,C.sibling),C=i(C,P),C.return=I,I=C):(n(I,C),C=Wl(P,I.mode,u),C.return=I,I=C),o(I)):n(I,C)}return M}var Si=w_(!0),E_=w_(!1),Ba=dr(null),Ua=null,ai=null,Wd=null;function qd(){Wd=ai=Ua=null}function Kd(t){var e=Ba.current;Pe(Ba),t._currentValue=e}function zc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gi(t,e){Ua=t,Wd=ai=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kt=!0),t.firstContext=null)}function Ht(t){var e=t._currentValue;if(Wd!==t)if(t={context:t,memoizedValue:e,next:null},ai===null){if(Ua===null)throw Error(W(308));ai=t,Ua.dependencies={lanes:0,firstContext:t}}else ai=ai.next=t;return e}var Sr=null;function Gd(t){Sr===null?Sr=[t]:Sr.push(t)}function T_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gd(e)):(n.next=i.next,i.next=n),e.interleaved=n,bn(t,r)}function bn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bn=!1;function Qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function In(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bn(t,n)}return i=r.interleaved,i===null?(e.next=e,Gd(r)):(e.next=i.next,i.next=e),r.interleaved=e,bn(t,n)}function ga(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Md(t,n)}}function Np(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $a(t,e,n,r){var i=t.updateQueue;Bn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var w=t.alternate;w!==null&&(w=w.updateQueue,l=w.lastBaseUpdate,l!==o&&(l===null?w.firstBaseUpdate=h:l.next=h,w.lastBaseUpdate=c))}if(s!==null){var E=i.baseState;o=0,w=h=c=null,l=s;do{var k=l.lane,N=l.eventTime;if((r&k)===k){w!==null&&(w=w.next={eventTime:N,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var V=t,b=l;switch(k=e,N=n,b.tag){case 1:if(V=b.payload,typeof V=="function"){E=V.call(N,E,k);break e}E=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=b.payload,k=typeof V=="function"?V.call(N,E,k):V,k==null)break e;E=Ve({},E,k);break e;case 2:Bn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,k=i.effects,k===null?i.effects=[l]:k.push(l))}else N={eventTime:N,lane:k,tag:l.tag,payload:l.payload,callback:l.callback,next:null},w===null?(h=w=N,c=E):w=w.next=N,o|=k;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;k=l,l=k.next,k.next=null,i.lastBaseUpdate=k,i.shared.pending=null}}while(!0);if(w===null&&(c=E),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=w,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Vr|=o,t.lanes=o,t.memoizedState=E}}function Vp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var fo={},fn=dr(fo),Ks=dr(fo),Gs=dr(fo);function kr(t){if(t===fo)throw Error(W(174));return t}function Yd(t,e){switch(ke(Gs,e),ke(Ks,t),ke(fn,fo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vc(e,t)}Pe(fn),ke(fn,e)}function ki(){Pe(fn),Pe(Ks),Pe(Gs)}function k_(t){kr(Gs.current);var e=kr(fn.current),n=vc(e,t.type);e!==n&&(ke(Ks,t),ke(fn,n))}function Xd(t){Ks.current===t&&(Pe(fn),Pe(Ks))}var De=dr(0);function Ha(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fl=[];function Jd(){for(var t=0;t<Fl.length;t++)Fl[t]._workInProgressVersionPrimary=null;Fl.length=0}var _a=Mn.ReactCurrentDispatcher,jl=Mn.ReactCurrentBatchConfig,Nr=0,Ne=null,He=null,Qe=null,Wa=!1,Ps=!1,Qs=0,Nw=0;function lt(){throw Error(W(321))}function Zd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!an(t[n],e[n]))return!1;return!0}function eh(t,e,n,r,i,s){if(Nr=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_a.current=t===null||t.memoizedState===null?Lw:xw,t=n(r,i),Ps){s=0;do{if(Ps=!1,Qs=0,25<=s)throw Error(W(301));s+=1,Qe=He=null,e.updateQueue=null,_a.current=zw,t=n(r,i)}while(Ps)}if(_a.current=qa,e=He!==null&&He.next!==null,Nr=0,Qe=He=Ne=null,Wa=!1,e)throw Error(W(300));return t}function th(){var t=Qs!==0;return Qs=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ne.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Wt(){if(He===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Qe===null?Ne.memoizedState:Qe.next;if(e!==null)Qe=e,He=t;else{if(t===null)throw Error(W(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Qe===null?Ne.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Ys(t,e){return typeof e=="function"?e(t):e}function Bl(t){var e=Wt(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=He,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,h=s;do{var w=h.lane;if((Nr&w)===w)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var E={lane:w,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=E,o=r):c=c.next=E,Ne.lanes|=w,Vr|=w}h=h.next}while(h!==null&&h!==s);c===null?o=r:c.next=l,an(r,e.memoizedState)||(kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ne.lanes|=s,Vr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ul(t){var e=Wt(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);an(s,e.memoizedState)||(kt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function C_(){}function A_(t,e){var n=Ne,r=Wt(),i=e(),s=!an(r.memoizedState,i);if(s&&(r.memoizedState=i,kt=!0),r=r.queue,nh(R_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Xs(9,P_.bind(null,n,r,i,e),void 0,null),Ye===null)throw Error(W(349));Nr&30||I_(n,e,i)}return i}function I_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function P_(t,e,n,r){e.value=n,e.getSnapshot=r,b_(e)&&D_(t)}function R_(t,e,n){return n(function(){b_(e)&&D_(t)})}function b_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!an(t,n)}catch{return!0}}function D_(t){var e=bn(t,1);e!==null&&sn(e,t,1,-1)}function Mp(t){var e=ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:t},e.queue=t,t=t.dispatch=Ow.bind(null,Ne,t),[e.memoizedState,t]}function Xs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function N_(){return Wt().memoizedState}function va(t,e,n,r){var i=ln();Ne.flags|=t,i.memoizedState=Xs(1|e,n,void 0,r===void 0?null:r)}function _u(t,e,n,r){var i=Wt();r=r===void 0?null:r;var s=void 0;if(He!==null){var o=He.memoizedState;if(s=o.destroy,r!==null&&Zd(r,o.deps)){i.memoizedState=Xs(e,n,s,r);return}}Ne.flags|=t,i.memoizedState=Xs(1|e,n,s,r)}function Op(t,e){return va(8390656,8,t,e)}function nh(t,e){return _u(2048,8,t,e)}function V_(t,e){return _u(4,2,t,e)}function M_(t,e){return _u(4,4,t,e)}function O_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function L_(t,e,n){return n=n!=null?n.concat([t]):null,_u(4,4,O_.bind(null,e,t),n)}function rh(){}function x_(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function z_(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function F_(t,e,n){return Nr&21?(an(n,e)||(n=Hg(),Ne.lanes|=n,Vr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kt=!0),t.memoizedState=n)}function Vw(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=jl.transition;jl.transition={};try{t(!1),e()}finally{ve=n,jl.transition=r}}function j_(){return Wt().memoizedState}function Mw(t,e,n){var r=Zn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},B_(t))U_(e,n);else if(n=T_(t,e,n,r),n!==null){var i=wt();sn(n,t,r,i),$_(n,e,r)}}function Ow(t,e,n){var r=Zn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(B_(t))U_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,an(l,o)){var c=e.interleaved;c===null?(i.next=i,Gd(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=T_(t,e,i,r),n!==null&&(i=wt(),sn(n,t,r,i),$_(n,e,r))}}function B_(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function U_(t,e){Ps=Wa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Md(t,n)}}var qa={readContext:Ht,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},Lw={readContext:Ht,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:Ht,useEffect:Op,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,va(4194308,4,O_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return va(4194308,4,t,e)},useInsertionEffect:function(t,e){return va(4,2,t,e)},useMemo:function(t,e){var n=ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Mw.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:Mp,useDebugValue:rh,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=Mp(!1),e=t[0];return t=Vw.bind(null,t[1]),ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=ln();if(Re){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ye===null)throw Error(W(349));Nr&30||I_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Op(R_.bind(null,r,s,t),[t]),r.flags|=2048,Xs(9,P_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ln(),e=Ye.identifierPrefix;if(Re){var n=An,r=Cn;n=(r&~(1<<32-rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Nw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xw={readContext:Ht,useCallback:x_,useContext:Ht,useEffect:nh,useImperativeHandle:L_,useInsertionEffect:V_,useLayoutEffect:M_,useMemo:z_,useReducer:Bl,useRef:N_,useState:function(){return Bl(Ys)},useDebugValue:rh,useDeferredValue:function(t){var e=Wt();return F_(e,He.memoizedState,t)},useTransition:function(){var t=Bl(Ys)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:C_,useSyncExternalStore:A_,useId:j_,unstable_isNewReconciler:!1},zw={readContext:Ht,useCallback:x_,useContext:Ht,useEffect:nh,useImperativeHandle:L_,useInsertionEffect:V_,useLayoutEffect:M_,useMemo:z_,useReducer:Ul,useRef:N_,useState:function(){return Ul(Ys)},useDebugValue:rh,useDeferredValue:function(t){var e=Wt();return He===null?e.memoizedState=t:F_(e,He.memoizedState,t)},useTransition:function(){var t=Ul(Ys)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:C_,useSyncExternalStore:A_,useId:j_,unstable_isNewReconciler:!1};function Zt(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vu={isMounted:function(t){return(t=t._reactInternals)?jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wt(),i=Zn(t),s=In(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xn(t,s,i),e!==null&&(sn(e,t,i,r),ga(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wt(),i=Zn(t),s=In(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xn(t,s,i),e!==null&&(sn(e,t,i,r),ga(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wt(),r=Zn(t),i=In(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xn(t,i,r),e!==null&&(sn(e,t,r,n),ga(e,t,r))}};function Lp(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!$s(n,r)||!$s(i,s):!0}function H_(t,e,n){var r=!1,i=or,s=e.contextType;return typeof s=="object"&&s!==null?s=Ht(s):(i=At(e)?br:gt.current,r=e.contextTypes,s=(r=r!=null)?Ei(t,i):or),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vu.enqueueReplaceState(e,e.state,null)}function jc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Qd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ht(s):(s=At(e)?br:gt.current,i.context=Ei(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Fc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vu.enqueueReplaceState(i,i.state,null),$a(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ci(t,e){try{var n="",r=e;do n+=h1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $l(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Fw=typeof WeakMap=="function"?WeakMap:Map;function W_(t,e,n){n=In(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ga||(Ga=!0,Xc=r),Bc(t,e)},n}function q_(t,e,n){n=In(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bc(t,e),typeof r!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Fw;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Zw.bind(null,t,e,n),e.then(t,t))}function Fp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=In(-1,1),e.tag=2,Xn(n,e,1))),n.lanes|=1),t)}var jw=Mn.ReactCurrentOwner,kt=!1;function yt(t,e,n,r){e.child=t===null?E_(e,null,n,r):Si(e,t.child,n,r)}function Bp(t,e,n,r,i){n=n.render;var s=e.ref;return gi(e,i),r=eh(t,e,n,r,s,i),n=th(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(Re&&n&&Ud(e),e.flags|=1,yt(t,e,r,i),e.child)}function Up(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!dh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,K_(t,e,s,r,i)):(t=Ta(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:$s,n(o,r)&&t.ref===e.ref)return Dn(t,e,i)}return e.flags|=1,t=er(s,r),t.ref=e.ref,t.return=e,e.child=t}function K_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if($s(s,r)&&t.ref===e.ref)if(kt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(kt=!0);else return e.lanes=t.lanes,Dn(t,e,i)}return Uc(t,e,n,r,i)}function G_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(li,bt),bt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(li,bt),bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(li,bt),bt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(li,bt),bt|=r;return yt(t,e,i,n),e.child}function Q_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uc(t,e,n,r,i){var s=At(n)?br:gt.current;return s=Ei(e,s),gi(e,i),n=eh(t,e,n,r,s,i),r=th(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(Re&&r&&Ud(e),e.flags|=1,yt(t,e,n,i),e.child)}function $p(t,e,n,r,i){if(At(n)){var s=!0;za(e)}else s=!1;if(gi(e,i),e.stateNode===null)ya(t,e),H_(e,n,r),jc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ht(h):(h=At(n)?br:gt.current,h=Ei(e,h));var w=n.getDerivedStateFromProps,E=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function";E||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==h)&&xp(e,o,r,h),Bn=!1;var k=e.memoizedState;o.state=k,$a(e,r,o,i),c=e.memoizedState,l!==r||k!==c||Ct.current||Bn?(typeof w=="function"&&(Fc(e,n,w,r),c=e.memoizedState),(l=Bn||Lp(e,n,l,r,k,c,h))?(E||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,S_(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Zt(e.type,l),o.props=h,E=e.pendingProps,k=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ht(c):(c=At(n)?br:gt.current,c=Ei(e,c));var N=n.getDerivedStateFromProps;(w=typeof N=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==E||k!==c)&&xp(e,o,r,c),Bn=!1,k=e.memoizedState,o.state=k,$a(e,r,o,i);var V=e.memoizedState;l!==E||k!==V||Ct.current||Bn?(typeof N=="function"&&(Fc(e,n,N,r),V=e.memoizedState),(h=Bn||Lp(e,n,h,r,k,V,c)||!1)?(w||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,V,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,V,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=V),o.props=r,o.state=V,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),r=!1)}return $c(t,e,n,r,s,i)}function $c(t,e,n,r,i,s){Q_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Pp(e,n,!1),Dn(t,e,s);r=e.stateNode,jw.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Si(e,t.child,null,s),e.child=Si(e,null,l,s)):yt(t,e,l,s),e.memoizedState=r.state,i&&Pp(e,n,!0),e.child}function Y_(t){var e=t.stateNode;e.pendingContext?Ip(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ip(t,e.context,!1),Yd(t,e.containerInfo)}function Hp(t,e,n,r,i){return Ti(),Hd(i),e.flags|=256,yt(t,e,n,r),e.child}var Hc={dehydrated:null,treeContext:null,retryLane:0};function Wc(t){return{baseLanes:t,cachePool:null,transitions:null}}function X_(t,e,n){var r=e.pendingProps,i=De.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(De,i&1),t===null)return xc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Eu(o,r,0,null),t=Ir(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Wc(n),e.memoizedState=Hc,t):ih(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Bw(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=er(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=er(l,s):(s=Ir(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Wc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Hc,r}return s=t.child,t=s.sibling,r=er(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ih(t,e){return e=Eu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zo(t,e,n,r){return r!==null&&Hd(r),Si(e,t.child,null,n),t=ih(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bw(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=$l(Error(W(422))),Zo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Eu({mode:"visible",children:r.children},i,0,null),s=Ir(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Si(e,t.child,null,o),e.child.memoizedState=Wc(o),e.memoizedState=Hc,s);if(!(e.mode&1))return Zo(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(W(419)),r=$l(s,r,void 0),Zo(t,e,o,r)}if(l=(o&t.childLanes)!==0,kt||l){if(r=Ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bn(t,i),sn(r,t,i,-1))}return ch(),r=$l(Error(W(421))),Zo(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=e3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dt=Yn(i.nextSibling),Nt=e,Re=!0,tn=null,t!==null&&(Ft[jt++]=Cn,Ft[jt++]=An,Ft[jt++]=Dr,Cn=t.id,An=t.overflow,Dr=e),e=ih(e,r.children),e.flags|=4096,e)}function Wp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zc(t.return,e,n)}function Hl(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function J_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(yt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wp(t,n,e);else if(t.tag===19)Wp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ha(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hl(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ha(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hl(e,!0,n,null,s);break;case"together":Hl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ya(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=er(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=er(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Uw(t,e,n){switch(e.tag){case 3:Y_(e),Ti();break;case 5:k_(e);break;case 1:At(e.type)&&za(e);break;case 4:Yd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(Ba,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?X_(t,e,n):(ke(De,De.current&1),t=Dn(t,e,n),t!==null?t.sibling:null);ke(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return J_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,G_(t,e,n)}return Dn(t,e,n)}var Z_,qc,ev,tv;Z_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qc=function(){};ev=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,kr(fn.current);var s=null;switch(n){case"input":i=pc(t,i),r=pc(t,r),s=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),s=[];break;case"textarea":i=_c(t,i),r=_c(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=La)}yc(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ls.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ls.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ie("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};tv=function(t,e,n,r){n!==r&&(e.flags|=4)};function cs(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $w(t,e,n){var r=e.pendingProps;switch($d(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return At(e.type)&&xa(),ct(e),null;case 3:return r=e.stateNode,ki(),Pe(Ct),Pe(gt),Jd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tn!==null&&(ed(tn),tn=null))),qc(t,e),ct(e),null;case 5:Xd(e);var i=kr(Gs.current);if(n=e.type,t!==null&&e.stateNode!=null)ev(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return ct(e),null}if(t=kr(fn.current),Xo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[dn]=e,r[qs]=s,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<vs.length;i++)Ie(vs[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":ep(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":np(r,s),Ie("invalid",r)}yc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Yo(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Yo(r.textContent,l,t),i=["children",""+l]):Ls.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Uo(r),tp(r,s,!0);break;case"textarea":Uo(r),rp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=La)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[dn]=e,t[qs]=r,Z_(t,e,!1,!1),e.stateNode=t;e:{switch(o=wc(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<vs.length;i++)Ie(vs[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":ep(t,r),i=pc(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":np(t,r),i=_c(t,r),Ie("invalid",t);break;default:i=r}yc(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Ng(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bg(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&xs(t,c):typeof c=="number"&&xs(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ls.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ie("scroll",t):c!=null&&Pd(t,s,c,o))}switch(n){case"input":Uo(t),tp(t,r,!1);break;case"textarea":Uo(t),rp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hi(t,!!r.multiple,s,!1):r.defaultValue!=null&&hi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=La)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ct(e),null;case 6:if(t&&e.stateNode!=null)tv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=kr(Gs.current),kr(fn.current),Xo(e)){if(r=e.stateNode,n=e.memoizedProps,r[dn]=e,(s=r.nodeValue!==n)&&(t=Nt,t!==null))switch(t.tag){case 3:Yo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dn]=e,e.stateNode=r}return ct(e),null;case 13:if(Pe(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&Dt!==null&&e.mode&1&&!(e.flags&128))y_(),Ti(),e.flags|=98560,s=!1;else if(s=Xo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[dn]=e}else Ti(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),s=!1}else tn!==null&&(ed(tn),tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?qe===0&&(qe=3):ch())),e.updateQueue!==null&&(e.flags|=4),ct(e),null);case 4:return ki(),qc(t,e),t===null&&Hs(e.stateNode.containerInfo),ct(e),null;case 10:return Kd(e.type._context),ct(e),null;case 17:return At(e.type)&&xa(),ct(e),null;case 19:if(Pe(De),s=e.memoizedState,s===null)return ct(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)cs(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ha(t),o!==null){for(e.flags|=128,cs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&ze()>Ai&&(e.flags|=128,r=!0,cs(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ha(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return ct(e),null}else 2*ze()-s.renderingStartTime>Ai&&n!==1073741824&&(e.flags|=128,r=!0,cs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,n=De.current,ke(De,r?n&1|2:n&1),e):(ct(e),null);case 22:case 23:return lh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bt&1073741824&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function Hw(t,e){switch($d(e),e.tag){case 1:return At(e.type)&&xa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ki(),Pe(Ct),Pe(gt),Jd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xd(e),null;case 13:if(Pe(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ti()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(De),null;case 4:return ki(),null;case 10:return Kd(e.type._context),null;case 22:case 23:return lh(),null;case 24:return null;default:return null}}var ea=!1,pt=!1,Ww=typeof WeakSet=="function"?WeakSet:Set,X=null;function ui(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Le(t,e,r)}else n.current=null}function Kc(t,e,n){try{n()}catch(r){Le(t,e,r)}}var qp=!1;function qw(t,e){if(bc=Va,t=o_(),Bd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,h=0,w=0,E=t,k=null;t:for(;;){for(var N;E!==n||i!==0&&E.nodeType!==3||(l=o+i),E!==s||r!==0&&E.nodeType!==3||(c=o+r),E.nodeType===3&&(o+=E.nodeValue.length),(N=E.firstChild)!==null;)k=E,E=N;for(;;){if(E===t)break t;if(k===n&&++h===i&&(l=o),k===s&&++w===r&&(c=o),(N=E.nextSibling)!==null)break;E=k,k=E.parentNode}E=N}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dc={focusedElem:t,selectionRange:n},Va=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var V=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var b=V.memoizedProps,M=V.memoizedState,I=e.stateNode,C=I.getSnapshotBeforeUpdate(e.elementType===e.type?b:Zt(e.type,b),M);I.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(u){Le(e,e.return,u)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return V=qp,qp=!1,V}function Rs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Kc(e,n,s)}i=i.next}while(i!==r)}}function yu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nv(t){var e=t.alternate;e!==null&&(t.alternate=null,nv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dn],delete e[qs],delete e[Mc],delete e[Pw],delete e[Rw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rv(t){return t.tag===5||t.tag===3||t.tag===4}function Kp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=La));else if(r!==4&&(t=t.child,t!==null))for(Qc(t,e,n),t=t.sibling;t!==null;)Qc(t,e,n),t=t.sibling}function Yc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yc(t,e,n),t=t.sibling;t!==null;)Yc(t,e,n),t=t.sibling}var Ze=null,en=!1;function Fn(t,e,n){for(n=n.child;n!==null;)iv(t,e,n),n=n.sibling}function iv(t,e,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(du,n)}catch{}switch(n.tag){case 5:pt||ui(n,e);case 6:var r=Ze,i=en;Ze=null,Fn(t,e,n),Ze=r,en=i,Ze!==null&&(en?(t=Ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(en?(t=Ze,n=n.stateNode,t.nodeType===8?xl(t.parentNode,n):t.nodeType===1&&xl(t,n),Bs(t)):xl(Ze,n.stateNode));break;case 4:r=Ze,i=en,Ze=n.stateNode.containerInfo,en=!0,Fn(t,e,n),Ze=r,en=i;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Kc(n,e,o),i=i.next}while(i!==r)}Fn(t,e,n);break;case 1:if(!pt&&(ui(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Le(n,e,l)}Fn(t,e,n);break;case 21:Fn(t,e,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,Fn(t,e,n),pt=r):Fn(t,e,n);break;default:Fn(t,e,n)}}function Gp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ww),e.forEach(function(r){var i=t3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ze=l.stateNode,en=!1;break e;case 3:Ze=l.stateNode.containerInfo,en=!0;break e;case 4:Ze=l.stateNode.containerInfo,en=!0;break e}l=l.return}if(Ze===null)throw Error(W(160));iv(s,o,i),Ze=null,en=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){Le(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sv(e,t),e=e.sibling}function sv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gt(e,t),un(t),r&4){try{Rs(3,t,t.return),yu(3,t)}catch(b){Le(t,t.return,b)}try{Rs(5,t,t.return)}catch(b){Le(t,t.return,b)}}break;case 1:Gt(e,t),un(t),r&512&&n!==null&&ui(n,n.return);break;case 5:if(Gt(e,t),un(t),r&512&&n!==null&&ui(n,n.return),t.flags&32){var i=t.stateNode;try{xs(i,"")}catch(b){Le(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Ig(i,s),wc(l,o);var h=wc(l,s);for(o=0;o<c.length;o+=2){var w=c[o],E=c[o+1];w==="style"?Ng(i,E):w==="dangerouslySetInnerHTML"?bg(i,E):w==="children"?xs(i,E):Pd(i,w,E,h)}switch(l){case"input":mc(i,s);break;case"textarea":Pg(i,s);break;case"select":var k=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var N=s.value;N!=null?hi(i,!!s.multiple,N,!1):k!==!!s.multiple&&(s.defaultValue!=null?hi(i,!!s.multiple,s.defaultValue,!0):hi(i,!!s.multiple,s.multiple?[]:"",!1))}i[qs]=s}catch(b){Le(t,t.return,b)}}break;case 6:if(Gt(e,t),un(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Le(t,t.return,b)}}break;case 3:if(Gt(e,t),un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bs(e.containerInfo)}catch(b){Le(t,t.return,b)}break;case 4:Gt(e,t),un(t);break;case 13:Gt(e,t),un(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ah=ze())),r&4&&Gp(t);break;case 22:if(w=n!==null&&n.memoizedState!==null,t.mode&1?(pt=(h=pt)||w,Gt(e,t),pt=h):Gt(e,t),un(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!w&&t.mode&1)for(X=t,w=t.child;w!==null;){for(E=X=w;X!==null;){switch(k=X,N=k.child,k.tag){case 0:case 11:case 14:case 15:Rs(4,k,k.return);break;case 1:ui(k,k.return);var V=k.stateNode;if(typeof V.componentWillUnmount=="function"){r=k,n=k.return;try{e=r,V.props=e.memoizedProps,V.state=e.memoizedState,V.componentWillUnmount()}catch(b){Le(r,n,b)}}break;case 5:ui(k,k.return);break;case 22:if(k.memoizedState!==null){Yp(E);continue}}N!==null?(N.return=k,X=N):Yp(E)}w=w.sibling}e:for(w=null,E=t;;){if(E.tag===5){if(w===null){w=E;try{i=E.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=E.stateNode,c=E.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Dg("display",o))}catch(b){Le(t,t.return,b)}}}else if(E.tag===6){if(w===null)try{E.stateNode.nodeValue=h?"":E.memoizedProps}catch(b){Le(t,t.return,b)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===t)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===t)break e;for(;E.sibling===null;){if(E.return===null||E.return===t)break e;w===E&&(w=null),E=E.return}w===E&&(w=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:Gt(e,t),un(t),r&4&&Gp(t);break;case 21:break;default:Gt(e,t),un(t)}}function un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rv(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xs(i,""),r.flags&=-33);var s=Kp(t);Yc(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Kp(t);Qc(t,l,o);break;default:throw Error(W(161))}}catch(c){Le(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kw(t,e,n){X=t,ov(t)}function ov(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ea;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||pt;l=ea;var h=pt;if(ea=o,(pt=c)&&!h)for(X=i;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?Xp(i):c!==null?(c.return=o,X=c):Xp(i);for(;s!==null;)X=s,ov(s),s=s.sibling;X=i,ea=l,pt=h}Qp(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):Qp(t)}}function Qp(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pt||yu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Vp(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Vp(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var w=h.memoizedState;if(w!==null){var E=w.dehydrated;E!==null&&Bs(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}pt||e.flags&512&&Gc(e)}catch(k){Le(e,e.return,k)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Yp(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Xp(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yu(4,e)}catch(c){Le(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Le(e,i,c)}}var s=e.return;try{Gc(e)}catch(c){Le(e,s,c)}break;case 5:var o=e.return;try{Gc(e)}catch(c){Le(e,o,c)}}}catch(c){Le(e,e.return,c)}if(e===t){X=null;break}var l=e.sibling;if(l!==null){l.return=e.return,X=l;break}X=e.return}}var Gw=Math.ceil,Ka=Mn.ReactCurrentDispatcher,sh=Mn.ReactCurrentOwner,$t=Mn.ReactCurrentBatchConfig,he=0,Ye=null,Ue=null,nt=0,bt=0,li=dr(0),qe=0,Js=null,Vr=0,wu=0,oh=0,bs=null,St=null,ah=0,Ai=1/0,Sn=null,Ga=!1,Xc=null,Jn=null,ta=!1,Wn=null,Qa=0,Ds=0,Jc=null,wa=-1,Ea=0;function wt(){return he&6?ze():wa!==-1?wa:wa=ze()}function Zn(t){return t.mode&1?he&2&&nt!==0?nt&-nt:Dw.transition!==null?(Ea===0&&(Ea=Hg()),Ea):(t=ve,t!==0||(t=window.event,t=t===void 0?16:Xg(t.type)),t):1}function sn(t,e,n,r){if(50<Ds)throw Ds=0,Jc=null,Error(W(185));lo(t,n,r),(!(he&2)||t!==Ye)&&(t===Ye&&(!(he&2)&&(wu|=n),qe===4&&$n(t,nt)),It(t,r),n===1&&he===0&&!(e.mode&1)&&(Ai=ze()+500,gu&&hr()))}function It(t,e){var n=t.callbackNode;D1(t,e);var r=Na(t,t===Ye?nt:0);if(r===0)n!==null&&op(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&op(n),e===1)t.tag===0?bw(Jp.bind(null,t)):g_(Jp.bind(null,t)),Aw(function(){!(he&6)&&hr()}),n=null;else{switch(Wg(r)){case 1:n=Vd;break;case 4:n=Ug;break;case 16:n=Da;break;case 536870912:n=$g;break;default:n=Da}n=pv(n,av.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function av(t,e){if(wa=-1,Ea=0,he&6)throw Error(W(327));var n=t.callbackNode;if(_i()&&t.callbackNode!==n)return null;var r=Na(t,t===Ye?nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ya(t,r);else{e=r;var i=he;he|=2;var s=lv();(Ye!==t||nt!==e)&&(Sn=null,Ai=ze()+500,Ar(t,e));do try{Xw();break}catch(l){uv(t,l)}while(!0);qd(),Ka.current=s,he=i,Ue!==null?e=0:(Ye=null,nt=0,e=qe)}if(e!==0){if(e===2&&(i=Cc(t),i!==0&&(r=i,e=Zc(t,i))),e===1)throw n=Js,Ar(t,0),$n(t,r),It(t,ze()),n;if(e===6)$n(t,r);else{if(i=t.current.alternate,!(r&30)&&!Qw(i)&&(e=Ya(t,r),e===2&&(s=Cc(t),s!==0&&(r=s,e=Zc(t,s))),e===1))throw n=Js,Ar(t,0),$n(t,r),It(t,ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:wr(t,St,Sn);break;case 3:if($n(t,r),(r&130023424)===r&&(e=ah+500-ze(),10<e)){if(Na(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vc(wr.bind(null,t,St,Sn),e);break}wr(t,St,Sn);break;case 4:if($n(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-rn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gw(r/1960))-r,10<r){t.timeoutHandle=Vc(wr.bind(null,t,St,Sn),r);break}wr(t,St,Sn);break;case 5:wr(t,St,Sn);break;default:throw Error(W(329))}}}return It(t,ze()),t.callbackNode===n?av.bind(null,t):null}function Zc(t,e){var n=bs;return t.current.memoizedState.isDehydrated&&(Ar(t,e).flags|=256),t=Ya(t,e),t!==2&&(e=St,St=n,e!==null&&ed(e)),t}function ed(t){St===null?St=t:St.push.apply(St,t)}function Qw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!an(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $n(t,e){for(e&=~oh,e&=~wu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rn(e),r=1<<n;t[n]=-1,e&=~r}}function Jp(t){if(he&6)throw Error(W(327));_i();var e=Na(t,0);if(!(e&1))return It(t,ze()),null;var n=Ya(t,e);if(t.tag!==0&&n===2){var r=Cc(t);r!==0&&(e=r,n=Zc(t,r))}if(n===1)throw n=Js,Ar(t,0),$n(t,e),It(t,ze()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wr(t,St,Sn),It(t,ze()),null}function uh(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Ai=ze()+500,gu&&hr())}}function Mr(t){Wn!==null&&Wn.tag===0&&!(he&6)&&_i();var e=he;he|=1;var n=$t.transition,r=ve;try{if($t.transition=null,ve=1,t)return t()}finally{ve=r,$t.transition=n,he=e,!(he&6)&&hr()}}function lh(){bt=li.current,Pe(li)}function Ar(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Cw(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch($d(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xa();break;case 3:ki(),Pe(Ct),Pe(gt),Jd();break;case 5:Xd(r);break;case 4:ki();break;case 13:Pe(De);break;case 19:Pe(De);break;case 10:Kd(r.type._context);break;case 22:case 23:lh()}n=n.return}if(Ye=t,Ue=t=er(t.current,null),nt=bt=e,qe=0,Js=null,oh=wu=Vr=0,St=bs=null,Sr!==null){for(e=0;e<Sr.length;e++)if(n=Sr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Sr=null}return t}function uv(t,e){do{var n=Ue;try{if(qd(),_a.current=qa,Wa){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wa=!1}if(Nr=0,Qe=He=Ne=null,Ps=!1,Qs=0,sh.current=null,n===null||n.return===null){qe=1,Js=e,Ue=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=nt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,w=l,E=w.tag;if(!(w.mode&1)&&(E===0||E===11||E===15)){var k=w.alternate;k?(w.updateQueue=k.updateQueue,w.memoizedState=k.memoizedState,w.lanes=k.lanes):(w.updateQueue=null,w.memoizedState=null)}var N=Fp(o);if(N!==null){N.flags&=-257,jp(N,o,l,s,e),N.mode&1&&zp(s,h,e),e=N,c=h;var V=e.updateQueue;if(V===null){var b=new Set;b.add(c),e.updateQueue=b}else V.add(c);break e}else{if(!(e&1)){zp(s,h,e),ch();break e}c=Error(W(426))}}else if(Re&&l.mode&1){var M=Fp(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),jp(M,o,l,s,e),Hd(Ci(c,l));break e}}s=c=Ci(c,l),qe!==4&&(qe=2),bs===null?bs=[s]:bs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=W_(s,c,e);Np(s,I);break e;case 1:l=c;var C=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Jn===null||!Jn.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var u=q_(s,l,e);Np(s,u);break e}}s=s.return}while(s!==null)}dv(n)}catch(f){e=f,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function lv(){var t=Ka.current;return Ka.current=qa,t===null?qa:t}function ch(){(qe===0||qe===3||qe===2)&&(qe=4),Ye===null||!(Vr&268435455)&&!(wu&268435455)||$n(Ye,nt)}function Ya(t,e){var n=he;he|=2;var r=lv();(Ye!==t||nt!==e)&&(Sn=null,Ar(t,e));do try{Yw();break}catch(i){uv(t,i)}while(!0);if(qd(),he=n,Ka.current=r,Ue!==null)throw Error(W(261));return Ye=null,nt=0,qe}function Yw(){for(;Ue!==null;)cv(Ue)}function Xw(){for(;Ue!==null&&!T1();)cv(Ue)}function cv(t){var e=fv(t.alternate,t,bt);t.memoizedProps=t.pendingProps,e===null?dv(t):Ue=e,sh.current=null}function dv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Hw(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Ue=null;return}}else if(n=$w(n,e,bt),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);qe===0&&(qe=5)}function wr(t,e,n){var r=ve,i=$t.transition;try{$t.transition=null,ve=1,Jw(t,e,n,r)}finally{$t.transition=i,ve=r}return null}function Jw(t,e,n,r){do _i();while(Wn!==null);if(he&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(N1(t,s),t===Ye&&(Ue=Ye=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ta||(ta=!0,pv(Da,function(){return _i(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$t.transition,$t.transition=null;var o=ve;ve=1;var l=he;he|=4,sh.current=null,qw(t,n),sv(n,t),vw(Dc),Va=!!bc,Dc=bc=null,t.current=n,Kw(n),S1(),he=l,ve=o,$t.transition=s}else t.current=n;if(ta&&(ta=!1,Wn=t,Qa=i),s=t.pendingLanes,s===0&&(Jn=null),A1(n.stateNode),It(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ga)throw Ga=!1,t=Xc,Xc=null,t;return Qa&1&&t.tag!==0&&_i(),s=t.pendingLanes,s&1?t===Jc?Ds++:(Ds=0,Jc=t):Ds=0,hr(),null}function _i(){if(Wn!==null){var t=Wg(Qa),e=$t.transition,n=ve;try{if($t.transition=null,ve=16>t?16:t,Wn===null)var r=!1;else{if(t=Wn,Wn=null,Qa=0,he&6)throw Error(W(331));var i=he;for(he|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(X=h;X!==null;){var w=X;switch(w.tag){case 0:case 11:case 15:Rs(8,w,s)}var E=w.child;if(E!==null)E.return=w,X=E;else for(;X!==null;){w=X;var k=w.sibling,N=w.return;if(nv(w),w===h){X=null;break}if(k!==null){k.return=N,X=k;break}X=N}}}var V=s.alternate;if(V!==null){var b=V.child;if(b!==null){V.child=null;do{var M=b.sibling;b.sibling=null,b=M}while(b!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rs(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,X=I;break e}X=s.return}}var C=t.current;for(X=C;X!==null;){o=X;var P=o.child;if(o.subtreeFlags&2064&&P!==null)P.return=o,X=P;else e:for(o=C;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yu(9,l)}}catch(f){Le(l,l.return,f)}if(l===o){X=null;break e}var u=l.sibling;if(u!==null){u.return=l.return,X=u;break e}X=l.return}}if(he=i,hr(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(du,t)}catch{}r=!0}return r}finally{ve=n,$t.transition=e}}return!1}function Zp(t,e,n){e=Ci(n,e),e=W_(t,e,1),t=Xn(t,e,1),e=wt(),t!==null&&(lo(t,1,e),It(t,e))}function Le(t,e,n){if(t.tag===3)Zp(t,t,n);else for(;e!==null;){if(e.tag===3){Zp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jn===null||!Jn.has(r))){t=Ci(n,t),t=q_(e,t,1),e=Xn(e,t,1),t=wt(),e!==null&&(lo(e,1,t),It(e,t));break}}e=e.return}}function Zw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wt(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(nt&n)===n&&(qe===4||qe===3&&(nt&130023424)===nt&&500>ze()-ah?Ar(t,0):oh|=n),It(t,e)}function hv(t,e){e===0&&(t.mode&1?(e=Wo,Wo<<=1,!(Wo&130023424)&&(Wo=4194304)):e=1);var n=wt();t=bn(t,e),t!==null&&(lo(t,e,n),It(t,n))}function e3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hv(t,n)}function t3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),hv(t,n)}var fv;fv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kt=!1,Uw(t,e,n);kt=!!(t.flags&131072)}else kt=!1,Re&&e.flags&1048576&&__(e,ja,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ya(t,e),t=e.pendingProps;var i=Ei(e,gt.current);gi(e,n),i=eh(null,e,r,t,i,n);var s=th();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(r)?(s=!0,za(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qd(e),i.updater=vu,e.stateNode=i,i._reactInternals=e,jc(e,r,t,n),e=$c(null,e,r,!0,s,n)):(e.tag=0,Re&&s&&Ud(e),yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ya(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=r3(r),t=Zt(r,t),i){case 0:e=Uc(null,e,r,t,n);break e;case 1:e=$p(null,e,r,t,n);break e;case 11:e=Bp(null,e,r,t,n);break e;case 14:e=Up(null,e,r,Zt(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zt(r,i),Uc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zt(r,i),$p(t,e,r,i,n);case 3:e:{if(Y_(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,S_(t,e),$a(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ci(Error(W(423)),e),e=Hp(t,e,r,n,i);break e}else if(r!==i){i=Ci(Error(W(424)),e),e=Hp(t,e,r,n,i);break e}else for(Dt=Yn(e.stateNode.containerInfo.firstChild),Nt=e,Re=!0,tn=null,n=E_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ti(),r===i){e=Dn(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return k_(e),t===null&&xc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Nc(r,i)?o=null:s!==null&&Nc(r,s)&&(e.flags|=32),Q_(t,e),yt(t,e,o,n),e.child;case 6:return t===null&&xc(e),null;case 13:return X_(t,e,n);case 4:return Yd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Si(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zt(r,i),Bp(t,e,r,i,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke(Ba,r._currentValue),r._currentValue=o,s!==null)if(an(s.value,o)){if(s.children===i.children&&!Ct.current){e=Dn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=In(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var w=h.pending;w===null?c.next=c:(c.next=w.next,w.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),zc(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),zc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gi(e,n),i=Ht(i),r=r(i),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,i=Zt(r,e.pendingProps),i=Zt(r.type,i),Up(t,e,r,i,n);case 15:return K_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zt(r,i),ya(t,e),e.tag=1,At(r)?(t=!0,za(e)):t=!1,gi(e,n),H_(e,r,i),jc(e,r,i,n),$c(null,e,r,!0,t,n);case 19:return J_(t,e,n);case 22:return G_(t,e,n)}throw Error(W(156,e.tag))};function pv(t,e){return Bg(t,e)}function n3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,e,n,r){return new n3(t,e,n,r)}function dh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r3(t){if(typeof t=="function")return dh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bd)return 11;if(t===Dd)return 14}return 2}function er(t,e){var n=t.alternate;return n===null?(n=Ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ta(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")dh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zr:return Ir(n.children,i,s,e);case Rd:o=8,i|=8;break;case cc:return t=Ut(12,n,e,i|2),t.elementType=cc,t.lanes=s,t;case dc:return t=Ut(13,n,e,i),t.elementType=dc,t.lanes=s,t;case hc:return t=Ut(19,n,e,i),t.elementType=hc,t.lanes=s,t;case kg:return Eu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tg:o=10;break e;case Sg:o=9;break e;case bd:o=11;break e;case Dd:o=14;break e;case jn:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Ut(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ir(t,e,n,r){return t=Ut(7,t,r,e),t.lanes=n,t}function Eu(t,e,n,r){return t=Ut(22,t,r,e),t.elementType=kg,t.lanes=n,t.stateNode={isHidden:!1},t}function Wl(t,e,n){return t=Ut(6,t,null,e),t.lanes=n,t}function ql(t,e,n){return e=Ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function i3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hh(t,e,n,r,i,s,o,l,c){return t=new i3(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ut(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qd(s),t}function s3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mv(t){if(!t)return or;t=t._reactInternals;e:{if(jr(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(At(n))return m_(t,n,e)}return e}function gv(t,e,n,r,i,s,o,l,c){return t=hh(n,r,!0,t,i,s,o,l,c),t.context=mv(null),n=t.current,r=wt(),i=Zn(n),s=In(r,i),s.callback=e??null,Xn(n,s,i),t.current.lanes=i,lo(t,i,r),It(t,r),t}function Tu(t,e,n,r){var i=e.current,s=wt(),o=Zn(i);return n=mv(n),e.context===null?e.context=n:e.pendingContext=n,e=In(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xn(i,e,o),t!==null&&(sn(t,i,o,s),ga(t,i,o)),o}function Xa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function em(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fh(t,e){em(t,e),(t=t.alternate)&&em(t,e)}function o3(){return null}var _v=typeof reportError=="function"?reportError:function(t){console.error(t)};function ph(t){this._internalRoot=t}Su.prototype.render=ph.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Tu(t,e,null,null)};Su.prototype.unmount=ph.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mr(function(){Tu(null,t,null,null)}),e[Rn]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Un.length&&e!==0&&e<Un[n].priority;n++);Un.splice(n,0,t),n===0&&Yg(t)}};function mh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ku(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tm(){}function a3(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Xa(o);s.call(h)}}var o=gv(e,r,t,0,null,!1,!1,"",tm);return t._reactRootContainer=o,t[Rn]=o.current,Hs(t.nodeType===8?t.parentNode:t),Mr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Xa(c);l.call(h)}}var c=hh(t,0,!1,null,null,!1,!1,"",tm);return t._reactRootContainer=c,t[Rn]=c.current,Hs(t.nodeType===8?t.parentNode:t),Mr(function(){Tu(e,c,n,r)}),c}function Cu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Xa(o);l.call(c)}}Tu(e,o,t,i)}else o=a3(n,e,t,i,r);return Xa(o)}qg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_s(e.pendingLanes);n!==0&&(Md(e,n|1),It(e,ze()),!(he&6)&&(Ai=ze()+500,hr()))}break;case 13:Mr(function(){var r=bn(t,1);if(r!==null){var i=wt();sn(r,t,1,i)}}),fh(t,1)}};Od=function(t){if(t.tag===13){var e=bn(t,134217728);if(e!==null){var n=wt();sn(e,t,134217728,n)}fh(t,134217728)}};Kg=function(t){if(t.tag===13){var e=Zn(t),n=bn(t,e);if(n!==null){var r=wt();sn(n,t,e,r)}fh(t,e)}};Gg=function(){return ve};Qg=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};Tc=function(t,e,n){switch(e){case"input":if(mc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mu(r);if(!i)throw Error(W(90));Ag(r),mc(r,i)}}}break;case"textarea":Pg(t,n);break;case"select":e=n.value,e!=null&&hi(t,!!n.multiple,e,!1)}};Og=uh;Lg=Mr;var u3={usingClientEntryPoint:!1,Events:[ho,ri,mu,Vg,Mg,uh]},ds={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l3={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fg(t),t===null?null:t.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||o3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{du=na.inject(l3),hn=na}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u3;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mh(e))throw Error(W(200));return s3(t,e,null,n)};Lt.createRoot=function(t,e){if(!mh(t))throw Error(W(299));var n=!1,r="",i=_v;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hh(t,1,!1,null,null,n,!1,r,i),t[Rn]=e.current,Hs(t.nodeType===8?t.parentNode:t),new ph(e)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Fg(e),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return Mr(t)};Lt.hydrate=function(t,e,n){if(!ku(e))throw Error(W(200));return Cu(null,t,e,!0,n)};Lt.hydrateRoot=function(t,e,n){if(!mh(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_v;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gv(e,null,t,1,n??null,i,!1,s,o),t[Rn]=e.current,Hs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Su(e)};Lt.render=function(t,e,n){if(!ku(e))throw Error(W(200));return Cu(null,t,e,!1,n)};Lt.unmountComponentAtNode=function(t){if(!ku(t))throw Error(W(40));return t._reactRootContainer?(Mr(function(){Cu(null,null,t,!1,function(){t._reactRootContainer=null,t[Rn]=null})}),!0):!1};Lt.unstable_batchedUpdates=uh;Lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ku(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Cu(t,e,n,!1,r)};Lt.version="18.3.1-next-f1338f8080-20240426";function vv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vv)}catch(t){console.error(t)}}vv(),vg.exports=Lt;var c3=vg.exports,yv,nm=c3;yv=nm.createRoot,nm.hydrateRoot;function d3(t){const e=t.notes.map((n,r)=>je.jsx("div",{children:je.jsxs("div",{className:`title ${n.id===t.currentNote.id?"selected-note":""}`,onClick:()=>t.setCurrentNoteId(n.id),children:[je.jsx("h4",{className:"text-snippet",children:n.body.split(`
`)[0]==="# Type your markdown note's title here"?`Note ${r+1}`:n.body.split(`
`)[0]}),je.jsx("button",{className:"delete-btn",onClick:()=>t.deleteNote(n.id),children:je.jsx("i",{className:"gg-trash trash-icon"})})]})},n.id));return je.jsxs("section",{className:"pane sidebar",children:[je.jsxs("div",{className:"sidebar--header",children:[je.jsx("h3",{children:"Notes"}),je.jsx("button",{className:"new-note",onClick:t.newNote,children:"+"})]}),e]})}var Kl={},$e={};Object.defineProperty($e,"__esModule",{value:!0});$e.getBreaksNeededForEmptyLineAfter=$e.getBreaksNeededForEmptyLineBefore=$e.selectWord=$e.getSurroundingWord=void 0;function wv(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(o){return o===" "||o.charCodeAt(0)===10},r=0,i=t.length,s=e;s-1>-1;s--)if(n(t[s-1])){r=s;break}for(var s=e;s<t.length;s++)if(n(t[s])){i=s;break}return{start:r,end:i}}$e.getSurroundingWord=wv;function h3(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?wv(e,n.start):n}$e.selectWord=h3;function f3(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}$e.getBreaksNeededForEmptyLineBefore=f3;function p3(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}$e.getBreaksNeededForEmptyLineAfter=p3;var Gl={},po={},On={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(On,"__esModule",{value:!0});On.classNames=void 0;function m3(t){return typeof t=="string"}function g3(t){return Array.isArray(t)&&t.length>0}function _3(t){return typeof t=="object"}function Ev(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if(m3(i))n.push(i);else if(g3(i)){var s=Ev.apply(null,i);s&&n.push(s)}else if(_3(i))for(var o in i)i.hasOwnProperty(o)&&i[o]&&n.push(o)}}return n.join(" ")}On.classNames=Ev;Object.defineProperty(po,"__esModule",{value:!0});po.ToolbarButtonGroup=void 0;var v3=Ot,y3=On,w3=function(t){return v3.createElement("ul",{className:y3.classNames("mde-header-group",{hidden:t.hidden})},t.children)};po.ToolbarButtonGroup=w3;var mo={},ci=ae&&ae.__assign||function(){return ci=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ci.apply(this,arguments)};Object.defineProperty(mo,"__esModule",{value:!0});mo.ToolbarButton=void 0;var rm=Ot,E3={tabIndex:-1},T3=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,s=t.readOnly,o=t.name,l=ci(ci({},E3),r||{}),c=e||"button";return rm.createElement("li",{className:"mde-header-item"},rm.createElement(c,ci(ci({"data-name":o},l),{onClick:i,disabled:s,type:"button"}),n))};mo.ToolbarButton=T3;var go={};Object.defineProperty(go,"__esModule",{value:!0});go.MdeFontAwesomeIcon=void 0;var S3=Ot,k3=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return S3.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};go.MdeFontAwesomeIcon=k3;var Au={},C3=ae&&ae.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Au,"__esModule",{value:!0});Au.Preview=void 0;var ra=Ot,A3=On,I3=function(t){C3(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,s=r.generateMarkdownPreview;s(i).then(function(o){n.setState({preview:o,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,s=n.loadingPreview,o=n.refObject,l=n.heightUnits,c=this.state,h=c.preview,w=c.loading,E=w?s:h,k;typeof E=="string"?k=ra.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:E||"<p>&nbsp;</p>"},ref:o}):k=ra.createElement("div",{className:"mde-preview-content"},E);var N=i&&l?i+10+l:i+10;return ra.createElement("div",{className:A3.classNames("mde-preview",r,{loading:w}),style:{minHeight:N},"data-testid":"mde-preview"},k)},e}(ra.Component);Au.Preview=I3;var Iu={},Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.getCaretCoordinates=void 0;var P3=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],Tv=typeof window<"u",R3=Tv&&window.mozInnerScreenX!=null;function b3(t,e){if(!Tv)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",P3.forEach(function(l){r[l]=i[l]}),R3?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var s=document.createElement("span");s.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(s);var o={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),o}Pu.getCaretCoordinates=b3;var _o={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(_o,"__esModule",{value:!0});_o.insertText=void 0;function D3(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,s=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(N3(t)){var o=document.createTextNode(e),l=t.firstChild;if(!l)t.appendChild(o);else{for(var c=0,h=null,w=null,E=document.createRange();l&&(h===null||w===null);){var k=l.nodeValue.length;i>=c&&i<=c+k&&E.setStart(h=l,i-c),s>=c&&s<=c+k&&E.setEnd(w=l,s-c),c+=k,l=l.nextSibling}i!==s&&E.deleteContents(),E.insertNode(o)}}else{var N=t.value;t.value=N.slice(0,i)+e+N.slice(s)}t.setSelectionRange(i+e.length,i+e.length);var V=document.createEvent("UIEvent");V.initEvent("input",!0,!1),t.dispatchEvent(V)}}_o.insertText=D3;function N3(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.mod=void 0;function V3(t,e){return(t%e+e)%e}Ru.mod=V3;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.SuggestionsDropdown=void 0;var im=Ot,M3=On,O3=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,s=t.suggestionsAutoplace,o=t.focusIndex,l=t.textAreaRef,c=function(b){b.preventDefault();var M=parseInt(b.currentTarget.attributes["data-index"].value);i(M)},h=function(b){return b.preventDefault()},w=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),E=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),k=r.left-l.current.scrollLeft,N=r.top-l.current.scrollTop,V={};return s&&N+l.current.getBoundingClientRect().top>E/2?V.bottom=l.current.offsetHeight-N:V.top=N,s&&k+l.current.getBoundingClientRect().left>w/2?V.right=l.current.offsetWidth-k:V.left=k,im.createElement("ul",{className:M3.classNames("mde-suggestions",e),style:V},n.map(function(b,M){return im.createElement("li",{onClick:c,onMouseDown:h,key:M,"aria-selected":o===M?"true":"false","data-index":""+M},b.preview)}))};vo.SuggestionsDropdown=O3;var L3=ae&&ae.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rt=ae&&ae.__assign||function(){return Rt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rt.apply(this,arguments)};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.TextArea=void 0;var ia=Ot,x3=On,z3=Pu,F3=_o,j3=Ru,B3=vo,U3=function(t){L3(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var s=r.props.onChange;s(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var s=++r.suggestionsPromiseIndex,o=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return o(i,r.state.mention.triggeredBy)}).then(function(l){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===s&&(!l||!l.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:Rt(Rt({},r.state.mention),{status:"active",suggestions:l,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,s){var o=z3.getCaretCoordinates(i,s);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:o,suggestions:[],triggeredBy:s}})},r.handleSuggestionSelected=function(i){var s=r.state.mention;r.getTextArea().selectionStart=s.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),F3.insertText(r.getTextArea(),s.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var s=r.props.onPossibleKeyCommand(i);if(s){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var o=i.key,l=i.shiftKey,c=i.currentTarget,h=c.selectionStart,w=r.state.mention;switch(w.status){case"loading":case"active":if(o==="Escape"||o==="Backspace"&&h<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(w.status==="active"&&(o==="ArrowUp"||o==="ArrowDown")&&!l){i.preventDefault();var E=o==="ArrowUp"?-1:1;r.setState({mention:Rt(Rt({},w),{focusIndex:j3.mod(w.focusIndex+E,w.suggestions.length)})})}else o==="Enter"&&w.status==="active"&&w.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(w.focusIndex));break}}},r.handleKeyUp=function(i){var s=i.key,o=r.state.mention,l=r.props,c=l.suggestionTriggerCharacters,h=l.value;switch(o.status){case"loading":case"active":if(s==="Backspace"){var w=h.substr(o.startPosition,r.getTextArea().selectionStart-o.startPosition);r.startLoadingSuggestions(w),o.status!=="loading"&&r.setState({mention:Rt(Rt({},r.state.mention),{status:"loading"})})}break;case"inactive":if(s==="Backspace"){var E=h.charAt(r.getTextArea().selectionStart-1),k=c.includes(h.charAt(r.getTextArea().selectionStart-1));k&&r.loadEmptySuggestion(i.currentTarget,E)}break}},r.handleKeyPress=function(i){var s=r.props,o=s.suggestionTriggerCharacters,l=s.value,c=r.state.mention,h=i.key;switch(c.status){case"loading":case"active":if(h===" "){r.setState({mention:Rt(Rt({},r.state.mention),{status:"inactive"})});return}var w=l.substr(c.startPosition,r.getTextArea().selectionStart-c.startPosition)+h;r.startLoadingSuggestions(w),c.status!=="loading"&&r.setState({mention:Rt(Rt({},r.state.mention),{status:"loading"})});break;case"inactive":if(o.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(l.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,s=r.readOnly,o=r.textAreaProps,l=r.height,c=r.heightUnits,h=r.value,w=r.suggestionTriggerCharacters,E=r.loadSuggestions,k=r.suggestionsDropdownClasses,N=r.textAreaComponent,V=r.onPaste,b=r.onDrop,M=w&&w.length&&E,I=this.state.mention,C=N||"textarea",P=l&&c?l+c:l;return ia.createElement("div",{className:"mde-textarea-wrapper"},ia.createElement(C,Rt({className:x3.classNames("mde-text",i),style:{height:P},ref:this.props.refObject,readOnly:s,value:h,"data-testid":"text-area"},o,{onChange:function(u){var f;(f=o==null?void 0:o.onChange)===null||f===void 0||f.call(o,u),n.handleOnChange(u)},onBlur:function(u){var f;(f=o==null?void 0:o.onBlur)===null||f===void 0||f.call(o,u),M&&n.handleBlur()},onKeyDown:function(u){var f;(f=o==null?void 0:o.onKeyDown)===null||f===void 0||f.call(o,u),n.handleKeyDown(u)},onKeyUp:function(u){var f;(f=o==null?void 0:o.onKeyUp)===null||f===void 0||f.call(o,u),M&&n.handleKeyUp(u)},onKeyPress:function(u){var f;(f=o==null?void 0:o.onKeyPress)===null||f===void 0||f.call(o,u),M&&n.handleKeyPress(u)},onPaste:function(u){var f;(f=o==null?void 0:o.onPaste)===null||f===void 0||f.call(o,u),V(u)},onDragOver:function(u){u.preventDefault(),u.stopPropagation()},onDrop:function(u){var f;(f=o==null?void 0:o.onDrop)===null||f===void 0||f.call(o,u),b(u),u.preventDefault()}})),I.status==="active"&&I.suggestions.length&&ia.createElement(B3.SuggestionsDropdown,{classes:k,caret:I.caret,suggestions:I.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:I.focusIndex,textAreaRef:this.props.refObject}))},e}(ia.Component);Iu.TextArea=U3;var bu={},$3=ae&&ae.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),di=ae&&ae.__assign||function(){return di=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},di.apply(this,arguments)};Object.defineProperty(bu,"__esModule",{value:!0});bu.Toolbar=void 0;var vr=Ot,Ql=On,H3=po,W3=mo,q3=function(t){$3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,s=i.classes,o=i.children,l=i.buttons,c=i.onCommand,h=i.readOnly,w=i.disablePreview,E=i.writeButtonProps,k=i.previewButtonProps,N=i.buttonProps;if((!l||l.length===0)&&!o)return null;var V=vr.createElement("div",{className:"mde-tabs"},vr.createElement("button",di({type:"button",className:Ql.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},E),r.write),vr.createElement("button",di({type:"button",className:Ql.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},k),r.preview));return vr.createElement("div",{className:Ql.classNames("mde-header",s)},!w&&V,l.map(function(b,M){return vr.createElement(H3.ToolbarButtonGroup,{key:M,hidden:n.props.tab==="preview"},b.map(function(I,C){return vr.createElement(W3.ToolbarButton,{key:C,name:I.commandName,buttonContent:I.buttonContent,buttonProps:di(di({},N||{}),I.buttonProps),onClick:function(){return c(I.commandName)},readOnly:h,buttonComponentClass:I.buttonComponentClass})}))}))},e}(vr.Component);bu.Toolbar=q3;var hs={},pn={},Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.headerCommand=void 0;var K3=$e;function G3(t,e,n){var r=K3.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),s=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:s.selection.end-i.selectedText.length,end:s.selection.end})}Du.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;G3(e,n,"### ")}};var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.boldCommand=void 0;var Q3=$e;Nu.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=Q3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.italicCommand=void 0;var Y3=$e;Vu.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=Y3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:s.selection.end-1-i.selectedText.length,end:s.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.strikeThroughCommand=void 0;var X3=$e;Mu.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=X3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})}};var Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.linkCommand=void 0;var J3=$e;Ou.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=J3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:s.selection.end-6-i.selectedText.length,end:s.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});Lu.quoteCommand=void 0;var Yl=$e;Lu.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=Yl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=Yl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),o=Array(s+1).join(`
`),l=Yl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),c=Array(l+1).join(`
`);n.replaceSelection(o+"> "+i.selectedText+c);var h=i.selection.start+s+2,w=h+i.selectedText.length;n.setSelectionRange({start:h,end:w})}};var xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.codeCommand=void 0;var Xl=$e;xu.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=Xl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var s=i.selection.start+1,o=s+i.selectedText.length;n.setSelectionRange({start:s,end:o});return}var l=Xl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),c=Array(l+1).join(`
`),h=Xl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),w=Array(h+1).join(`
`);n.replaceSelection(c+"```\n"+i.selectedText+"\n```"+w);var E=i.selection.start+l+4,k=E+i.selectedText.length;n.setSelectionRange({start:E,end:k})}};var Sv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=$e;function n(i,s){var o=i.split(/\n/),l=0,c=o.map(function(h,w){if(typeof s=="string")return l+=s.length,s+h;if(typeof s=="function"){var E=s(h,w);return l+=E.length,s(h,w)+h}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:c,insertionLength:l}}t.insertBeforeEachLine=n;var r=function(i,s,o){var l=e.selectWord({text:i.text,selection:i.selection}),c=s.setSelectionRange(l),h=e.getBreaksNeededForEmptyLineBefore(c.text,c.selection.start),w=Array(h+1).join(`
`),E=e.getBreaksNeededForEmptyLineAfter(c.text,c.selection.end),k=Array(E+1).join(`
`),N=n(c.selectedText,o);s.replaceSelection(""+w+N.modifiedText+k);var V=c.selectedText.indexOf(`
`)===-1?N.insertionLength:0,b=c.selection.start+h+V,M=b+N.modifiedText.length-V;s.setSelectionRange({start:b,end:M})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(l,c){return c+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(l,c){return"- [ ] "})}}})(Sv);var zu={};Object.defineProperty(zu,"__esModule",{value:!0});zu.imageCommand=void 0;var Z3=$e;zu.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(Z3.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var Fu={},ju={},eE=ae&&ae.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(w){try{h(r.next(w))}catch(E){o(E)}}function c(w){try{h(r.throw(w))}catch(E){o(E)}}function h(w){w.done?s(w.value):i(w.value).then(l,c)}h((r=r.apply(t,e||[])).next())})},tE=ae&&ae.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(h){return function(w){return c([h,w])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(w){h=[6,w],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(ju,"__esModule",{value:!0});ju.readFileAsync=void 0;function nE(t){return eE(this,void 0,void 0,function(){return tE(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}ju.readFileAsync=nE;var rE=ae&&ae.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(w){try{h(r.next(w))}catch(E){o(E)}}function c(w){try{h(r.throw(w))}catch(E){o(E)}}function h(w){w.done?s(w.value):i(w.value).then(l,c)}h((r=r.apply(t,e||[])).next())})},iE=ae&&ae.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(h){return function(w){return c([h,w])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(w){h=[6,w],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.saveImageCommand=void 0;var sE=ju,oE=$e;function sm(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function aE(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function uE(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var s=r.split(","),o=new Set(s.filter(function(h){return/^\.\w+/.test(h)}).map(function(h){return h.split(".")[1]})),l=new Set(s.filter(function(h){return/^[-\w.]+\/[-\w.]+$/.test(h)})),c=new Set(s.filter(function(h){return/(audio|video|image)\/\*/.test(h)}).map(function(h){return h.split("/")[0]}));i=i.filter(function(h){return o.has(h.name.split(".")[1])||l.has(h.type)||c.has(h.type.split("/")[0])})}return i}Fu.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return rE(this,void 0,void 0,function(){var i,s,o,l,c,h,w,E,k,N,V,b,M,I,C,P,u,f,p,m,g,y,v,T;return iE(this,function(R){switch(R.label){case 0:if(!n)throw new Error("wrong context");i=n,s=i.event,o=i.pasteOptions,l=o.saveImage,c=o.multiple,h=o.accept,w=lE(n)?sm(s.clipboardData.items):cE(n)?sm(s.dataTransfer.items):aE(s.target.files),E=uE(w,{multiple:c,accept:h}),k=[];for(N in E)k.push(N);V=0,R.label=1;case 1:return V<k.length?(b=k[V],M=e.getState(),I=oE.getBreaksNeededForEmptyLineBefore(M.text,M.selection.start),C=Array(I+1).join(`
`),P=C+"!["+r.uploadingImage+"]()",e.replaceSelection(P),u=w[b],[4,sE.readFileAsync(u)]):[3,5];case 2:return f=R.sent(),p=l(f,u),[4,p.next()];case 3:m=R.sent().value,g=e.getState(),y=g.text.substr(M.selection.start,P.length),y===P&&(e.setSelectionRange({start:M.selection.start,end:M.selection.start+P.length}),v=m?C+"![image]("+m+")":"",T=v.length-P.length,e.replaceSelection(v),e.setSelectionRange({start:g.selection.start+T,end:g.selection.end+T})),R.label=4;case 4:return V++,[3,1];case 5:return[2]}})})}};function lE(t){return t.event.clipboardData!==void 0}function cE(t){return t.event.dataTransfer!==void 0}Object.defineProperty(pn,"__esModule",{value:!0});pn.getDefaultSaveImageCommandName=pn.getDefaultCommandMap=pn.getDefaultToolbarCommands=void 0;var dE=Du,hE=Nu,fE=Vu,pE=Mu,mE=Ou,gE=Lu,_E=xu,Jl=Sv,vE=zu,yE=Fu;function wE(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}pn.getDefaultToolbarCommands=wE;function EE(){return{header:dE.headerCommand,bold:hE.boldCommand,italic:fE.italicCommand,strikethrough:pE.strikeThroughCommand,link:mE.linkCommand,quote:gE.quoteCommand,code:_E.codeCommand,image:vE.imageCommand,"unordered-list":Jl.unorderedListCommand,"ordered-list":Jl.orderedListCommand,"checked-list":Jl.checkedListCommand,"save-image":yE.saveImageCommand}}pn.getDefaultCommandMap=EE;function TE(){return"save-image"}pn.getDefaultSaveImageCommandName=TE;var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.enL18n=void 0;Bu.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var gh={},Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.SvgIcon=void 0;var xe=Ot,SE=xe.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},xe.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),kE=xe.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},xe.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),CE=xe.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},xe.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),AE=xe.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},xe.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),IE=xe.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},xe.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),PE=xe.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},xe.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),RE=xe.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},xe.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),bE=xe.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},xe.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),DE=xe.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},xe.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),NE=xe.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},xe.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),VE=xe.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},xe.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),ME=function(t){var e=t.icon;switch(e){case"header":return NE;case"bold":return VE;case"italic":return DE;case"strikethrough":return bE;case"link":return RE;case"quote":return PE;case"code":return IE;case"image":return AE;case"unordered-list":return CE;case"ordered-list":return kE;case"checked-list":return SE;default:return null}};Uu.SvgIcon=ME;(function(t){var e=ae&&ae.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=ae&&ae.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(go,t),n(Uu,t)})(gh);var En={},$u={};Object.defineProperty($u,"__esModule",{value:!0});$u.extractKeyActivatedCommands=void 0;function OE(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}$u.extractKeyActivatedCommands=OE;var om;function LE(){if(om)return En;om=1;var t=ae&&ae.__assign||function(){return t=Object.assign||function(w){for(var E,k=1,N=arguments.length;k<N;k++){E=arguments[k];for(var V in E)Object.prototype.hasOwnProperty.call(E,V)&&(w[V]=E[V])}return w},t.apply(this,arguments)},e=ae&&ae.__awaiter||function(w,E,k,N){function V(b){return b instanceof k?b:new k(function(M){M(b)})}return new(k||(k=Promise))(function(b,M){function I(u){try{P(N.next(u))}catch(f){M(f)}}function C(u){try{P(N.throw(u))}catch(f){M(f)}}function P(u){u.done?b(u.value):V(u.value).then(I,C)}P((N=N.apply(w,E||[])).next())})},n=ae&&ae.__generator||function(w,E){var k={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},N,V,b,M;return M={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function I(P){return function(u){return C([P,u])}}function C(P){if(N)throw new TypeError("Generator is already executing.");for(;k;)try{if(N=1,V&&(b=P[0]&2?V.return:P[0]?V.throw||((b=V.return)&&b.call(V),0):V.next)&&!(b=b.call(V,P[1])).done)return b;switch(V=0,b&&(P=[P[0]&2,b.value]),P[0]){case 0:case 1:b=P;break;case 4:return k.label++,{value:P[1],done:!1};case 5:k.label++,V=P[1],P=[0];continue;case 7:P=k.ops.pop(),k.trys.pop();continue;default:if(b=k.trys,!(b=b.length>0&&b[b.length-1])&&(P[0]===6||P[0]===2)){k=0;continue}if(P[0]===3&&(!b||P[1]>b[0]&&P[1]<b[3])){k.label=P[1];break}if(P[0]===6&&k.label<b[1]){k.label=b[1],b=P;break}if(b&&k.label<b[2]){k.label=b[2],k.ops.push(P);break}b[2]&&k.ops.pop(),k.trys.pop();continue}P=E.call(w,k)}catch(u){P=[6,u],V=0}finally{N=b=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}};Object.defineProperty(En,"__esModule",{value:!0}),En.CommandOrchestrator=En.getStateFromTextArea=En.TextAreaTextApi=void 0;var r=Cv(),i=_o,s=$u,o=pn,l=function(){function w(E){this.textAreaRef=E}return w.prototype.replaceSelection=function(E){var k=this.textAreaRef.current;return i.insertText(k,E),c(k)},w.prototype.setSelectionRange=function(E){var k=this.textAreaRef.current;return k.focus(),k.selectionStart=E.start,k.selectionEnd=E.end,c(k)},w.prototype.getState=function(){var E=this.textAreaRef.current;return c(E)},w}();En.TextAreaTextApi=l;function c(w){return{selection:{start:w.selectionStart,end:w.selectionEnd},text:w.value,selectedText:w.value.slice(w.selectionStart,w.selectionEnd)}}En.getStateFromTextArea=c;var h=function(){function w(E,k,N,V){var b=this;if(this.getCommand=function(M){var I=b.commandMap[M];if(!I)throw new Error("Cannot execute command. Command not found: "+M);return I},this.handlePossibleKeyCommand=function(M){for(var I=0,C=b.keyActivatedCommands;I<C.length;I++){var P=C[I];if(b.getCommand(P).handleKeyCommand(M))return b.executeCommand(P).then(function(u){}),!0}return!1},V&&!V.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),E||{}),this.pasteOptions=V,this.keyActivatedCommands=s.extractKeyActivatedCommands(E),this.textAreaRef=k,this.textApi=new l(k),this.l18n=N}return w.prototype.executeCommand=function(E,k){return e(this,void 0,void 0,function(){var N,V;return n(this,function(b){switch(b.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,N=this.commandMap[E],V=N.execute({initialState:c(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:k}),[4,V]);case 1:return b.sent(),this.isExecuting=!1,[2]}})})},w.prototype.executePasteCommand=function(E){return e(this,void 0,void 0,function(){return n(this,function(k){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:E})]:[2]})})},w.prototype.executeDropCommand=function(E){return e(this,void 0,void 0,function(){return n(this,function(k){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:E})]:[2]})})},w.prototype.executeSelectImageCommand=function(E){return e(this,void 0,void 0,function(){return n(this,function(k){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:E})]:[2]})})},w.prototype.getCommandByName=function(E){return this.commandMap[E]},w}();return En.CommandOrchestrator=h,En}var am;function xE(){if(am)return hs;am=1;var t=ae&&ae.__extends||function(){var N=function(V,b){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,I){M.__proto__=I}||function(M,I){for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(M[C]=I[C])},N(V,b)};return function(V,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");N(V,b);function M(){this.constructor=V}V.prototype=b===null?Object.create(b):(M.prototype=b.prototype,new M)}}(),e=ae&&ae.__assign||function(){return e=Object.assign||function(N){for(var V,b=1,M=arguments.length;b<M;b++){V=arguments[b];for(var I in V)Object.prototype.hasOwnProperty.call(V,I)&&(N[I]=V[I])}return N},e.apply(this,arguments)},n=ae&&ae.__awaiter||function(N,V,b,M){function I(C){return C instanceof b?C:new b(function(P){P(C)})}return new(b||(b=Promise))(function(C,P){function u(m){try{p(M.next(m))}catch(g){P(g)}}function f(m){try{p(M.throw(m))}catch(g){P(g)}}function p(m){m.done?C(m.value):I(m.value).then(u,f)}p((M=M.apply(N,V||[])).next())})},r=ae&&ae.__generator||function(N,V){var b={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},M,I,C,P;return P={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function u(p){return function(m){return f([p,m])}}function f(p){if(M)throw new TypeError("Generator is already executing.");for(;b;)try{if(M=1,I&&(C=p[0]&2?I.return:p[0]?I.throw||((C=I.return)&&C.call(I),0):I.next)&&!(C=C.call(I,p[1])).done)return C;switch(I=0,C&&(p=[p[0]&2,C.value]),p[0]){case 0:case 1:C=p;break;case 4:return b.label++,{value:p[1],done:!1};case 5:b.label++,I=p[1],p=[0];continue;case 7:p=b.ops.pop(),b.trys.pop();continue;default:if(C=b.trys,!(C=C.length>0&&C[C.length-1])&&(p[0]===6||p[0]===2)){b=0;continue}if(p[0]===3&&(!C||p[1]>C[0]&&p[1]<C[3])){b.label=p[1];break}if(p[0]===6&&b.label<C[1]){b.label=C[1],C=p;break}if(C&&b.label<C[2]){b.label=C[2],b.ops.push(p);break}C[2]&&b.ops.pop(),b.trys.pop();continue}p=V.call(N,b)}catch(m){p=[6,m],I=0}finally{M=C=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(hs,"__esModule",{value:!0}),hs.ReactMde=void 0;var i=Ot,s=kv(),o=pn,l=Bu,c=gh,h=On,w=LE(),E={accept:"image/*",multiple:!1},k=function(N){t(V,N);function V(b){var M,I=N.call(this,b)||this;I.handleTextChange=function(P){var u=I.props.onChange;u(P)},I.handlePaste=function(P){return n(I,void 0,void 0,function(){var u;return r(this,function(f){switch(f.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(P)];case 1:return f.sent(),[2]}})})},I.handleDrop=function(P){return n(I,void 0,void 0,function(){var u;return r(this,function(f){switch(f.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(P)];case 1:return f.sent(),[2]}})})},I.handleImageSelection=function(P){return n(I,void 0,void 0,function(){var u;return r(this,function(f){switch(f.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(P)];case 1:return f.sent(),[2]}})})},I.handleTabChange=function(P){var u=I.props.onTabChange;u(P)},I.handleCommand=function(P){return n(I,void 0,void 0,function(){return r(this,function(u){switch(u.label){case 0:return[4,this.commandOrchestrator.executeCommand(P)];case 1:return u.sent(),[2]}})})},I.finalRefs=e({},b.refs||{}),I.finalRefs.textarea||(I.finalRefs.textarea=i.createRef()),I.finalRefs.preview||(I.finalRefs.preview=i.createRef()),I.commandOrchestrator=new w.CommandOrchestrator(I.props.commands,I.finalRefs.textarea,I.props.l18n,I.props.paste?e(e({},E),I.props.paste):void 0);var C=Math.min(b.maxEditorHeight,b.minEditorHeight);return I.state={editorHeight:(M=b.initialEditorHeight)!==null&&M!==void 0?M:C},I}return V.prototype.render=function(){var b=this,M,I,C=this.props,P=C.getIcon,u=C.toolbarCommands,f=C.classes,p=C.loadingPreview,m=C.readOnly,g=C.disablePreview,y=C.value,v=C.l18n,T=C.minPreviewHeight,R=C.heightUnits,S=C.childProps,z=C.selectedTab,B=C.generateMarkdownPreview,D=C.loadSuggestions,F=C.suggestionTriggerCharacters,L=C.textAreaComponent,j=S||{},Q=u.map(function(q){return q.map(function(ne){var oe=b.commandOrchestrator.getCommand(ne);return{commandName:ne,buttonContent:oe.icon?oe.icon(P):P(ne),buttonProps:oe.buttonProps,buttonComponentClass:oe.buttonComponentClass}})});return i.createElement("div",{className:h.classNames("react-mde","react-mde-tabbed-layout",f==null?void 0:f.reactMde)},i.createElement(s.Toolbar,{classes:f==null?void 0:f.toolbar,buttons:Q,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:z,readOnly:m,disablePreview:g,l18n:v,buttonProps:j.commandButtons,writeButtonProps:j.writeButton,previewButtonProps:j.previewButton}),i.createElement("div",{className:h.classNames({invisible:z!=="write"})},i.createElement(s.TextArea,{classes:f==null?void 0:f.textArea,suggestionsDropdownClasses:f==null?void 0:f.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:m,textAreaComponent:L,textAreaProps:S&&S.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:y,suggestionTriggerCharacters:F,loadSuggestions:D,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:h.classNames("image-tip")},i.createElement("input",{className:h.classNames("image-input"),type:"file",accept:(M=this.props.paste.accept)!==null&&M!==void 0?M:E.accept,multiple:(I=this.props.paste.multiple)!==null&&I!==void 0?I:E.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,v.pasteDropSelect))),z!=="write"&&i.createElement(s.Preview,{classes:f==null?void 0:f.preview,refObject:this.finalRefs.preview,loadingPreview:p,minHeight:T,heightUnits:R,generateMarkdownPreview:B,markdown:y}))},V.defaultProps={commands:o.getDefaultCommandMap(),toolbarCommands:o.getDefaultToolbarCommands(),getIcon:function(b){return i.createElement(c.SvgIcon,{icon:b})},readOnly:!1,l18n:l.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},V}(i.Component);return hs.ReactMde=k,hs}var um;function kv(){return um||(um=1,function(t){var e=ae&&ae.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=ae&&ae.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(po,t),n(mo,t),n(go,t),n(Au,t),n(Iu,t),n(bu,t),n(xE(),t),n(vo,t)}(Gl)),Gl}var lm;function Cv(){return lm||(lm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=$e;t.MarkdownUtil=e;var n=kv();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=gh;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=pn;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(Kl)),Kl}var zE=Cv();const FE=lu(zE);var Av={exports:{}};(function(t){(function(){function e(u){var f={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(u===!1)return JSON.parse(JSON.stringify(f));var p={};for(var m in f)f.hasOwnProperty(m)&&(p[m]=f[m].defaultValue);return p}function n(){var u=e(!0),f={};for(var p in u)u.hasOwnProperty(p)&&(f[p]=!0);return f}var r={},i={},s={},o=e(!0),l="vanilla",c={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(u,f){return o[u]=f,this},r.getOption=function(u){return o[u]},r.getOptions=function(){return o},r.resetOptions=function(){o=e(!0)},r.setFlavor=function(u){if(!c.hasOwnProperty(u))throw Error(u+" flavor was not found");r.resetOptions();var f=c[u];l=u;for(var p in f)f.hasOwnProperty(p)&&(o[p]=f[p])},r.getFlavor=function(){return l},r.getFlavorOptions=function(u){if(c.hasOwnProperty(u))return c[u]},r.getDefaultOptions=function(u){return e(u)},r.subParser=function(u,f){if(r.helper.isString(u))if(typeof f<"u")i[u]=f;else{if(i.hasOwnProperty(u))return i[u];throw Error("SubParser named "+u+" not registered!")}},r.extension=function(u,f){if(!r.helper.isString(u))throw Error("Extension 'name' must be a string");if(u=r.helper.stdExtName(u),r.helper.isUndefined(f)){if(!s.hasOwnProperty(u))throw Error("Extension named "+u+" is not registered!");return s[u]}else{typeof f=="function"&&(f=f()),r.helper.isArray(f)||(f=[f]);var p=h(f,u);if(p.valid)s[u]=f;else throw Error(p.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(u){delete s[u]},r.resetExtensions=function(){s={}};function h(u,f){var p=f?"Error in "+f+" extension->":"Error in unnamed extension",m={valid:!0,error:""};r.helper.isArray(u)||(u=[u]);for(var g=0;g<u.length;++g){var y=p+" sub-extension "+g+": ",v=u[g];if(typeof v!="object")return m.valid=!1,m.error=y+"must be an object, but "+typeof v+" given",m;if(!r.helper.isString(v.type))return m.valid=!1,m.error=y+'property "type" must be a string, but '+typeof v.type+" given",m;var T=v.type=v.type.toLowerCase();if(T==="language"&&(T=v.type="lang"),T==="html"&&(T=v.type="output"),T!=="lang"&&T!=="output"&&T!=="listener")return m.valid=!1,m.error=y+"type "+T+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',m;if(T==="listener"){if(r.helper.isUndefined(v.listeners))return m.valid=!1,m.error=y+'. Extensions of type "listener" must have a property called "listeners"',m}else if(r.helper.isUndefined(v.filter)&&r.helper.isUndefined(v.regex))return m.valid=!1,m.error=y+T+' extensions must define either a "regex" property or a "filter" method',m;if(v.listeners){if(typeof v.listeners!="object")return m.valid=!1,m.error=y+'"listeners" property must be an object but '+typeof v.listeners+" given",m;for(var R in v.listeners)if(v.listeners.hasOwnProperty(R)&&typeof v.listeners[R]!="function")return m.valid=!1,m.error=y+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+R+" must be a function but "+typeof v.listeners[R]+" given",m}if(v.filter){if(typeof v.filter!="function")return m.valid=!1,m.error=y+'"filter" must be a function, but '+typeof v.filter+" given",m}else if(v.regex){if(r.helper.isString(v.regex)&&(v.regex=new RegExp(v.regex,"g")),!(v.regex instanceof RegExp))return m.valid=!1,m.error=y+'"regex" property must either be a string or a RegExp object, but '+typeof v.regex+" given",m;if(r.helper.isUndefined(v.replace))return m.valid=!1,m.error=y+'"regex" extensions must implement a replace string or function',m}}return m}r.validateExtension=function(u){var f=h(u,null);return f.valid?!0:(console.warn(f.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(u){return typeof u=="string"||u instanceof String},r.helper.isFunction=function(u){var f={};return u&&f.toString.call(u)==="[object Function]"},r.helper.isArray=function(u){return Array.isArray(u)},r.helper.isUndefined=function(u){return typeof u>"u"},r.helper.forEach=function(u,f){if(r.helper.isUndefined(u))throw new Error("obj param is required");if(r.helper.isUndefined(f))throw new Error("callback param is required");if(!r.helper.isFunction(f))throw new Error("callback param must be a function/closure");if(typeof u.forEach=="function")u.forEach(f);else if(r.helper.isArray(u))for(var p=0;p<u.length;p++)f(u[p],p,u);else if(typeof u=="object")for(var m in u)u.hasOwnProperty(m)&&f(u[m],m,u);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(u){return u.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function w(u,f){var p=f.charCodeAt(0);return"¨E"+p+"E"}r.helper.escapeCharactersCallback=w,r.helper.escapeCharacters=function(u,f,p){var m="(["+f.replace(/([\[\]\\])/g,"\\$1")+"])";p&&(m="\\\\"+m);var g=new RegExp(m,"g");return u=u.replace(g,w),u},r.helper.unescapeHTMLEntities=function(u){return u.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var E=function(u,f,p,m){var g=m||"",y=g.indexOf("g")>-1,v=new RegExp(f+"|"+p,"g"+g.replace(/g/g,"")),T=new RegExp(f,g.replace(/g/g,"")),R=[],S,z,B,D,F;do for(S=0;B=v.exec(u);)if(T.test(B[0]))S++||(z=v.lastIndex,D=z-B[0].length);else if(S&&!--S){F=B.index+B[0].length;var L={left:{start:D,end:z},match:{start:z,end:B.index},right:{start:B.index,end:F},wholeMatch:{start:D,end:F}};if(R.push(L),!y)return R}while(S&&(v.lastIndex=z));return R};r.helper.matchRecursiveRegExp=function(u,f,p,m){for(var g=E(u,f,p,m),y=[],v=0;v<g.length;++v)y.push([u.slice(g[v].wholeMatch.start,g[v].wholeMatch.end),u.slice(g[v].match.start,g[v].match.end),u.slice(g[v].left.start,g[v].left.end),u.slice(g[v].right.start,g[v].right.end)]);return y},r.helper.replaceRecursiveRegExp=function(u,f,p,m,g){if(!r.helper.isFunction(f)){var y=f;f=function(){return y}}var v=E(u,p,m,g),T=u,R=v.length;if(R>0){var S=[];v[0].wholeMatch.start!==0&&S.push(u.slice(0,v[0].wholeMatch.start));for(var z=0;z<R;++z)S.push(f(u.slice(v[z].wholeMatch.start,v[z].wholeMatch.end),u.slice(v[z].match.start,v[z].match.end),u.slice(v[z].left.start,v[z].left.end),u.slice(v[z].right.start,v[z].right.end))),z<R-1&&S.push(u.slice(v[z].wholeMatch.end,v[z+1].wholeMatch.start));v[R-1].wholeMatch.end<u.length&&S.push(u.slice(v[R-1].wholeMatch.end)),T=S.join("")}return T},r.helper.regexIndexOf=function(u,f,p){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(f instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var m=u.substring(p||0).search(f);return m>=0?m+(p||0):m},r.helper.splitAtIndex=function(u,f){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[u.substring(0,f),u.substring(f)]},r.helper.encodeEmailAddress=function(u){var f=[function(p){return"&#"+p.charCodeAt(0)+";"},function(p){return"&#x"+p.charCodeAt(0).toString(16)+";"},function(p){return p}];return u=u.replace(/./g,function(p){if(p==="@")p=f[Math.floor(Math.random()*2)](p);else{var m=Math.random();p=m>.9?f[2](p):m>.45?f[1](p):f[0](p)}return p}),u},r.helper.padEnd=function(f,p,m){return p=p>>0,m=String(m||" "),f.length>p?String(f):(p=p-f.length,p>m.length&&(m+=m.repeat(p/m.length)),String(f)+m.slice(0,p))},typeof console>"u"&&(console={warn:function(u){alert(u)},log:function(u){alert(u)},error:function(u){throw u}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(u){var f={},p=[],m=[],g={},y=l,v={parsed:{},raw:"",format:""};T();function T(){u=u||{};for(var D in o)o.hasOwnProperty(D)&&(f[D]=o[D]);if(typeof u=="object")for(var F in u)u.hasOwnProperty(F)&&(f[F]=u[F]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof u+" was passed instead.");f.extensions&&r.helper.forEach(f.extensions,R)}function R(D,F){if(F=F||null,r.helper.isString(D))if(D=r.helper.stdExtName(D),F=D,r.extensions[D]){console.warn("DEPRECATION WARNING: "+D+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),S(r.extensions[D],D);return}else if(!r.helper.isUndefined(s[D]))D=s[D];else throw Error('Extension "'+D+'" could not be loaded. It was either not found or is not a valid extension.');typeof D=="function"&&(D=D()),r.helper.isArray(D)||(D=[D]);var L=h(D,F);if(!L.valid)throw Error(L.error);for(var j=0;j<D.length;++j){switch(D[j].type){case"lang":p.push(D[j]);break;case"output":m.push(D[j]);break}if(D[j].hasOwnProperty("listeners"))for(var Q in D[j].listeners)D[j].listeners.hasOwnProperty(Q)&&z(Q,D[j].listeners[Q])}}function S(D,F){typeof D=="function"&&(D=D(new r.Converter)),r.helper.isArray(D)||(D=[D]);var L=h(D,F);if(!L.valid)throw Error(L.error);for(var j=0;j<D.length;++j)switch(D[j].type){case"lang":p.push(D[j]);break;case"output":m.push(D[j]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function z(D,F){if(!r.helper.isString(D))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof D+" given");if(typeof F!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof F+" given");g.hasOwnProperty(D)||(g[D]=[]),g[D].push(F)}function B(D){var F=D.match(/^\s*/)[0].length,L=new RegExp("^\\s{0,"+F+"}","gm");return D.replace(L,"")}this._dispatch=function(F,L,j,Q){if(g.hasOwnProperty(F))for(var q=0;q<g[F].length;++q){var ne=g[F][q](F,L,this,j,Q);ne&&typeof ne<"u"&&(L=ne)}return L},this.listen=function(D,F){return z(D,F),this},this.makeHtml=function(D){if(!D)return D;var F={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:p,outputModifiers:m,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return D=D.replace(/¨/g,"¨T"),D=D.replace(/\$/g,"¨D"),D=D.replace(/\r\n/g,`
`),D=D.replace(/\r/g,`
`),D=D.replace(/\u00A0/g,"&nbsp;"),f.smartIndentationFix&&(D=B(D)),D=`

`+D+`

`,D=r.subParser("detab")(D,f,F),D=D.replace(/^[ \t]+$/mg,""),r.helper.forEach(p,function(L){D=r.subParser("runExtension")(L,D,f,F)}),D=r.subParser("metadata")(D,f,F),D=r.subParser("hashPreCodeTags")(D,f,F),D=r.subParser("githubCodeBlocks")(D,f,F),D=r.subParser("hashHTMLBlocks")(D,f,F),D=r.subParser("hashCodeTags")(D,f,F),D=r.subParser("stripLinkDefinitions")(D,f,F),D=r.subParser("blockGamut")(D,f,F),D=r.subParser("unhashHTMLSpans")(D,f,F),D=r.subParser("unescapeSpecialChars")(D,f,F),D=D.replace(/¨D/g,"$$"),D=D.replace(/¨T/g,"¨"),D=r.subParser("completeHTMLDocument")(D,f,F),r.helper.forEach(m,function(L){D=r.subParser("runExtension")(L,D,f,F)}),v=F.metadata,D},this.makeMarkdown=this.makeMd=function(D,F){if(D=D.replace(/\r\n/g,`
`),D=D.replace(/\r/g,`
`),D=D.replace(/>[ \t]+</,">¨NBSP;<"),!F)if(window&&window.document)F=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var L=F.createElement("div");L.innerHTML=D;var j={preList:ge(L)};oe(L);for(var Q=L.childNodes,q="",ne=0;ne<Q.length;ne++)q+=r.subParser("makeMarkdown.node")(Q[ne],j);function oe(me){for(var ye=0;ye<me.childNodes.length;++ye){var Se=me.childNodes[ye];Se.nodeType===3?!/\S/.test(Se.nodeValue)&&!/^[ ]+$/.test(Se.nodeValue)?(me.removeChild(Se),--ye):(Se.nodeValue=Se.nodeValue.split(`
`).join(" "),Se.nodeValue=Se.nodeValue.replace(/(\s)+/g,"$1")):Se.nodeType===1&&oe(Se)}}function ge(me){for(var ye=me.querySelectorAll("pre"),Se=[],Y=0;Y<ye.length;++Y)if(ye[Y].childElementCount===1&&ye[Y].firstChild.tagName.toLowerCase()==="code"){var $=ye[Y].firstChild.innerHTML.trim(),K=ye[Y].firstChild.getAttribute("data-language")||"";if(K==="")for(var Z=ye[Y].firstChild.className.split(" "),Ce=0;Ce<Z.length;++Ce){var we=Z[Ce].match(/^language-(.+)$/);if(we!==null){K=we[1];break}}$=r.helper.unescapeHTMLEntities($),Se.push($),ye[Y].outerHTML='<precode language="'+K+'" precodenum="'+Y.toString()+'"></precode>'}else Se.push(ye[Y].innerHTML),ye[Y].innerHTML="",ye[Y].setAttribute("prenum",Y.toString());return Se}return q},this.setOption=function(D,F){f[D]=F},this.getOption=function(D){return f[D]},this.getOptions=function(){return f},this.addExtension=function(D,F){F=F||null,R(D,F)},this.useExtension=function(D){R(D)},this.setFlavor=function(D){if(!c.hasOwnProperty(D))throw Error(D+" flavor was not found");var F=c[D];y=D;for(var L in F)F.hasOwnProperty(L)&&(f[L]=F[L])},this.getFlavor=function(){return y},this.removeExtension=function(D){r.helper.isArray(D)||(D=[D]);for(var F=0;F<D.length;++F){for(var L=D[F],j=0;j<p.length;++j)p[j]===L&&p.splice(j,1);for(var Q=0;Q<m.length;++Q)m[Q]===L&&m.splice(Q,1)}},this.getAllExtensions=function(){return{language:p,output:m}},this.getMetadata=function(D){return D?v.raw:v.parsed},this.getMetadataFormat=function(){return v.format},this._setMetadataPair=function(D,F){v.parsed[D]=F},this._setMetadataFormat=function(D){v.format=D},this._setMetadataRaw=function(D){v.raw=D}},r.subParser("anchors",function(u,f,p){u=p.converter._dispatch("anchors.before",u,f,p);var m=function(g,y,v,T,R,S,z){if(r.helper.isUndefined(z)&&(z=""),v=v.toLowerCase(),g.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)T="";else if(!T)if(v||(v=y.toLowerCase().replace(/ ?\n/g," ")),T="#"+v,!r.helper.isUndefined(p.gUrls[v]))T=p.gUrls[v],r.helper.isUndefined(p.gTitles[v])||(z=p.gTitles[v]);else return g;T=T.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var B='<a href="'+T+'"';return z!==""&&z!==null&&(z=z.replace(/"/g,"&quot;"),z=z.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),B+=' title="'+z+'"'),f.openLinksInNewWindow&&!/^#/.test(T)&&(B+=' rel="noopener noreferrer" target="¨E95Eblank"'),B+=">"+y+"</a>",B};return u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[([^\[\]]+)]()()()()()/g,m),f.ghMentions&&(u=u.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(g,y,v,T,R){if(v==="\\")return y+T;if(!r.helper.isString(f.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var S=f.ghMentionsLink.replace(/\{u}/g,R),z="";return f.openLinksInNewWindow&&(z=' rel="noopener noreferrer" target="¨E95Eblank"'),y+'<a href="'+S+'"'+z+">"+T+"</a>"})),u=p.converter._dispatch("anchors.after",u,f,p),u});var k=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,N=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,V=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,b=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,M=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,I=function(u){return function(f,p,m,g,y,v,T){m=m.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var R=m,S="",z="",B=p||"",D=T||"";return/^www\./i.test(m)&&(m=m.replace(/^www\./i,"http://www.")),u.excludeTrailingPunctuationFromURLs&&v&&(S=v),u.openLinksInNewWindow&&(z=' rel="noopener noreferrer" target="¨E95Eblank"'),B+'<a href="'+m+'"'+z+">"+R+"</a>"+S+D}},C=function(u,f){return function(p,m,g){var y="mailto:";return m=m||"",g=r.subParser("unescapeSpecialChars")(g,u,f),u.encodeEmails?(y=r.helper.encodeEmailAddress(y+g),g=r.helper.encodeEmailAddress(g)):y=y+g,m+'<a href="'+y+'">'+g+"</a>"}};r.subParser("autoLinks",function(u,f,p){return u=p.converter._dispatch("autoLinks.before",u,f,p),u=u.replace(V,I(f)),u=u.replace(M,C(f,p)),u=p.converter._dispatch("autoLinks.after",u,f,p),u}),r.subParser("simplifiedAutoLinks",function(u,f,p){return f.simplifiedAutoLink&&(u=p.converter._dispatch("simplifiedAutoLinks.before",u,f,p),f.excludeTrailingPunctuationFromURLs?u=u.replace(N,I(f)):u=u.replace(k,I(f)),u=u.replace(b,C(f,p)),u=p.converter._dispatch("simplifiedAutoLinks.after",u,f,p)),u}),r.subParser("blockGamut",function(u,f,p){return u=p.converter._dispatch("blockGamut.before",u,f,p),u=r.subParser("blockQuotes")(u,f,p),u=r.subParser("headers")(u,f,p),u=r.subParser("horizontalRule")(u,f,p),u=r.subParser("lists")(u,f,p),u=r.subParser("codeBlocks")(u,f,p),u=r.subParser("tables")(u,f,p),u=r.subParser("hashHTMLBlocks")(u,f,p),u=r.subParser("paragraphs")(u,f,p),u=p.converter._dispatch("blockGamut.after",u,f,p),u}),r.subParser("blockQuotes",function(u,f,p){u=p.converter._dispatch("blockQuotes.before",u,f,p),u=u+`

`;var m=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return f.splitAdjacentBlockquotes&&(m=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),u=u.replace(m,function(g){return g=g.replace(/^[ \t]*>[ \t]?/gm,""),g=g.replace(/¨0/g,""),g=g.replace(/^[ \t]+$/gm,""),g=r.subParser("githubCodeBlocks")(g,f,p),g=r.subParser("blockGamut")(g,f,p),g=g.replace(/(^|\n)/g,"$1  "),g=g.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(y,v){var T=v;return T=T.replace(/^  /mg,"¨0"),T=T.replace(/¨0/g,""),T}),r.subParser("hashBlock")(`<blockquote>
`+g+`
</blockquote>`,f,p)}),u=p.converter._dispatch("blockQuotes.after",u,f,p),u}),r.subParser("codeBlocks",function(u,f,p){u=p.converter._dispatch("codeBlocks.before",u,f,p),u+="¨0";var m=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return u=u.replace(m,function(g,y,v){var T=y,R=v,S=`
`;return T=r.subParser("outdent")(T,f,p),T=r.subParser("encodeCode")(T,f,p),T=r.subParser("detab")(T,f,p),T=T.replace(/^\n+/g,""),T=T.replace(/\n+$/g,""),f.omitExtraWLInCodeBlocks&&(S=""),T="<pre><code>"+T+S+"</code></pre>",r.subParser("hashBlock")(T,f,p)+R}),u=u.replace(/¨0/,""),u=p.converter._dispatch("codeBlocks.after",u,f,p),u}),r.subParser("codeSpans",function(u,f,p){return u=p.converter._dispatch("codeSpans.before",u,f,p),typeof u>"u"&&(u=""),u=u.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(m,g,y,v){var T=v;return T=T.replace(/^([ \t]*)/g,""),T=T.replace(/[ \t]*$/g,""),T=r.subParser("encodeCode")(T,f,p),T=g+"<code>"+T+"</code>",T=r.subParser("hashHTMLSpans")(T,f,p),T}),u=p.converter._dispatch("codeSpans.after",u,f,p),u}),r.subParser("completeHTMLDocument",function(u,f,p){if(!f.completeHTMLDocument)return u;u=p.converter._dispatch("completeHTMLDocument.before",u,f,p);var m="html",g=`<!DOCTYPE HTML>
`,y="",v=`<meta charset="utf-8">
`,T="",R="";typeof p.metadata.parsed.doctype<"u"&&(g="<!DOCTYPE "+p.metadata.parsed.doctype+`>
`,m=p.metadata.parsed.doctype.toString().toLowerCase(),(m==="html"||m==="html5")&&(v='<meta charset="utf-8">'));for(var S in p.metadata.parsed)if(p.metadata.parsed.hasOwnProperty(S))switch(S.toLowerCase()){case"doctype":break;case"title":y="<title>"+p.metadata.parsed.title+`</title>
`;break;case"charset":m==="html"||m==="html5"?v='<meta charset="'+p.metadata.parsed.charset+`">
`:v='<meta name="charset" content="'+p.metadata.parsed.charset+`">
`;break;case"language":case"lang":T=' lang="'+p.metadata.parsed[S]+'"',R+='<meta name="'+S+'" content="'+p.metadata.parsed[S]+`">
`;break;default:R+='<meta name="'+S+'" content="'+p.metadata.parsed[S]+`">
`}return u=g+"<html"+T+`>
<head>
`+y+v+R+`</head>
<body>
`+u.trim()+`
</body>
</html>`,u=p.converter._dispatch("completeHTMLDocument.after",u,f,p),u}),r.subParser("detab",function(u,f,p){return u=p.converter._dispatch("detab.before",u,f,p),u=u.replace(/\t(?=\t)/g,"    "),u=u.replace(/\t/g,"¨A¨B"),u=u.replace(/¨B(.+?)¨A/g,function(m,g){for(var y=g,v=4-y.length%4,T=0;T<v;T++)y+=" ";return y}),u=u.replace(/¨A/g,"    "),u=u.replace(/¨B/g,""),u=p.converter._dispatch("detab.after",u,f,p),u}),r.subParser("ellipsis",function(u,f,p){return f.ellipsis&&(u=p.converter._dispatch("ellipsis.before",u,f,p),u=u.replace(/\.\.\./g,"…"),u=p.converter._dispatch("ellipsis.after",u,f,p)),u}),r.subParser("emoji",function(u,f,p){if(!f.emoji)return u;u=p.converter._dispatch("emoji.before",u,f,p);var m=/:([\S]+?):/g;return u=u.replace(m,function(g,y){return r.helper.emojis.hasOwnProperty(y)?r.helper.emojis[y]:g}),u=p.converter._dispatch("emoji.after",u,f,p),u}),r.subParser("encodeAmpsAndAngles",function(u,f,p){return u=p.converter._dispatch("encodeAmpsAndAngles.before",u,f,p),u=u.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),u=u.replace(/<(?![a-z\/?$!])/gi,"&lt;"),u=u.replace(/</g,"&lt;"),u=u.replace(/>/g,"&gt;"),u=p.converter._dispatch("encodeAmpsAndAngles.after",u,f,p),u}),r.subParser("encodeBackslashEscapes",function(u,f,p){return u=p.converter._dispatch("encodeBackslashEscapes.before",u,f,p),u=u.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),u=u.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,r.helper.escapeCharactersCallback),u=p.converter._dispatch("encodeBackslashEscapes.after",u,f,p),u}),r.subParser("encodeCode",function(u,f,p){return u=p.converter._dispatch("encodeCode.before",u,f,p),u=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),u=p.converter._dispatch("encodeCode.after",u,f,p),u}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(u,f,p){u=p.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",u,f,p);var m=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,g=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return u=u.replace(m,function(y){return y.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=u.replace(g,function(y){return y.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=p.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",u,f,p),u}),r.subParser("githubCodeBlocks",function(u,f,p){return f.ghCodeBlocks?(u=p.converter._dispatch("githubCodeBlocks.before",u,f,p),u+="¨0",u=u.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(m,g,y,v){var T=f.omitExtraWLInCodeBlocks?"":`
`;return v=r.subParser("encodeCode")(v,f,p),v=r.subParser("detab")(v,f,p),v=v.replace(/^\n+/g,""),v=v.replace(/\n+$/g,""),v="<pre><code"+(y?' class="'+y+" language-"+y+'"':"")+">"+v+T+"</code></pre>",v=r.subParser("hashBlock")(v,f,p),`

¨G`+(p.ghCodeBlocks.push({text:m,codeblock:v})-1)+`G

`}),u=u.replace(/¨0/,""),p.converter._dispatch("githubCodeBlocks.after",u,f,p)):u}),r.subParser("hashBlock",function(u,f,p){return u=p.converter._dispatch("hashBlock.before",u,f,p),u=u.replace(/(^\n+|\n+$)/g,""),u=`

¨K`+(p.gHtmlBlocks.push(u)-1)+`K

`,u=p.converter._dispatch("hashBlock.after",u,f,p),u}),r.subParser("hashCodeTags",function(u,f,p){u=p.converter._dispatch("hashCodeTags.before",u,f,p);var m=function(g,y,v,T){var R=v+r.subParser("encodeCode")(y,f,p)+T;return"¨C"+(p.gHtmlSpans.push(R)-1)+"C"};return u=r.helper.replaceRecursiveRegExp(u,m,"<code\\b[^>]*>","</code>","gim"),u=p.converter._dispatch("hashCodeTags.after",u,f,p),u}),r.subParser("hashElement",function(u,f,p){return function(m,g){var y=g;return y=y.replace(/\n\n/g,`
`),y=y.replace(/^\n/,""),y=y.replace(/\n+$/g,""),y=`

¨K`+(p.gHtmlBlocks.push(y)-1)+`K

`,y}}),r.subParser("hashHTMLBlocks",function(u,f,p){u=p.converter._dispatch("hashHTMLBlocks.before",u,f,p);var m=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],g=function(D,F,L,j){var Q=D;return L.search(/\bmarkdown\b/)!==-1&&(Q=L+p.converter.makeHtml(F)+j),`

¨K`+(p.gHtmlBlocks.push(Q)-1)+`K

`};f.backslashEscapesHTMLTags&&(u=u.replace(/\\<(\/?[^>]+?)>/g,function(D,F){return"&lt;"+F+"&gt;"}));for(var y=0;y<m.length;++y)for(var v,T=new RegExp("^ {0,3}(<"+m[y]+"\\b[^>]*>)","im"),R="<"+m[y]+"\\b[^>]*>",S="</"+m[y]+">";(v=r.helper.regexIndexOf(u,T))!==-1;){var z=r.helper.splitAtIndex(u,v),B=r.helper.replaceRecursiveRegExp(z[1],g,R,S,"im");if(B===z[1])break;u=z[0].concat(B)}return u=u.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,f,p)),u=r.helper.replaceRecursiveRegExp(u,function(D){return`

¨K`+(p.gHtmlBlocks.push(D)-1)+`K

`},"^ {0,3}<!--","-->","gm"),u=u.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,f,p)),u=p.converter._dispatch("hashHTMLBlocks.after",u,f,p),u}),r.subParser("hashHTMLSpans",function(u,f,p){u=p.converter._dispatch("hashHTMLSpans.before",u,f,p);function m(g){return"¨C"+(p.gHtmlSpans.push(g)-1)+"C"}return u=u.replace(/<[^>]+?\/>/gi,function(g){return m(g)}),u=u.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(g){return m(g)}),u=u.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(g){return m(g)}),u=u.replace(/<[^>]+?>/gi,function(g){return m(g)}),u=p.converter._dispatch("hashHTMLSpans.after",u,f,p),u}),r.subParser("unhashHTMLSpans",function(u,f,p){u=p.converter._dispatch("unhashHTMLSpans.before",u,f,p);for(var m=0;m<p.gHtmlSpans.length;++m){for(var g=p.gHtmlSpans[m],y=0;/¨C(\d+)C/.test(g);){var v=RegExp.$1;if(g=g.replace("¨C"+v+"C",p.gHtmlSpans[v]),y===10){console.error("maximum nesting of 10 spans reached!!!");break}++y}u=u.replace("¨C"+m+"C",g)}return u=p.converter._dispatch("unhashHTMLSpans.after",u,f,p),u}),r.subParser("hashPreCodeTags",function(u,f,p){u=p.converter._dispatch("hashPreCodeTags.before",u,f,p);var m=function(g,y,v,T){var R=v+r.subParser("encodeCode")(y,f,p)+T;return`

¨G`+(p.ghCodeBlocks.push({text:g,codeblock:R})-1)+`G

`};return u=r.helper.replaceRecursiveRegExp(u,m,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),u=p.converter._dispatch("hashPreCodeTags.after",u,f,p),u}),r.subParser("headers",function(u,f,p){u=p.converter._dispatch("headers.before",u,f,p);var m=isNaN(parseInt(f.headerLevelStart))?1:parseInt(f.headerLevelStart),g=f.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,y=f.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;u=u.replace(g,function(R,S){var z=r.subParser("spanGamut")(S,f,p),B=f.noHeaderId?"":' id="'+T(S)+'"',D=m,F="<h"+D+B+">"+z+"</h"+D+">";return r.subParser("hashBlock")(F,f,p)}),u=u.replace(y,function(R,S){var z=r.subParser("spanGamut")(S,f,p),B=f.noHeaderId?"":' id="'+T(S)+'"',D=m+1,F="<h"+D+B+">"+z+"</h"+D+">";return r.subParser("hashBlock")(F,f,p)});var v=f.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;u=u.replace(v,function(R,S,z){var B=z;f.customizedHeaderId&&(B=z.replace(/\s?\{([^{]+?)}\s*$/,""));var D=r.subParser("spanGamut")(B,f,p),F=f.noHeaderId?"":' id="'+T(z)+'"',L=m-1+S.length,j="<h"+L+F+">"+D+"</h"+L+">";return r.subParser("hashBlock")(j,f,p)});function T(R){var S,z;if(f.customizedHeaderId){var B=R.match(/\{([^{]+?)}\s*$/);B&&B[1]&&(R=B[1])}return S=R,r.helper.isString(f.prefixHeaderId)?z=f.prefixHeaderId:f.prefixHeaderId===!0?z="section-":z="",f.rawPrefixHeaderId||(S=z+S),f.ghCompatibleHeaderId?S=S.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():f.rawHeaderId?S=S.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():S=S.replace(/[^\w]/g,"").toLowerCase(),f.rawPrefixHeaderId&&(S=z+S),p.hashLinkCounts[S]?S=S+"-"+p.hashLinkCounts[S]++:p.hashLinkCounts[S]=1,S}return u=p.converter._dispatch("headers.after",u,f,p),u}),r.subParser("horizontalRule",function(u,f,p){u=p.converter._dispatch("horizontalRule.before",u,f,p);var m=r.subParser("hashBlock")("<hr />",f,p);return u=u.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,m),u=p.converter._dispatch("horizontalRule.after",u,f,p),u}),r.subParser("images",function(u,f,p){u=p.converter._dispatch("images.before",u,f,p);var m=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,g=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,y=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,v=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,T=/!\[([^\[\]]+)]()()()()()/g;function R(z,B,D,F,L,j,Q,q){return F=F.replace(/\s/g,""),S(z,B,D,F,L,j,Q,q)}function S(z,B,D,F,L,j,Q,q){var ne=p.gUrls,oe=p.gTitles,ge=p.gDimensions;if(D=D.toLowerCase(),q||(q=""),z.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)F="";else if(F===""||F===null)if((D===""||D===null)&&(D=B.toLowerCase().replace(/ ?\n/g," ")),F="#"+D,!r.helper.isUndefined(ne[D]))F=ne[D],r.helper.isUndefined(oe[D])||(q=oe[D]),r.helper.isUndefined(ge[D])||(L=ge[D].width,j=ge[D].height);else return z;B=B.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),F=F.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var me='<img src="'+F+'" alt="'+B+'"';return q&&r.helper.isString(q)&&(q=q.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),me+=' title="'+q+'"'),L&&j&&(L=L==="*"?"auto":L,j=j==="*"?"auto":j,me+=' width="'+L+'"',me+=' height="'+j+'"'),me+=" />",me}return u=u.replace(v,S),u=u.replace(y,R),u=u.replace(g,S),u=u.replace(m,S),u=u.replace(T,S),u=p.converter._dispatch("images.after",u,f,p),u}),r.subParser("italicsAndBold",function(u,f,p){u=p.converter._dispatch("italicsAndBold.before",u,f,p);function m(g,y,v){return y+g+v}return f.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(g,y){return m(y,"<strong><em>","</em></strong>")}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(g,y){return m(y,"<strong>","</strong>")}),u=u.replace(/\b_(\S[\s\S]*?)_\b/g,function(g,y){return m(y,"<em>","</em>")})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(g,y){return/\S$/.test(y)?m(y,"<strong><em>","</em></strong>"):g}),u=u.replace(/__(\S[\s\S]*?)__/g,function(g,y){return/\S$/.test(y)?m(y,"<strong>","</strong>"):g}),u=u.replace(/_([^\s_][\s\S]*?)_/g,function(g,y){return/\S$/.test(y)?m(y,"<em>","</em>"):g})),f.literalMidWordAsterisks?(u=u.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(g,y,v){return m(v,y+"<strong><em>","</em></strong>")}),u=u.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(g,y,v){return m(v,y+"<strong>","</strong>")}),u=u.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(g,y,v){return m(v,y+"<em>","</em>")})):(u=u.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(g,y){return/\S$/.test(y)?m(y,"<strong><em>","</em></strong>"):g}),u=u.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(g,y){return/\S$/.test(y)?m(y,"<strong>","</strong>"):g}),u=u.replace(/\*([^\s*][\s\S]*?)\*/g,function(g,y){return/\S$/.test(y)?m(y,"<em>","</em>"):g})),u=p.converter._dispatch("italicsAndBold.after",u,f,p),u}),r.subParser("lists",function(u,f,p){function m(v,T){p.gListLevel++,v=v.replace(/\n{2,}$/,`
`),v+="¨0";var R=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,S=/\n[ \t]*\n(?!¨0)/.test(v);return f.disableForced4SpacesIndentedSublists&&(R=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),v=v.replace(R,function(z,B,D,F,L,j,Q){Q=Q&&Q.trim()!=="";var q=r.subParser("outdent")(L,f,p),ne="";return j&&f.tasklists&&(ne=' class="task-list-item" style="list-style-type: none;"',q=q.replace(/^[ \t]*\[(x|X| )?]/m,function(){var oe='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return Q&&(oe+=" checked"),oe+=">",oe})),q=q.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(oe){return"¨A"+oe}),B||q.search(/\n{2,}/)>-1?(q=r.subParser("githubCodeBlocks")(q,f,p),q=r.subParser("blockGamut")(q,f,p)):(q=r.subParser("lists")(q,f,p),q=q.replace(/\n$/,""),q=r.subParser("hashHTMLBlocks")(q,f,p),q=q.replace(/\n\n+/g,`

`),S?q=r.subParser("paragraphs")(q,f,p):q=r.subParser("spanGamut")(q,f,p)),q=q.replace("¨A",""),q="<li"+ne+">"+q+`</li>
`,q}),v=v.replace(/¨0/g,""),p.gListLevel--,T&&(v=v.replace(/\s+$/,"")),v}function g(v,T){if(T==="ol"){var R=v.match(/^ *(\d+)\./);if(R&&R[1]!=="1")return' start="'+R[1]+'"'}return""}function y(v,T,R){var S=f.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,z=f.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,B=T==="ul"?S:z,D="";if(v.search(B)!==-1)(function L(j){var Q=j.search(B),q=g(v,T);Q!==-1?(D+=`

<`+T+q+`>
`+m(j.slice(0,Q),!!R)+"</"+T+`>
`,T=T==="ul"?"ol":"ul",B=T==="ul"?S:z,L(j.slice(Q))):D+=`

<`+T+q+`>
`+m(j,!!R)+"</"+T+`>
`})(v);else{var F=g(v,T);D=`

<`+T+F+`>
`+m(v,!!R)+"</"+T+`>
`}return D}return u=p.converter._dispatch("lists.before",u,f,p),u+="¨0",p.gListLevel?u=u.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(v,T,R){var S=R.search(/[*+-]/g)>-1?"ul":"ol";return y(T,S,!0)}):u=u.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(v,T,R,S){var z=S.search(/[*+-]/g)>-1?"ul":"ol";return y(R,z,!1)}),u=u.replace(/¨0/,""),u=p.converter._dispatch("lists.after",u,f,p),u}),r.subParser("metadata",function(u,f,p){if(!f.metadata)return u;u=p.converter._dispatch("metadata.before",u,f,p);function m(g){p.metadata.raw=g,g=g.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),g=g.replace(/\n {4}/g," "),g.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(y,v,T){return p.metadata.parsed[v]=T,""})}return u=u.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(g,y,v){return m(v),"¨M"}),u=u.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(g,y,v){return y&&(p.metadata.format=y),m(v),"¨M"}),u=u.replace(/¨M/g,""),u=p.converter._dispatch("metadata.after",u,f,p),u}),r.subParser("outdent",function(u,f,p){return u=p.converter._dispatch("outdent.before",u,f,p),u=u.replace(/^(\t|[ ]{1,4})/gm,"¨0"),u=u.replace(/¨0/g,""),u=p.converter._dispatch("outdent.after",u,f,p),u}),r.subParser("paragraphs",function(u,f,p){u=p.converter._dispatch("paragraphs.before",u,f,p),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,"");for(var m=u.split(/\n{2,}/g),g=[],y=m.length,v=0;v<y;v++){var T=m[v];T.search(/¨(K|G)(\d+)\1/g)>=0?g.push(T):T.search(/\S/)>=0&&(T=r.subParser("spanGamut")(T,f,p),T=T.replace(/^([ \t]*)/g,"<p>"),T+="</p>",g.push(T))}for(y=g.length,v=0;v<y;v++){for(var R="",S=g[v],z=!1;/¨(K|G)(\d+)\1/.test(S);){var B=RegExp.$1,D=RegExp.$2;B==="K"?R=p.gHtmlBlocks[D]:z?R=r.subParser("encodeCode")(p.ghCodeBlocks[D].text,f,p):R=p.ghCodeBlocks[D].codeblock,R=R.replace(/\$/g,"$$$$"),S=S.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,R),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(S)&&(z=!0)}g[v]=S}return u=g.join(`
`),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,""),p.converter._dispatch("paragraphs.after",u,f,p)}),r.subParser("runExtension",function(u,f,p,m){if(u.filter)f=u.filter(f,m.converter,p);else if(u.regex){var g=u.regex;g instanceof RegExp||(g=new RegExp(g,"g")),f=f.replace(g,u.replace)}return f}),r.subParser("spanGamut",function(u,f,p){return u=p.converter._dispatch("spanGamut.before",u,f,p),u=r.subParser("codeSpans")(u,f,p),u=r.subParser("escapeSpecialCharsWithinTagAttributes")(u,f,p),u=r.subParser("encodeBackslashEscapes")(u,f,p),u=r.subParser("images")(u,f,p),u=r.subParser("anchors")(u,f,p),u=r.subParser("autoLinks")(u,f,p),u=r.subParser("simplifiedAutoLinks")(u,f,p),u=r.subParser("emoji")(u,f,p),u=r.subParser("underline")(u,f,p),u=r.subParser("italicsAndBold")(u,f,p),u=r.subParser("strikethrough")(u,f,p),u=r.subParser("ellipsis")(u,f,p),u=r.subParser("hashHTMLSpans")(u,f,p),u=r.subParser("encodeAmpsAndAngles")(u,f,p),f.simpleLineBreaks?/\n\n¨K/.test(u)||(u=u.replace(/\n+/g,`<br />
`)):u=u.replace(/  +\n/g,`<br />
`),u=p.converter._dispatch("spanGamut.after",u,f,p),u}),r.subParser("strikethrough",function(u,f,p){function m(g){return f.simplifiedAutoLink&&(g=r.subParser("simplifiedAutoLinks")(g,f,p)),"<del>"+g+"</del>"}return f.strikethrough&&(u=p.converter._dispatch("strikethrough.before",u,f,p),u=u.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(g,y){return m(y)}),u=p.converter._dispatch("strikethrough.after",u,f,p)),u}),r.subParser("stripLinkDefinitions",function(u,f,p){var m=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,g=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;u+="¨0";var y=function(v,T,R,S,z,B,D){return T=T.toLowerCase(),u.toLowerCase().split(T).length-1<2?v:(R.match(/^data:.+?\/.+?;base64,/)?p.gUrls[T]=R.replace(/\s/g,""):p.gUrls[T]=r.subParser("encodeAmpsAndAngles")(R,f,p),B?B+D:(D&&(p.gTitles[T]=D.replace(/"|'/g,"&quot;")),f.parseImgDimensions&&S&&z&&(p.gDimensions[T]={width:S,height:z}),""))};return u=u.replace(g,y),u=u.replace(m,y),u=u.replace(/¨0/,""),u}),r.subParser("tables",function(u,f,p){if(!f.tables)return u;var m=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,g=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function y(z){return/^:[ \t]*--*$/.test(z)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(z)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(z)?' style="text-align:center;"':""}function v(z,B){var D="";return z=z.trim(),(f.tablesHeaderId||f.tableHeaderId)&&(D=' id="'+z.replace(/ /g,"_").toLowerCase()+'"'),z=r.subParser("spanGamut")(z,f,p),"<th"+D+B+">"+z+`</th>
`}function T(z,B){var D=r.subParser("spanGamut")(z,f,p);return"<td"+B+">"+D+`</td>
`}function R(z,B){for(var D=`<table>
<thead>
<tr>
`,F=z.length,L=0;L<F;++L)D+=z[L];for(D+=`</tr>
</thead>
<tbody>
`,L=0;L<B.length;++L){D+=`<tr>
`;for(var j=0;j<F;++j)D+=B[L][j];D+=`</tr>
`}return D+=`</tbody>
</table>
`,D}function S(z){var B,D=z.split(`
`);for(B=0;B<D.length;++B)/^ {0,3}\|/.test(D[B])&&(D[B]=D[B].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(D[B])&&(D[B]=D[B].replace(/\|[ \t]*$/,"")),D[B]=r.subParser("codeSpans")(D[B],f,p);var F=D[0].split("|").map(function(me){return me.trim()}),L=D[1].split("|").map(function(me){return me.trim()}),j=[],Q=[],q=[],ne=[];for(D.shift(),D.shift(),B=0;B<D.length;++B)D[B].trim()!==""&&j.push(D[B].split("|").map(function(me){return me.trim()}));if(F.length<L.length)return z;for(B=0;B<L.length;++B)q.push(y(L[B]));for(B=0;B<F.length;++B)r.helper.isUndefined(q[B])&&(q[B]=""),Q.push(v(F[B],q[B]));for(B=0;B<j.length;++B){for(var oe=[],ge=0;ge<Q.length;++ge)r.helper.isUndefined(j[B][ge]),oe.push(T(j[B][ge],q[ge]));ne.push(oe)}return R(Q,ne)}return u=p.converter._dispatch("tables.before",u,f,p),u=u.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),u=u.replace(m,S),u=u.replace(g,S),u=p.converter._dispatch("tables.after",u,f,p),u}),r.subParser("underline",function(u,f,p){return f.underline&&(u=p.converter._dispatch("underline.before",u,f,p),f.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(m,g){return"<u>"+g+"</u>"}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(m,g){return"<u>"+g+"</u>"})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(m,g){return/\S$/.test(g)?"<u>"+g+"</u>":m}),u=u.replace(/__(\S[\s\S]*?)__/g,function(m,g){return/\S$/.test(g)?"<u>"+g+"</u>":m})),u=u.replace(/(_)/g,r.helper.escapeCharactersCallback),u=p.converter._dispatch("underline.after",u,f,p)),u}),r.subParser("unescapeSpecialChars",function(u,f,p){return u=p.converter._dispatch("unescapeSpecialChars.before",u,f,p),u=u.replace(/¨E(\d+)E/g,function(m,g){var y=parseInt(g);return String.fromCharCode(y)}),u=p.converter._dispatch("unescapeSpecialChars.after",u,f,p),u}),r.subParser("makeMarkdown.blockquote",function(u,f){var p="";if(u.hasChildNodes())for(var m=u.childNodes,g=m.length,y=0;y<g;++y){var v=r.subParser("makeMarkdown.node")(m[y],f);v!==""&&(p+=v)}return p=p.trim(),p="> "+p.split(`
`).join(`
> `),p}),r.subParser("makeMarkdown.codeBlock",function(u,f){var p=u.getAttribute("language"),m=u.getAttribute("precodenum");return"```"+p+`
`+f.preList[m]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(u){return"`"+u.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(u,f){var p="";if(u.hasChildNodes()){p+="*";for(var m=u.childNodes,g=m.length,y=0;y<g;++y)p+=r.subParser("makeMarkdown.node")(m[y],f);p+="*"}return p}),r.subParser("makeMarkdown.header",function(u,f,p){var m=new Array(p+1).join("#"),g="";if(u.hasChildNodes()){g=m+" ";for(var y=u.childNodes,v=y.length,T=0;T<v;++T)g+=r.subParser("makeMarkdown.node")(y[T],f)}return g}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(u){var f="";return u.hasAttribute("src")&&(f+="!["+u.getAttribute("alt")+"](",f+="<"+u.getAttribute("src")+">",u.hasAttribute("width")&&u.hasAttribute("height")&&(f+=" ="+u.getAttribute("width")+"x"+u.getAttribute("height")),u.hasAttribute("title")&&(f+=' "'+u.getAttribute("title")+'"'),f+=")"),f}),r.subParser("makeMarkdown.links",function(u,f){var p="";if(u.hasChildNodes()&&u.hasAttribute("href")){var m=u.childNodes,g=m.length;p="[";for(var y=0;y<g;++y)p+=r.subParser("makeMarkdown.node")(m[y],f);p+="](",p+="<"+u.getAttribute("href")+">",u.hasAttribute("title")&&(p+=' "'+u.getAttribute("title")+'"'),p+=")"}return p}),r.subParser("makeMarkdown.list",function(u,f,p){var m="";if(!u.hasChildNodes())return"";for(var g=u.childNodes,y=g.length,v=u.getAttribute("start")||1,T=0;T<y;++T)if(!(typeof g[T].tagName>"u"||g[T].tagName.toLowerCase()!=="li")){var R="";p==="ol"?R=v.toString()+". ":R="- ",m+=R+r.subParser("makeMarkdown.listItem")(g[T],f),++v}return m+=`
<!-- -->
`,m.trim()}),r.subParser("makeMarkdown.listItem",function(u,f){for(var p="",m=u.childNodes,g=m.length,y=0;y<g;++y)p+=r.subParser("makeMarkdown.node")(m[y],f);return/\n$/.test(p)?p=p.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):p+=`
`,p}),r.subParser("makeMarkdown.node",function(u,f,p){p=p||!1;var m="";if(u.nodeType===3)return r.subParser("makeMarkdown.txt")(u,f);if(u.nodeType===8)return"<!--"+u.data+`-->

`;if(u.nodeType!==1)return"";var g=u.tagName.toLowerCase();switch(g){case"h1":p||(m=r.subParser("makeMarkdown.header")(u,f,1)+`

`);break;case"h2":p||(m=r.subParser("makeMarkdown.header")(u,f,2)+`

`);break;case"h3":p||(m=r.subParser("makeMarkdown.header")(u,f,3)+`

`);break;case"h4":p||(m=r.subParser("makeMarkdown.header")(u,f,4)+`

`);break;case"h5":p||(m=r.subParser("makeMarkdown.header")(u,f,5)+`

`);break;case"h6":p||(m=r.subParser("makeMarkdown.header")(u,f,6)+`

`);break;case"p":p||(m=r.subParser("makeMarkdown.paragraph")(u,f)+`

`);break;case"blockquote":p||(m=r.subParser("makeMarkdown.blockquote")(u,f)+`

`);break;case"hr":p||(m=r.subParser("makeMarkdown.hr")(u,f)+`

`);break;case"ol":p||(m=r.subParser("makeMarkdown.list")(u,f,"ol")+`

`);break;case"ul":p||(m=r.subParser("makeMarkdown.list")(u,f,"ul")+`

`);break;case"precode":p||(m=r.subParser("makeMarkdown.codeBlock")(u,f)+`

`);break;case"pre":p||(m=r.subParser("makeMarkdown.pre")(u,f)+`

`);break;case"table":p||(m=r.subParser("makeMarkdown.table")(u,f)+`

`);break;case"code":m=r.subParser("makeMarkdown.codeSpan")(u,f);break;case"em":case"i":m=r.subParser("makeMarkdown.emphasis")(u,f);break;case"strong":case"b":m=r.subParser("makeMarkdown.strong")(u,f);break;case"del":m=r.subParser("makeMarkdown.strikethrough")(u,f);break;case"a":m=r.subParser("makeMarkdown.links")(u,f);break;case"img":m=r.subParser("makeMarkdown.image")(u,f);break;default:m=u.outerHTML+`

`}return m}),r.subParser("makeMarkdown.paragraph",function(u,f){var p="";if(u.hasChildNodes())for(var m=u.childNodes,g=m.length,y=0;y<g;++y)p+=r.subParser("makeMarkdown.node")(m[y],f);return p=p.trim(),p}),r.subParser("makeMarkdown.pre",function(u,f){var p=u.getAttribute("prenum");return"<pre>"+f.preList[p]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(u,f){var p="";if(u.hasChildNodes()){p+="~~";for(var m=u.childNodes,g=m.length,y=0;y<g;++y)p+=r.subParser("makeMarkdown.node")(m[y],f);p+="~~"}return p}),r.subParser("makeMarkdown.strong",function(u,f){var p="";if(u.hasChildNodes()){p+="**";for(var m=u.childNodes,g=m.length,y=0;y<g;++y)p+=r.subParser("makeMarkdown.node")(m[y],f);p+="**"}return p}),r.subParser("makeMarkdown.table",function(u,f){var p="",m=[[],[]],g=u.querySelectorAll("thead>tr>th"),y=u.querySelectorAll("tbody>tr"),v,T;for(v=0;v<g.length;++v){var R=r.subParser("makeMarkdown.tableCell")(g[v],f),S="---";if(g[v].hasAttribute("style")){var z=g[v].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(z){case"text-align:left;":S=":---";break;case"text-align:right;":S="---:";break;case"text-align:center;":S=":---:";break}}m[0][v]=R.trim(),m[1][v]=S}for(v=0;v<y.length;++v){var B=m.push([])-1,D=y[v].getElementsByTagName("td");for(T=0;T<g.length;++T){var F=" ";typeof D[T]<"u"&&(F=r.subParser("makeMarkdown.tableCell")(D[T],f)),m[B].push(F)}}var L=3;for(v=0;v<m.length;++v)for(T=0;T<m[v].length;++T){var j=m[v][T].length;j>L&&(L=j)}for(v=0;v<m.length;++v){for(T=0;T<m[v].length;++T)v===1?m[v][T].slice(-1)===":"?m[v][T]=r.helper.padEnd(m[v][T].slice(-1),L-1,"-")+":":m[v][T]=r.helper.padEnd(m[v][T],L,"-"):m[v][T]=r.helper.padEnd(m[v][T],L);p+="| "+m[v].join(" | ")+` |
`}return p.trim()}),r.subParser("makeMarkdown.tableCell",function(u,f){var p="";if(!u.hasChildNodes())return"";for(var m=u.childNodes,g=m.length,y=0;y<g;++y)p+=r.subParser("makeMarkdown.node")(m[y],f,!0);return p.trim()}),r.subParser("makeMarkdown.txt",function(u){var f=u.nodeValue;return f=f.replace(/ +/g," "),f=f.replace(/¨NBSP;/g," "),f=r.helper.unescapeHTMLEntities(f),f=f.replace(/([*_~|`])/g,"\\$1"),f=f.replace(/^(\s*)>/g,"\\$1>"),f=f.replace(/^#/gm,"\\#"),f=f.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),f=f.replace(/^( {0,3}\d+)\./gm,"$1\\."),f=f.replace(/^( {0,3})([+-])/gm,"$1\\$2"),f=f.replace(/]([\s]*)\(/g,"\\]$1\\("),f=f.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),f});var P=this;t.exports?t.exports=r:P.showdown=r}).call(ae)})(Av);var jE=Av.exports;const BE=lu(jE);function UE({tempNoteText:t,setTempNoteText:e}){const[n,r]=cn.useState("write"),i=new BE.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return je.jsx("section",{className:"pane editor",children:je.jsx(FE,{value:t,onChange:e,selectedTab:n,onTabChange:r,generateMarkdownPreview:s=>Promise.resolve(i.makeHtml(s)),minEditorHeight:80,heightUnits:"vh"})})}var Iv={exports:{}},$E="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HE=$E,WE=HE;function Pv(){}function Rv(){}Rv.resetWarningCache=Pv;var qE=function(){function t(r,i,s,o,l,c){if(c!==WE){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Rv,resetWarningCache:Pv};return n.PropTypes=n,n};Iv.exports=qE();var KE=Iv.exports;const _e=lu(KE);var zt=typeof window<"u"?window:null,_h=zt===null,Zs=_h?void 0:zt.document,Qt="addEventListener",Yt="removeEventListener",Zl="getBoundingClientRect",fs="_a",Xt="_b",Tn="_c",sa="horizontal",Jt=function(){return!1},GE=_h?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=Zs.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",bv=function(t){return typeof t=="string"||t instanceof String},cm=function(t){if(bv(t)){var e=Zs.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},dt=function(t,e,n){var r=t[e];return r!==void 0?r:n},oa=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},QE=function(t,e){var n=Zs.createElement("div");return n.className="gutter gutter-"+e,n},YE=function(t,e,n){var r={};return bv(e)?r[t]=e:r[t]=GE+"("+e+"% - "+n+"px)",r},XE=function(t,e){var n;return n={},n[t]=e+"px",n},dm=function(t,e){if(e===void 0&&(e={}),_h)return{};var n=t,r,i,s,o,l,c;Array.from&&(n=Array.from(n));var h=cm(n[0]),w=h.parentNode,E=getComputedStyle?getComputedStyle(w):null,k=E?E.flexDirection:null,N=dt(e,"sizes")||n.map(function(){return 100/n.length}),V=dt(e,"minSize",100),b=Array.isArray(V)?V:n.map(function(){return V}),M=dt(e,"maxSize",1/0),I=Array.isArray(M)?M:n.map(function(){return M}),C=dt(e,"expandToMin",!1),P=dt(e,"gutterSize",10),u=dt(e,"gutterAlign","center"),f=dt(e,"snapOffset",30),p=Array.isArray(f)?f:n.map(function(){return f}),m=dt(e,"dragInterval",1),g=dt(e,"direction",sa),y=dt(e,"cursor",g===sa?"col-resize":"row-resize"),v=dt(e,"gutter",QE),T=dt(e,"elementStyle",YE),R=dt(e,"gutterStyle",XE);g===sa?(r="width",i="clientX",s="left",o="right",l="clientWidth"):g==="vertical"&&(r="height",i="clientY",s="top",o="bottom",l="clientHeight");function S(Y,$,K,Z){var Ce=T(r,$,K,Z);Object.keys(Ce).forEach(function(we){Y.style[we]=Ce[we]})}function z(Y,$,K){var Z=R(r,$,K);Object.keys(Z).forEach(function(Ce){Y.style[Ce]=Z[Ce]})}function B(){return c.map(function(Y){return Y.size})}function D(Y){return"touches"in Y?Y.touches[0][i]:Y[i]}function F(Y){var $=c[this.a],K=c[this.b],Z=$.size+K.size;$.size=Y/this.size*Z,K.size=Z-Y/this.size*Z,S($.element,$.size,this[Xt],$.i),S(K.element,K.size,this[Tn],K.i)}function L(Y){var $,K=c[this.a],Z=c[this.b];this.dragging&&($=D(Y)-this.start+(this[Xt]-this.dragOffset),m>1&&($=Math.round($/m)*m),$<=K.minSize+K.snapOffset+this[Xt]?$=K.minSize+this[Xt]:$>=this.size-(Z.minSize+Z.snapOffset+this[Tn])&&($=this.size-(Z.minSize+this[Tn])),$>=K.maxSize-K.snapOffset+this[Xt]?$=K.maxSize+this[Xt]:$<=this.size-(Z.maxSize-Z.snapOffset+this[Tn])&&($=this.size-(Z.maxSize+this[Tn])),F.call(this,$),dt(e,"onDrag",Jt)(B()))}function j(){var Y=c[this.a].element,$=c[this.b].element,K=Y[Zl](),Z=$[Zl]();this.size=K[r]+Z[r]+this[Xt]+this[Tn],this.start=K[s],this.end=K[o]}function Q(Y){if(!getComputedStyle)return null;var $=getComputedStyle(Y);if(!$)return null;var K=Y[l];return K===0?null:(g===sa?K-=parseFloat($.paddingLeft)+parseFloat($.paddingRight):K-=parseFloat($.paddingTop)+parseFloat($.paddingBottom),K)}function q(Y){var $=Q(w);if($===null||b.reduce(function(we,Xe){return we+Xe},0)>$)return Y;var K=0,Z=[],Ce=Y.map(function(we,Xe){var qt=$*we/100,fr=oa(P,Xe===0,Xe===Y.length-1,u),$r=b[Xe]+fr;return qt<$r?(K+=$r-qt,Z.push(0),$r):(Z.push(qt-$r),qt)});return K===0?Y:Ce.map(function(we,Xe){var qt=we;if(K>0&&Z[Xe]-K>0){var fr=Math.min(K,Z[Xe]-K);K-=fr,qt=we-fr}return qt/$*100})}function ne(){var Y=this,$=c[Y.a].element,K=c[Y.b].element;Y.dragging&&dt(e,"onDragEnd",Jt)(B()),Y.dragging=!1,zt[Yt]("mouseup",Y.stop),zt[Yt]("touchend",Y.stop),zt[Yt]("touchcancel",Y.stop),zt[Yt]("mousemove",Y.move),zt[Yt]("touchmove",Y.move),Y.stop=null,Y.move=null,$[Yt]("selectstart",Jt),$[Yt]("dragstart",Jt),K[Yt]("selectstart",Jt),K[Yt]("dragstart",Jt),$.style.userSelect="",$.style.webkitUserSelect="",$.style.MozUserSelect="",$.style.pointerEvents="",K.style.userSelect="",K.style.webkitUserSelect="",K.style.MozUserSelect="",K.style.pointerEvents="",Y.gutter.style.cursor="",Y.parent.style.cursor="",Zs.body.style.cursor=""}function oe(Y){if(!("button"in Y&&Y.button!==0)){var $=this,K=c[$.a].element,Z=c[$.b].element;$.dragging||dt(e,"onDragStart",Jt)(B()),Y.preventDefault(),$.dragging=!0,$.move=L.bind($),$.stop=ne.bind($),zt[Qt]("mouseup",$.stop),zt[Qt]("touchend",$.stop),zt[Qt]("touchcancel",$.stop),zt[Qt]("mousemove",$.move),zt[Qt]("touchmove",$.move),K[Qt]("selectstart",Jt),K[Qt]("dragstart",Jt),Z[Qt]("selectstart",Jt),Z[Qt]("dragstart",Jt),K.style.userSelect="none",K.style.webkitUserSelect="none",K.style.MozUserSelect="none",K.style.pointerEvents="none",Z.style.userSelect="none",Z.style.webkitUserSelect="none",Z.style.MozUserSelect="none",Z.style.pointerEvents="none",$.gutter.style.cursor=y,$.parent.style.cursor=y,Zs.body.style.cursor=y,j.call($),$.dragOffset=D(Y)-$.end}}N=q(N);var ge=[];c=n.map(function(Y,$){var K={element:cm(Y),size:N[$],minSize:b[$],maxSize:I[$],snapOffset:p[$],i:$},Z;if($>0&&(Z={a:$-1,b:$,dragging:!1,direction:g,parent:w},Z[Xt]=oa(P,$-1===0,!1,u),Z[Tn]=oa(P,!1,$===n.length-1,u),k==="row-reverse"||k==="column-reverse")){var Ce=Z.a;Z.a=Z.b,Z.b=Ce}if($>0){var we=v($,g,K.element);z(we,P,$),Z[fs]=oe.bind(Z),we[Qt]("mousedown",Z[fs]),we[Qt]("touchstart",Z[fs]),w.insertBefore(we,K.element),Z.gutter=we}return S(K.element,K.size,oa(P,$===0,$===n.length-1,u),$),$>0&&ge.push(Z),K});function me(Y){var $=Y.i===ge.length,K=$?ge[Y.i-1]:ge[Y.i];j.call(K);var Z=$?K.size-Y.minSize-K[Tn]:Y.minSize+K[Xt];F.call(K,Z)}c.forEach(function(Y){var $=Y.element[Zl]()[r];$<Y.minSize&&(C?me(Y):Y.minSize=$)});function ye(Y){var $=q(Y);$.forEach(function(K,Z){if(Z>0){var Ce=ge[Z-1],we=c[Ce.a],Xe=c[Ce.b];we.size=$[Z-1],Xe.size=K,S(we.element,we.size,Ce[Xt],we.i),S(Xe.element,Xe.size,Ce[Tn],Xe.i)}})}function Se(Y,$){ge.forEach(function(K){if($!==!0?K.parent.removeChild(K.gutter):(K.gutter[Yt]("mousedown",K[fs]),K.gutter[Yt]("touchstart",K[fs])),Y!==!0){var Z=T(r,K.a.size,K[Xt]);Object.keys(Z).forEach(function(Ce){c[K.a].element.style[Ce]="",c[K.b].element.style[Ce]=""})}})}return{setSizes:ye,getSizes:B,collapse:function($){me(c[$])},destroy:Se,parent:w,pairs:ge}};function ec(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var vh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=ec(r,["children","gutter"]),o=s;o.gutter=function(l,c){var h;return i?h=i(l,c):(h=document.createElement("div"),h.className="gutter gutter-"+c),h.__isSplitGutter=!0,h},this.split=dm(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,l=s.sizes,c=s.collapsed,h=ec(s,["children","minSize","sizes","collapsed"]),w=h,E=r.minSize,k=r.sizes,N=r.collapsed,V=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],b=V.map(function(C){return i.props[C]!==r[C]}).reduce(function(C,P){return C||P},!1);if(Array.isArray(o)&&Array.isArray(E)){var M=!1;o.forEach(function(C,P){M=M||C!==E[P]}),b=b||M}else Array.isArray(o)||Array.isArray(E)?b=!0:b=b||o!==E;if(b)w.minSize=o,w.sizes=l||this.split.getSizes(),this.split.destroy(!0,!0),w.gutter=function(C,P,u){return u.previousSibling},this.split=dm(Array.from(this.parent.children).filter(function(C){return!C.__isSplitGutter}),w);else if(l){var I=!1;l.forEach(function(C,P){I=I||C!==k[P]}),I&&this.split.setSizes(this.props.sizes)}Number.isInteger(c)&&(c!==N||b)&&this.split.collapse(c)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=ec(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),l=o;return cn.createElement("div",Object.assign({},{ref:function(c){r.parent=c}},l),s)},e}(cn.Component);vh.propTypes={sizes:_e.arrayOf(_e.number),minSize:_e.oneOfType([_e.number,_e.arrayOf(_e.number)]),maxSize:_e.oneOfType([_e.number,_e.arrayOf(_e.number)]),expandToMin:_e.bool,gutterSize:_e.number,gutterAlign:_e.string,snapOffset:_e.oneOfType([_e.number,_e.arrayOf(_e.number)]),dragInterval:_e.number,direction:_e.string,cursor:_e.string,gutter:_e.func,elementStyle:_e.func,gutterStyle:_e.func,onDrag:_e.func,onDragStart:_e.func,onDragEnd:_e.func,collapsed:_e.number,children:_e.arrayOf(_e.element)};vh.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};var hm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,w=s>>2,E=(s&3)<<4|l>>4;let k=(l&15)<<2|h>>6,N=h&63;c||(N=64,o||(k=64)),r.push(n[w],n[E],n[k],n[N])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const E=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||E==null)throw new ZE;const k=s<<2|l>>4;if(r.push(k),h!==64){const N=l<<4&240|h>>2;if(r.push(N),E!==64){const V=h<<6&192|E;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e8=function(t){const e=Dv(t);return Nv.encodeByteArray(e,!0)},Ja=function(t){return e8(t).replace(/\./g,"")},t8=function(t){try{return Nv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=()=>n8().__FIREBASE_DEFAULTS__,i8=()=>{if(typeof process>"u"||typeof hm>"u")return;const t=hm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&t8(t[1]);return e&&JSON.parse(e)},yh=()=>{try{return r8()||i8()||s8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},o8=t=>{var e,n;return(n=(e=yh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},a8=t=>{const e=o8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Vv=()=>{var t;return(t=yh())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ja(JSON.stringify(n)),Ja(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d8(){var t;const e=(t=yh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h8(){return!d8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f8(){try{return typeof indexedDB=="object"}catch{return!1}}function p8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="FirebaseError";class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=m8,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mv.prototype.create)}}class Mv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?g8(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Fi(i,l,r)}}function g8(t,e){return t.replace(_8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _8=/\{\$([^}]+)}/g;function td(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fm(s)&&fm(o)){if(!td(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t){return t&&t._delegate?t._delegate:t}class eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new u8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w8(e))try{this.getOrInitializeService({instanceIdentifier:Er})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Er){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Er){return this.instances.has(e)}getOptions(e=Er){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Er){return this.component?this.component.multipleInstances?e:Er:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y8(t){return t===Er?void 0:t}function w8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new v8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const T8={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},S8=de.INFO,k8={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},C8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=k8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ov{constructor(e){this.name=e,this._logLevel=S8,this._logHandler=C8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?T8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const A8=(t,e)=>e.some(n=>t instanceof n);let pm,mm;function I8(){return pm||(pm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P8(){return mm||(mm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lv=new WeakMap,nd=new WeakMap,xv=new WeakMap,tc=new WeakMap,wh=new WeakMap;function R8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(tr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Lv.set(n,t)}).catch(()=>{}),wh.set(e,t),e}function b8(t){if(nd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nd.set(t,e)}let rd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function D8(t){rd=t(rd)}function N8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nc(this),e,...n);return xv.set(r,e.sort?e.sort():[e]),tr(r)}:P8().includes(t)?function(...e){return t.apply(nc(this),e),tr(Lv.get(this))}:function(...e){return tr(t.apply(nc(this),e))}}function V8(t){return typeof t=="function"?N8(t):(t instanceof IDBTransaction&&b8(t),A8(t,I8())?new Proxy(t,rd):t)}function tr(t){if(t instanceof IDBRequest)return R8(t);if(tc.has(t))return tc.get(t);const e=V8(t);return e!==t&&(tc.set(t,e),wh.set(e,t)),e}const nc=t=>wh.get(t);function M8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=tr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(tr(o.result),c.oldVersion,c.newVersion,tr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const O8=["get","getKey","getAll","getAllKeys","count"],L8=["put","add","delete","clear"],rc=new Map;function gm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rc.get(e))return rc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=L8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||O8.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return rc.set(e,s),s}D8(t=>({...t,get:(e,n,r)=>gm(e,n)||t.get(e,n,r),has:(e,n)=>!!gm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(z8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function z8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const id="@firebase/app",_m="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new Ov("@firebase/app"),F8="@firebase/app-compat",j8="@firebase/analytics-compat",B8="@firebase/analytics",U8="@firebase/app-check-compat",$8="@firebase/app-check",H8="@firebase/auth",W8="@firebase/auth-compat",q8="@firebase/database",K8="@firebase/database-compat",G8="@firebase/functions",Q8="@firebase/functions-compat",Y8="@firebase/installations",X8="@firebase/installations-compat",J8="@firebase/messaging",Z8="@firebase/messaging-compat",e2="@firebase/performance",t2="@firebase/performance-compat",n2="@firebase/remote-config",r2="@firebase/remote-config-compat",i2="@firebase/storage",s2="@firebase/storage-compat",o2="@firebase/firestore",a2="@firebase/vertexai-preview",u2="@firebase/firestore-compat",l2="firebase",c2="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="[DEFAULT]",d2={[id]:"fire-core",[F8]:"fire-core-compat",[B8]:"fire-analytics",[j8]:"fire-analytics-compat",[$8]:"fire-app-check",[U8]:"fire-app-check-compat",[H8]:"fire-auth",[W8]:"fire-auth-compat",[q8]:"fire-rtdb",[K8]:"fire-rtdb-compat",[G8]:"fire-fn",[Q8]:"fire-fn-compat",[Y8]:"fire-iid",[X8]:"fire-iid-compat",[J8]:"fire-fcm",[Z8]:"fire-fcm-compat",[e2]:"fire-perf",[t2]:"fire-perf-compat",[n2]:"fire-rc",[r2]:"fire-rc-compat",[i2]:"fire-gcs",[s2]:"fire-gcs-compat",[o2]:"fire-fst",[u2]:"fire-fst-compat",[a2]:"fire-vertex","fire-js":"fire-js",[l2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new Map,h2=new Map,od=new Map;function vm(t,e){try{t.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eu(t){const e=t.name;if(od.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;od.set(e,t);for(const n of Za.values())vm(n,t);for(const n of h2.values())vm(n,t);return!0}function f2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new Mv("app","Firebase",p2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=c2;function zv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw nr.create("bad-app-name",{appName:String(i)});if(n||(n=Vv()),!n)throw nr.create("no-options");const s=Za.get(i);if(s){if(td(n,s.options)&&td(r,s.config))return s;throw nr.create("duplicate-app",{appName:i})}const o=new E8(i);for(const c of od.values())o.addComponent(c);const l=new m2(n,r,o);return Za.set(i,l),l}function _2(t=sd){const e=Za.get(t);if(!e&&t===sd&&Vv())return zv();if(!e)throw nr.create("no-app",{appName:t});return e}function vi(t,e,n){var r;let i=(r=d2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(l.join(" "));return}eu(new eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebase-heartbeat-database",y2=1,to="firebase-heartbeat-store";let ic=null;function Fv(){return ic||(ic=M8(v2,y2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(to)}catch(n){console.warn(n)}}}}).catch(t=>{throw nr.create("idb-open",{originalErrorMessage:t.message})})),ic}async function w2(t){try{const n=(await Fv()).transaction(to),r=await n.objectStore(to).get(jv(t));return await n.done,r}catch(e){if(e instanceof Fi)Or.warn(e.message);else{const n=nr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(n.message)}}}async function ym(t,e){try{const r=(await Fv()).transaction(to,"readwrite");await r.objectStore(to).put(e,jv(t)),await r.done}catch(n){if(n instanceof Fi)Or.warn(n.message);else{const r=nr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Or.warn(r.message)}}}function jv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=1024,T2=30*24*60*60*1e3;class S2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wm();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=T2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wm(),{heartbeatsToSend:r,unsentEntries:i}=k2(this._heartbeatsCache.heartbeats),s=Ja(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function wm(){return new Date().toISOString().substring(0,10)}function k2(t,e=E2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Em(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Em(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class C2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f8()?p8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await w2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ym(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ym(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Em(t){return Ja(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){eu(new eo("platform-logger",e=>new x8(e),"PRIVATE")),eu(new eo("heartbeat",e=>new S2(e),"PRIVATE")),vi(id,_m,t),vi(id,_m,"esm2017"),vi("fire-js","")}A2("");var Tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pr,Bv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(m,g){function y(){}y.prototype=g.prototype,m.D=g.prototype,m.prototype=new y,m.prototype.constructor=m,m.C=function(v,T,R){for(var S=Array(arguments.length-2),z=2;z<arguments.length;z++)S[z-2]=arguments[z];return g.prototype[T].apply(v,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(m,g,y){y||(y=0);var v=Array(16);if(typeof g=="string")for(var T=0;16>T;++T)v[T]=g.charCodeAt(y++)|g.charCodeAt(y++)<<8|g.charCodeAt(y++)<<16|g.charCodeAt(y++)<<24;else for(T=0;16>T;++T)v[T]=g[y++]|g[y++]<<8|g[y++]<<16|g[y++]<<24;g=m.g[0],y=m.g[1],T=m.g[2];var R=m.g[3],S=g+(R^y&(T^R))+v[0]+3614090360&4294967295;g=y+(S<<7&4294967295|S>>>25),S=R+(T^g&(y^T))+v[1]+3905402710&4294967295,R=g+(S<<12&4294967295|S>>>20),S=T+(y^R&(g^y))+v[2]+606105819&4294967295,T=R+(S<<17&4294967295|S>>>15),S=y+(g^T&(R^g))+v[3]+3250441966&4294967295,y=T+(S<<22&4294967295|S>>>10),S=g+(R^y&(T^R))+v[4]+4118548399&4294967295,g=y+(S<<7&4294967295|S>>>25),S=R+(T^g&(y^T))+v[5]+1200080426&4294967295,R=g+(S<<12&4294967295|S>>>20),S=T+(y^R&(g^y))+v[6]+2821735955&4294967295,T=R+(S<<17&4294967295|S>>>15),S=y+(g^T&(R^g))+v[7]+4249261313&4294967295,y=T+(S<<22&4294967295|S>>>10),S=g+(R^y&(T^R))+v[8]+1770035416&4294967295,g=y+(S<<7&4294967295|S>>>25),S=R+(T^g&(y^T))+v[9]+2336552879&4294967295,R=g+(S<<12&4294967295|S>>>20),S=T+(y^R&(g^y))+v[10]+4294925233&4294967295,T=R+(S<<17&4294967295|S>>>15),S=y+(g^T&(R^g))+v[11]+2304563134&4294967295,y=T+(S<<22&4294967295|S>>>10),S=g+(R^y&(T^R))+v[12]+1804603682&4294967295,g=y+(S<<7&4294967295|S>>>25),S=R+(T^g&(y^T))+v[13]+4254626195&4294967295,R=g+(S<<12&4294967295|S>>>20),S=T+(y^R&(g^y))+v[14]+2792965006&4294967295,T=R+(S<<17&4294967295|S>>>15),S=y+(g^T&(R^g))+v[15]+1236535329&4294967295,y=T+(S<<22&4294967295|S>>>10),S=g+(T^R&(y^T))+v[1]+4129170786&4294967295,g=y+(S<<5&4294967295|S>>>27),S=R+(y^T&(g^y))+v[6]+3225465664&4294967295,R=g+(S<<9&4294967295|S>>>23),S=T+(g^y&(R^g))+v[11]+643717713&4294967295,T=R+(S<<14&4294967295|S>>>18),S=y+(R^g&(T^R))+v[0]+3921069994&4294967295,y=T+(S<<20&4294967295|S>>>12),S=g+(T^R&(y^T))+v[5]+3593408605&4294967295,g=y+(S<<5&4294967295|S>>>27),S=R+(y^T&(g^y))+v[10]+38016083&4294967295,R=g+(S<<9&4294967295|S>>>23),S=T+(g^y&(R^g))+v[15]+3634488961&4294967295,T=R+(S<<14&4294967295|S>>>18),S=y+(R^g&(T^R))+v[4]+3889429448&4294967295,y=T+(S<<20&4294967295|S>>>12),S=g+(T^R&(y^T))+v[9]+568446438&4294967295,g=y+(S<<5&4294967295|S>>>27),S=R+(y^T&(g^y))+v[14]+3275163606&4294967295,R=g+(S<<9&4294967295|S>>>23),S=T+(g^y&(R^g))+v[3]+4107603335&4294967295,T=R+(S<<14&4294967295|S>>>18),S=y+(R^g&(T^R))+v[8]+1163531501&4294967295,y=T+(S<<20&4294967295|S>>>12),S=g+(T^R&(y^T))+v[13]+2850285829&4294967295,g=y+(S<<5&4294967295|S>>>27),S=R+(y^T&(g^y))+v[2]+4243563512&4294967295,R=g+(S<<9&4294967295|S>>>23),S=T+(g^y&(R^g))+v[7]+1735328473&4294967295,T=R+(S<<14&4294967295|S>>>18),S=y+(R^g&(T^R))+v[12]+2368359562&4294967295,y=T+(S<<20&4294967295|S>>>12),S=g+(y^T^R)+v[5]+4294588738&4294967295,g=y+(S<<4&4294967295|S>>>28),S=R+(g^y^T)+v[8]+2272392833&4294967295,R=g+(S<<11&4294967295|S>>>21),S=T+(R^g^y)+v[11]+1839030562&4294967295,T=R+(S<<16&4294967295|S>>>16),S=y+(T^R^g)+v[14]+4259657740&4294967295,y=T+(S<<23&4294967295|S>>>9),S=g+(y^T^R)+v[1]+2763975236&4294967295,g=y+(S<<4&4294967295|S>>>28),S=R+(g^y^T)+v[4]+1272893353&4294967295,R=g+(S<<11&4294967295|S>>>21),S=T+(R^g^y)+v[7]+4139469664&4294967295,T=R+(S<<16&4294967295|S>>>16),S=y+(T^R^g)+v[10]+3200236656&4294967295,y=T+(S<<23&4294967295|S>>>9),S=g+(y^T^R)+v[13]+681279174&4294967295,g=y+(S<<4&4294967295|S>>>28),S=R+(g^y^T)+v[0]+3936430074&4294967295,R=g+(S<<11&4294967295|S>>>21),S=T+(R^g^y)+v[3]+3572445317&4294967295,T=R+(S<<16&4294967295|S>>>16),S=y+(T^R^g)+v[6]+76029189&4294967295,y=T+(S<<23&4294967295|S>>>9),S=g+(y^T^R)+v[9]+3654602809&4294967295,g=y+(S<<4&4294967295|S>>>28),S=R+(g^y^T)+v[12]+3873151461&4294967295,R=g+(S<<11&4294967295|S>>>21),S=T+(R^g^y)+v[15]+530742520&4294967295,T=R+(S<<16&4294967295|S>>>16),S=y+(T^R^g)+v[2]+3299628645&4294967295,y=T+(S<<23&4294967295|S>>>9),S=g+(T^(y|~R))+v[0]+4096336452&4294967295,g=y+(S<<6&4294967295|S>>>26),S=R+(y^(g|~T))+v[7]+1126891415&4294967295,R=g+(S<<10&4294967295|S>>>22),S=T+(g^(R|~y))+v[14]+2878612391&4294967295,T=R+(S<<15&4294967295|S>>>17),S=y+(R^(T|~g))+v[5]+4237533241&4294967295,y=T+(S<<21&4294967295|S>>>11),S=g+(T^(y|~R))+v[12]+1700485571&4294967295,g=y+(S<<6&4294967295|S>>>26),S=R+(y^(g|~T))+v[3]+2399980690&4294967295,R=g+(S<<10&4294967295|S>>>22),S=T+(g^(R|~y))+v[10]+4293915773&4294967295,T=R+(S<<15&4294967295|S>>>17),S=y+(R^(T|~g))+v[1]+2240044497&4294967295,y=T+(S<<21&4294967295|S>>>11),S=g+(T^(y|~R))+v[8]+1873313359&4294967295,g=y+(S<<6&4294967295|S>>>26),S=R+(y^(g|~T))+v[15]+4264355552&4294967295,R=g+(S<<10&4294967295|S>>>22),S=T+(g^(R|~y))+v[6]+2734768916&4294967295,T=R+(S<<15&4294967295|S>>>17),S=y+(R^(T|~g))+v[13]+1309151649&4294967295,y=T+(S<<21&4294967295|S>>>11),S=g+(T^(y|~R))+v[4]+4149444226&4294967295,g=y+(S<<6&4294967295|S>>>26),S=R+(y^(g|~T))+v[11]+3174756917&4294967295,R=g+(S<<10&4294967295|S>>>22),S=T+(g^(R|~y))+v[2]+718787259&4294967295,T=R+(S<<15&4294967295|S>>>17),S=y+(R^(T|~g))+v[9]+3951481745&4294967295,m.g[0]=m.g[0]+g&4294967295,m.g[1]=m.g[1]+(T+(S<<21&4294967295|S>>>11))&4294967295,m.g[2]=m.g[2]+T&4294967295,m.g[3]=m.g[3]+R&4294967295}r.prototype.u=function(m,g){g===void 0&&(g=m.length);for(var y=g-this.blockSize,v=this.B,T=this.h,R=0;R<g;){if(T==0)for(;R<=y;)i(this,m,R),R+=this.blockSize;if(typeof m=="string"){for(;R<g;)if(v[T++]=m.charCodeAt(R++),T==this.blockSize){i(this,v),T=0;break}}else for(;R<g;)if(v[T++]=m[R++],T==this.blockSize){i(this,v),T=0;break}}this.h=T,this.o+=g},r.prototype.v=function(){var m=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);m[0]=128;for(var g=1;g<m.length-8;++g)m[g]=0;var y=8*this.o;for(g=m.length-8;g<m.length;++g)m[g]=y&255,y/=256;for(this.u(m),m=Array(16),g=y=0;4>g;++g)for(var v=0;32>v;v+=8)m[y++]=this.g[g]>>>v&255;return m};function s(m,g){var y=l;return Object.prototype.hasOwnProperty.call(y,m)?y[m]:y[m]=g(m)}function o(m,g){this.h=g;for(var y=[],v=!0,T=m.length-1;0<=T;T--){var R=m[T]|0;v&&R==g||(y[T]=R,v=!1)}this.g=y}var l={};function c(m){return-128<=m&&128>m?s(m,function(g){return new o([g|0],0>g?-1:0)}):new o([m|0],0>m?-1:0)}function h(m){if(isNaN(m)||!isFinite(m))return E;if(0>m)return M(h(-m));for(var g=[],y=1,v=0;m>=y;v++)g[v]=m/y|0,y*=4294967296;return new o(g,0)}function w(m,g){if(m.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(m.charAt(0)=="-")return M(w(m.substring(1),g));if(0<=m.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=h(Math.pow(g,8)),v=E,T=0;T<m.length;T+=8){var R=Math.min(8,m.length-T),S=parseInt(m.substring(T,T+R),g);8>R?(R=h(Math.pow(g,R)),v=v.j(R).add(h(S))):(v=v.j(y),v=v.add(h(S)))}return v}var E=c(0),k=c(1),N=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-M(this).m();for(var m=0,g=1,y=0;y<this.g.length;y++){var v=this.i(y);m+=(0<=v?v:4294967296+v)*g,g*=4294967296}return m},t.toString=function(m){if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(V(this))return"0";if(b(this))return"-"+M(this).toString(m);for(var g=h(Math.pow(m,6)),y=this,v="";;){var T=u(y,g).g;y=I(y,T.j(g));var R=((0<y.g.length?y.g[0]:y.h)>>>0).toString(m);if(y=T,V(y))return R+v;for(;6>R.length;)R="0"+R;v=R+v}},t.i=function(m){return 0>m?0:m<this.g.length?this.g[m]:this.h};function V(m){if(m.h!=0)return!1;for(var g=0;g<m.g.length;g++)if(m.g[g]!=0)return!1;return!0}function b(m){return m.h==-1}t.l=function(m){return m=I(this,m),b(m)?-1:V(m)?0:1};function M(m){for(var g=m.g.length,y=[],v=0;v<g;v++)y[v]=~m.g[v];return new o(y,~m.h).add(k)}t.abs=function(){return b(this)?M(this):this},t.add=function(m){for(var g=Math.max(this.g.length,m.g.length),y=[],v=0,T=0;T<=g;T++){var R=v+(this.i(T)&65535)+(m.i(T)&65535),S=(R>>>16)+(this.i(T)>>>16)+(m.i(T)>>>16);v=S>>>16,R&=65535,S&=65535,y[T]=S<<16|R}return new o(y,y[y.length-1]&-2147483648?-1:0)};function I(m,g){return m.add(M(g))}t.j=function(m){if(V(this)||V(m))return E;if(b(this))return b(m)?M(this).j(M(m)):M(M(this).j(m));if(b(m))return M(this.j(M(m)));if(0>this.l(N)&&0>m.l(N))return h(this.m()*m.m());for(var g=this.g.length+m.g.length,y=[],v=0;v<2*g;v++)y[v]=0;for(v=0;v<this.g.length;v++)for(var T=0;T<m.g.length;T++){var R=this.i(v)>>>16,S=this.i(v)&65535,z=m.i(T)>>>16,B=m.i(T)&65535;y[2*v+2*T]+=S*B,C(y,2*v+2*T),y[2*v+2*T+1]+=R*B,C(y,2*v+2*T+1),y[2*v+2*T+1]+=S*z,C(y,2*v+2*T+1),y[2*v+2*T+2]+=R*z,C(y,2*v+2*T+2)}for(v=0;v<g;v++)y[v]=y[2*v+1]<<16|y[2*v];for(v=g;v<2*g;v++)y[v]=0;return new o(y,0)};function C(m,g){for(;(m[g]&65535)!=m[g];)m[g+1]+=m[g]>>>16,m[g]&=65535,g++}function P(m,g){this.g=m,this.h=g}function u(m,g){if(V(g))throw Error("division by zero");if(V(m))return new P(E,E);if(b(m))return g=u(M(m),g),new P(M(g.g),M(g.h));if(b(g))return g=u(m,M(g)),new P(M(g.g),g.h);if(30<m.g.length){if(b(m)||b(g))throw Error("slowDivide_ only works with positive integers.");for(var y=k,v=g;0>=v.l(m);)y=f(y),v=f(v);var T=p(y,1),R=p(v,1);for(v=p(v,2),y=p(y,2);!V(v);){var S=R.add(v);0>=S.l(m)&&(T=T.add(y),R=S),v=p(v,1),y=p(y,1)}return g=I(m,T.j(g)),new P(T,g)}for(T=E;0<=m.l(g);){for(y=Math.max(1,Math.floor(m.m()/g.m())),v=Math.ceil(Math.log(y)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),R=h(y),S=R.j(g);b(S)||0<S.l(m);)y-=v,R=h(y),S=R.j(g);V(R)&&(R=k),T=T.add(R),m=I(m,S)}return new P(T,m)}t.A=function(m){return u(this,m).h},t.and=function(m){for(var g=Math.max(this.g.length,m.g.length),y=[],v=0;v<g;v++)y[v]=this.i(v)&m.i(v);return new o(y,this.h&m.h)},t.or=function(m){for(var g=Math.max(this.g.length,m.g.length),y=[],v=0;v<g;v++)y[v]=this.i(v)|m.i(v);return new o(y,this.h|m.h)},t.xor=function(m){for(var g=Math.max(this.g.length,m.g.length),y=[],v=0;v<g;v++)y[v]=this.i(v)^m.i(v);return new o(y,this.h^m.h)};function f(m){for(var g=m.g.length+1,y=[],v=0;v<g;v++)y[v]=m.i(v)<<1|m.i(v-1)>>>31;return new o(y,m.h)}function p(m,g){var y=g>>5;g%=32;for(var v=m.g.length-y,T=[],R=0;R<v;R++)T[R]=0<g?m.i(R+y)>>>g|m.i(R+y+1)<<32-g:m.i(R+y);return new o(T,m.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Bv=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=w,Pr=o}).apply(typeof Tm<"u"?Tm:typeof self<"u"?self:typeof window<"u"?window:{});var aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uv,$v,ys,Hv,Sa,ad,Wv,qv,Kv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,_){return a==Array.prototype||a==Object.prototype||(a[d]=_.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof aa=="object"&&aa];for(var d=0;d<a.length;++d){var _=a[d];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var _=r;a=a.split(".");for(var A=0;A<a.length-1;A++){var O=a[A];if(!(O in _))break e;_=_[O]}a=a[a.length-1],A=_[a],d=d(A),d!=A&&d!=null&&e(_,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var _=0,A=!1,O={next:function(){if(!A&&_<a.length){var x=_++;return{value:d(x,a[x]),done:!1}}return A=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function h(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function w(a,d,_){return a.call.apply(a.bind,arguments)}function E(a,d,_){if(!a)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,A),a.apply(d,O)}}return function(){return a.apply(d,arguments)}}function k(a,d,_){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:E,k.apply(null,arguments)}function N(a,d){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),a.apply(this,A)}}function V(a,d){function _(){}_.prototype=d.prototype,a.aa=d.prototype,a.prototype=new _,a.prototype.constructor=a,a.Qb=function(A,O,x){for(var G=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)G[Ee-2]=arguments[Ee];return d.prototype[O].apply(A,G)}}function b(a){const d=a.length;if(0<d){const _=Array(d);for(let A=0;A<d;A++)_[A]=a[A];return _}return[]}function M(a,d){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(c(A)){const O=a.length||0,x=A.length||0;a.length=O+x;for(let G=0;G<x;G++)a[O+G]=A[G]}else a.push(A)}}class I{constructor(d,_){this.i=d,this.j=_,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function C(a){return/^[\s\xa0]*$/.test(a)}function P(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function u(a){return u[" "](a),a}u[" "]=function(){};var f=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function p(a,d,_){for(const A in a)d.call(_,a[A],A,a)}function m(a,d){for(const _ in a)d.call(void 0,a[_],_,a)}function g(a){const d={};for(const _ in a)d[_]=a[_];return d}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(a,d){let _,A;for(let O=1;O<arguments.length;O++){A=arguments[O];for(_ in A)a[_]=A[_];for(let x=0;x<y.length;x++)_=y[x],Object.prototype.hasOwnProperty.call(A,_)&&(a[_]=A[_])}}function T(a){var d=1;a=a.split(":");const _=[];for(;0<d&&a.length;)_.push(a.shift()),d--;return a.length&&_.push(a.join(":")),_}function R(a){l.setTimeout(()=>{throw a},0)}function S(){var a=j;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class z{constructor(){this.h=this.g=null}add(d,_){const A=B.get();A.set(d,_),this.h?this.h.next=A:this.g=A,this.h=A}}var B=new I(()=>new D,a=>a.reset());class D{constructor(){this.next=this.g=this.h=null}set(d,_){this.h=d,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let F,L=!1,j=new z,Q=()=>{const a=l.Promise.resolve(void 0);F=()=>{a.then(q)}};var q=()=>{for(var a;a=S();){try{a.h.call(a.g)}catch(_){R(_)}var d=B;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}L=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const _=()=>{};l.addEventListener("test",_,d),l.removeEventListener("test",_,d)}catch{}return a}();function me(a,d){if(oe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var _=this.type=a.type,A=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(f){e:{try{u(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else _=="mouseover"?d=a.fromElement:_=="mouseout"&&(d=a.toElement);this.relatedTarget=d,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ye[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&me.aa.h.call(this)}}V(me,oe);var ye={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Y=0;function $(a,d,_,A,O){this.listener=a,this.proxy=null,this.src=d,this.type=_,this.capture=!!A,this.ha=O,this.key=++Y,this.da=this.fa=!1}function K(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Z(a){this.src=a,this.g={},this.h=0}Z.prototype.add=function(a,d,_,A,O){var x=a.toString();a=this.g[x],a||(a=this.g[x]=[],this.h++);var G=we(a,d,A,O);return-1<G?(d=a[G],_||(d.fa=!1)):(d=new $(d,this.src,x,!!A,O),d.fa=_,a.push(d)),d};function Ce(a,d){var _=d.type;if(_ in a.g){var A=a.g[_],O=Array.prototype.indexOf.call(A,d,void 0),x;(x=0<=O)&&Array.prototype.splice.call(A,O,1),x&&(K(d),a.g[_].length==0&&(delete a.g[_],a.h--))}}function we(a,d,_,A){for(var O=0;O<a.length;++O){var x=a[O];if(!x.da&&x.listener==d&&x.capture==!!_&&x.ha==A)return O}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),qt={};function fr(a,d,_,A,O){if(Array.isArray(d)){for(var x=0;x<d.length;x++)fr(a,d[x],_,A,O);return null}return _=Xh(_),a&&a[Se]?a.K(d,_,h(A)?!!A.capture:!!A,O):$r(a,d,_,!1,A,O)}function $r(a,d,_,A,O,x){if(!d)throw Error("Invalid event type");var G=h(O)?!!O.capture:!!O,Ee=rl(a);if(Ee||(a[Xe]=Ee=new Z(a)),_=Ee.add(d,_,A,G,x),_.proxy)return _;if(A=d0(),_.proxy=A,A.src=a,A.listener=_,a.addEventListener)ge||(O=G),O===void 0&&(O=!1),a.addEventListener(d.toString(),A,O);else if(a.attachEvent)a.attachEvent(Yh(d.toString()),A);else if(a.addListener&&a.removeListener)a.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function d0(){function a(_){return d.call(a.src,a.listener,_)}const d=h0;return a}function Qh(a,d,_,A,O){if(Array.isArray(d))for(var x=0;x<d.length;x++)Qh(a,d[x],_,A,O);else A=h(A)?!!A.capture:!!A,_=Xh(_),a&&a[Se]?(a=a.i,d=String(d).toString(),d in a.g&&(x=a.g[d],_=we(x,_,A,O),-1<_&&(K(x[_]),Array.prototype.splice.call(x,_,1),x.length==0&&(delete a.g[d],a.h--)))):a&&(a=rl(a))&&(d=a.g[d.toString()],a=-1,d&&(a=we(d,_,A,O)),(_=-1<a?d[a]:null)&&nl(_))}function nl(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Se])Ce(d.i,a);else{var _=a.type,A=a.proxy;d.removeEventListener?d.removeEventListener(_,A,a.capture):d.detachEvent?d.detachEvent(Yh(_),A):d.addListener&&d.removeListener&&d.removeListener(A),(_=rl(d))?(Ce(_,a),_.h==0&&(_.src=null,d[Xe]=null)):K(a)}}}function Yh(a){return a in qt?qt[a]:qt[a]="on"+a}function h0(a,d){if(a.da)a=!0;else{d=new me(d,this);var _=a.listener,A=a.ha||a.src;a.fa&&nl(a),a=_.call(A,d)}return a}function rl(a){return a=a[Xe],a instanceof Z?a:null}var il="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xh(a){return typeof a=="function"?a:(a[il]||(a[il]=function(d){return a.handleEvent(d)}),a[il])}function ot(){ne.call(this),this.i=new Z(this),this.M=this,this.F=null}V(ot,ne),ot.prototype[Se]=!0,ot.prototype.removeEventListener=function(a,d,_,A){Qh(this,a,d,_,A)};function _t(a,d){var _,A=a.F;if(A)for(_=[];A;A=A.F)_.push(A);if(a=a.M,A=d.type||d,typeof d=="string")d=new oe(d,a);else if(d instanceof oe)d.target=d.target||a;else{var O=d;d=new oe(A,a),v(d,O)}if(O=!0,_)for(var x=_.length-1;0<=x;x--){var G=d.g=_[x];O=Co(G,A,!0,d)&&O}if(G=d.g=a,O=Co(G,A,!0,d)&&O,O=Co(G,A,!1,d)&&O,_)for(x=0;x<_.length;x++)G=d.g=_[x],O=Co(G,A,!1,d)&&O}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var _=a.g[d],A=0;A<_.length;A++)K(_[A]);delete a.g[d],a.h--}}this.F=null},ot.prototype.K=function(a,d,_,A){return this.i.add(String(a),d,!1,_,A)},ot.prototype.L=function(a,d,_,A){return this.i.add(String(a),d,!0,_,A)};function Co(a,d,_,A){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,x=0;x<d.length;++x){var G=d[x];if(G&&!G.da&&G.capture==_){var Ee=G.listener,Je=G.ha||G.src;G.fa&&Ce(a.i,G),O=Ee.call(Je,A)!==!1&&O}}return O&&!A.defaultPrevented}function Jh(a,d,_){if(typeof a=="function")_&&(a=k(a,_));else if(a&&typeof a.handleEvent=="function")a=k(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Zh(a){a.g=Jh(()=>{a.g=null,a.i&&(a.i=!1,Zh(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class f0 extends ne{constructor(d,_){super(),this.m=d,this.l=_,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Zh(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(a){ne.call(this),this.h=a,this.g={}}V(Hi,ne);var ef=[];function tf(a){p(a.g,function(d,_){this.g.hasOwnProperty(_)&&nl(d)},a),a.g={}}Hi.prototype.N=function(){Hi.aa.N.call(this),tf(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sl=l.JSON.stringify,p0=l.JSON.parse,m0=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function ol(){}ol.prototype.h=null;function nf(a){return a.h||(a.h=a.i())}function rf(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function al(){oe.call(this,"d")}V(al,oe);function ul(){oe.call(this,"c")}V(ul,oe);var pr={},sf=null;function Ao(){return sf=sf||new ot}pr.La="serverreachability";function of(a){oe.call(this,pr.La,a)}V(of,oe);function qi(a){const d=Ao();_t(d,new of(d))}pr.STAT_EVENT="statevent";function af(a,d){oe.call(this,pr.STAT_EVENT,a),this.stat=d}V(af,oe);function vt(a){const d=Ao();_t(d,new af(d,a))}pr.Ma="timingevent";function uf(a,d){oe.call(this,pr.Ma,a),this.size=d}V(uf,oe);function Ki(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function Gi(){this.g=!0}Gi.prototype.xa=function(){this.g=!1};function g0(a,d,_,A,O,x){a.info(function(){if(a.g)if(x)for(var G="",Ee=x.split("&"),Je=0;Je<Ee.length;Je++){var fe=Ee[Je].split("=");if(1<fe.length){var at=fe[0];fe=fe[1];var ut=at.split("_");G=2<=ut.length&&ut[1]=="type"?G+(at+"="+fe+"&"):G+(at+"=redacted&")}}else G=null;else G=x;return"XMLHTTP REQ ("+A+") [attempt "+O+"]: "+d+`
`+_+`
`+G})}function _0(a,d,_,A,O,x,G){a.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+O+"]: "+d+`
`+_+`
`+x+" "+G})}function Hr(a,d,_,A){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+y0(a,_)+(A?" "+A:"")})}function v0(a,d){a.info(function(){return"TIMEOUT: "+d})}Gi.prototype.info=function(){};function y0(a,d){if(!a.g)return d;if(!d)return null;try{var _=JSON.parse(d);if(_){for(a=0;a<_.length;a++)if(Array.isArray(_[a])){var A=_[a];if(!(2>A.length)){var O=A[1];if(Array.isArray(O)&&!(1>O.length)){var x=O[0];if(x!="noop"&&x!="stop"&&x!="close")for(var G=1;G<O.length;G++)O[G]=""}}}}return sl(_)}catch{return d}}var Io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ll;function Po(){}V(Po,ol),Po.prototype.g=function(){return new XMLHttpRequest},Po.prototype.i=function(){return{}},ll=new Po;function Ln(a,d,_,A){this.j=a,this.i=d,this.l=_,this.R=A||1,this.U=new Hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cf}function cf(){this.i=null,this.g="",this.h=!1}var df={},cl={};function dl(a,d,_){a.L=1,a.v=No(yn(d)),a.m=_,a.P=!0,hf(a,null)}function hf(a,d){a.F=Date.now(),Ro(a),a.A=yn(a.v);var _=a.A,A=a.R;Array.isArray(A)||(A=[String(A)]),Af(_.i,"t",A),a.C=0,_=a.j.J,a.h=new cf,a.g=Hf(a.j,_?d:null,!a.m),0<a.O&&(a.M=new f0(k(a.Y,a,a.g),a.O)),d=a.U,_=a.g,A=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(ef[0]=O.toString()),O=ef);for(var x=0;x<O.length;x++){var G=fr(_,O[x],A||d.handleEvent,!1,d.h||d);if(!G)break;d.g[G.key]=G}d=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),qi(),g0(a.i,a.u,a.A,a.l,a.R,a.m)}Ln.prototype.ca=function(a){a=a.target;const d=this.M;d&&wn(a)==3?d.j():this.Y(a)},Ln.prototype.Y=function(a){try{if(a==this.g)e:{const ut=wn(this.g);var d=this.g.Ba();const Kr=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Vf(this.g)))){this.J||ut!=4||d==7||(d==8||0>=Kr?qi(3):qi(2)),hl(this);var _=this.g.Z();this.X=_;t:if(ff(this)){var A=Vf(this.g);a="";var O=A.length,x=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mr(this),Qi(this);var G="";break t}this.h.i=new l.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,a+=this.h.i.decode(A[d],{stream:!(x&&d==O-1)});A.length=0,this.h.g+=a,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=_==200,_0(this.i,this.u,this.A,this.l,this.R,ut,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Je=this.g;if((Ee=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(Ee)){var fe=Ee;break t}}fe=null}if(_=fe)Hr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fl(this,_);else{this.o=!1,this.s=3,vt(12),mr(this),Qi(this);break e}}if(this.P){_=!0;let Kt;for(;!this.J&&this.C<G.length;)if(Kt=w0(this,G),Kt==cl){ut==4&&(this.s=4,vt(14),_=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==df){this.s=4,vt(15),Hr(this.i,this.l,G,"[Invalid Chunk]"),_=!1;break}else Hr(this.i,this.l,Kt,null),fl(this,Kt);if(ff(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||G.length!=0||this.h.h||(this.s=1,vt(16),_=!1),this.o=this.o&&_,!_)Hr(this.i,this.l,G,"[Invalid Chunked Response]"),mr(this),Qi(this);else if(0<G.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),yl(at),at.M=!0,vt(11))}}else Hr(this.i,this.l,G,null),fl(this,G);ut==4&&mr(this),this.o&&!this.J&&(ut==4?jf(this.j,this):(this.o=!1,Ro(this)))}else x0(this.g),_==400&&0<G.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),mr(this),Qi(this)}}}catch{}finally{}};function ff(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function w0(a,d){var _=a.C,A=d.indexOf(`
`,_);return A==-1?cl:(_=Number(d.substring(_,A)),isNaN(_)?df:(A+=1,A+_>d.length?cl:(d=d.slice(A,A+_),a.C=A+_,d)))}Ln.prototype.cancel=function(){this.J=!0,mr(this)};function Ro(a){a.S=Date.now()+a.I,pf(a,a.I)}function pf(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ki(k(a.ba,a),d)}function hl(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Ln.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(v0(this.i,this.A),this.L!=2&&(qi(),vt(17)),mr(this),this.s=2,Qi(this)):pf(this,this.S-a)};function Qi(a){a.j.G==0||a.J||jf(a.j,a)}function mr(a){hl(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,tf(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function fl(a,d){try{var _=a.j;if(_.G!=0&&(_.g==a||pl(_.h,a))){if(!a.K&&pl(_.h,a)&&_.G==3){try{var A=_.Da.g.parse(d)}catch{A=null}if(Array.isArray(A)&&A.length==3){var O=A;if(O[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<a.F)xo(_),Oo(_);else break e;vl(_),vt(18)}}else _.za=O[1],0<_.za-_.T&&37500>O[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ki(k(_.Za,_),6e3));if(1>=_f(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _r(_,11)}else if((a.K||_.g==a)&&xo(_),!C(d))for(O=_.Da.g.parse(d),d=0;d<O.length;d++){let fe=O[d];if(_.T=fe[0],fe=fe[1],_.G==2)if(fe[0]=="c"){_.K=fe[1],_.ia=fe[2];const at=fe[3];at!=null&&(_.la=at,_.j.info("VER="+_.la));const ut=fe[4];ut!=null&&(_.Aa=ut,_.j.info("SVER="+_.Aa));const Kr=fe[5];Kr!=null&&typeof Kr=="number"&&0<Kr&&(A=1.5*Kr,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Kt=a.g;if(Kt){const Fo=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fo){var x=A.h;x.g||Fo.indexOf("spdy")==-1&&Fo.indexOf("quic")==-1&&Fo.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(ml(x,x.h),x.h=null))}if(A.D){const wl=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(A.ya=wl,Ae(A.I,A.D,wl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-a.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var G=a;if(A.qa=$f(A,A.J?A.ia:null,A.W),G.K){vf(A.h,G);var Ee=G,Je=A.L;Je&&(Ee.I=Je),Ee.B&&(hl(Ee),Ro(Ee)),A.g=G}else zf(A);0<_.i.length&&Lo(_)}else fe[0]!="stop"&&fe[0]!="close"||_r(_,7);else _.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?_r(_,7):_l(_):fe[0]!="noop"&&_.l&&_.l.ta(fe),_.v=0)}}qi(4)}catch{}}var E0=class{constructor(a,d){this.g=a,this.map=d}};function mf(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function _f(a){return a.h?1:a.g?a.g.size:0}function pl(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ml(a,d){a.g?a.g.add(d):a.h=d}function vf(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}mf.prototype.cancel=function(){if(this.i=yf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function yf(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const _ of a.g.values())d=d.concat(_.D);return d}return b(a.i)}function T0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],_=a.length,A=0;A<_;A++)d.push(a[A]);return d}d=[],_=0;for(A in a)d[_++]=a[A];return d}function S0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var _=0;_<a;_++)d.push(_);return d}d=[],_=0;for(const A in a)d[_++]=A;return d}}}function wf(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var _=S0(a),A=T0(a),O=A.length,x=0;x<O;x++)d.call(void 0,A[x],_&&_[x],a)}var Ef=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k0(a,d){if(a){a=a.split("&");for(var _=0;_<a.length;_++){var A=a[_].indexOf("="),O=null;if(0<=A){var x=a[_].substring(0,A);O=a[_].substring(A+1)}else x=a[_];d(x,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function gr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof gr){this.h=a.h,bo(this,a.j),this.o=a.o,this.g=a.g,Do(this,a.s),this.l=a.l;var d=a.i,_=new Ji;_.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),Tf(this,_),this.m=a.m}else a&&(d=String(a).match(Ef))?(this.h=!1,bo(this,d[1]||"",!0),this.o=Yi(d[2]||""),this.g=Yi(d[3]||"",!0),Do(this,d[4]),this.l=Yi(d[5]||"",!0),Tf(this,d[6]||"",!0),this.m=Yi(d[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}gr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Xi(d,Sf,!0),":");var _=this.g;return(_||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Xi(d,Sf,!0),"@"),a.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&a.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&a.push("/"),a.push(Xi(_,_.charAt(0)=="/"?I0:A0,!0))),(_=this.i.toString())&&a.push("?",_),(_=this.m)&&a.push("#",Xi(_,R0)),a.join("")};function yn(a){return new gr(a)}function bo(a,d,_){a.j=_?Yi(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Do(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Tf(a,d,_){d instanceof Ji?(a.i=d,b0(a.i,a.h)):(_||(d=Xi(d,P0)),a.i=new Ji(d,a.h))}function Ae(a,d,_){a.i.set(d,_)}function No(a){return Ae(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Yi(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Xi(a,d,_){return typeof a=="string"?(a=encodeURI(a).replace(d,C0),_&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function C0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Sf=/[#\/\?@]/g,A0=/[#\?:]/g,I0=/[#\?]/g,P0=/[#\?@]/g,R0=/#/g;function Ji(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function xn(a){a.g||(a.g=new Map,a.h=0,a.i&&k0(a.i,function(d,_){a.add(decodeURIComponent(d.replace(/\+/g," ")),_)}))}t=Ji.prototype,t.add=function(a,d){xn(this),this.i=null,a=Wr(this,a);var _=this.g.get(a);return _||this.g.set(a,_=[]),_.push(d),this.h+=1,this};function kf(a,d){xn(a),d=Wr(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Cf(a,d){return xn(a),d=Wr(a,d),a.g.has(d)}t.forEach=function(a,d){xn(this),this.g.forEach(function(_,A){_.forEach(function(O){a.call(d,O,A,this)},this)},this)},t.na=function(){xn(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),_=[];for(let A=0;A<d.length;A++){const O=a[A];for(let x=0;x<O.length;x++)_.push(d[A])}return _},t.V=function(a){xn(this);let d=[];if(typeof a=="string")Cf(this,a)&&(d=d.concat(this.g.get(Wr(this,a))));else{a=Array.from(this.g.values());for(let _=0;_<a.length;_++)d=d.concat(a[_])}return d},t.set=function(a,d){return xn(this),this.i=null,a=Wr(this,a),Cf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Af(a,d,_){kf(a,d),0<_.length&&(a.i=null,a.g.set(Wr(a,d),b(_)),a.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var _=0;_<d.length;_++){var A=d[_];const x=encodeURIComponent(String(A)),G=this.V(A);for(A=0;A<G.length;A++){var O=x;G[A]!==""&&(O+="="+encodeURIComponent(String(G[A]))),a.push(O)}}return this.i=a.join("&")};function Wr(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function b0(a,d){d&&!a.j&&(xn(a),a.i=null,a.g.forEach(function(_,A){var O=A.toLowerCase();A!=O&&(kf(this,A),Af(this,O,_))},a)),a.j=d}function D0(a,d){const _=new Gi;if(l.Image){const A=new Image;A.onload=N(zn,_,"TestLoadImage: loaded",!0,d,A),A.onerror=N(zn,_,"TestLoadImage: error",!1,d,A),A.onabort=N(zn,_,"TestLoadImage: abort",!1,d,A),A.ontimeout=N(zn,_,"TestLoadImage: timeout",!1,d,A),l.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=a}else d(!1)}function N0(a,d){const _=new Gi,A=new AbortController,O=setTimeout(()=>{A.abort(),zn(_,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:A.signal}).then(x=>{clearTimeout(O),x.ok?zn(_,"TestPingServer: ok",!0,d):zn(_,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),zn(_,"TestPingServer: error",!1,d)})}function zn(a,d,_,A,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),A(_)}catch{}}function V0(){this.g=new m0}function M0(a,d,_){const A=_||"";try{wf(a,function(O,x){let G=O;h(O)&&(G=sl(O)),d.push(A+x+"="+encodeURIComponent(G))})}catch(O){throw d.push(A+"type="+encodeURIComponent("_badmap")),O}}function Zi(a){this.l=a.Ub||null,this.j=a.eb||!1}V(Zi,ol),Zi.prototype.g=function(){return new Vo(this.l,this.j)},Zi.prototype.i=function(a){return function(){return a}}({});function Vo(a,d){ot.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Vo,ot),t=Vo.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ts(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;If(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function If(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?es(this):ts(this),this.readyState==3&&If(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,es(this))},t.Qa=function(a){this.g&&(this.response=a,es(this))},t.ga=function(){this.g&&es(this)};function es(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ts(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var _=d.next();!_.done;)_=_.value,a.push(_[0]+": "+_[1]),_=d.next();return a.join(`\r
`)};function ts(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Pf(a){let d="";return p(a,function(_,A){d+=A,d+=":",d+=_,d+=`\r
`}),d}function gl(a,d,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Pf(_),typeof a=="string"?_!=null&&encodeURIComponent(String(_)):Ae(a,d,_))}function Oe(a){ot.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Oe,ot);var O0=/^https?$/i,L0=["POST","PUT"];t=Oe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ll.g(),this.v=this.o?nf(this.o):nf(ll),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(x){Rf(this,x);return}if(a=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var O in A)_.set(O,A[O]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const x of A.keys())_.set(x,A.get(x));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(x=>x.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(L0,d,void 0))||A||O||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,G]of _)this.g.setRequestHeader(x,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nf(this),this.u=!0,this.g.send(a),this.u=!1}catch(x){Rf(this,x)}};function Rf(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,bf(a),Mo(a)}function bf(a){a.A||(a.A=!0,_t(a,"complete"),_t(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,_t(this,"complete"),_t(this,"abort"),Mo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mo(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Df(this):this.bb())},t.bb=function(){Df(this)};function Df(a){if(a.h&&typeof o<"u"&&(!a.v[1]||wn(a)!=4||a.Z()!=2)){if(a.u&&wn(a)==4)Jh(a.Ea,0,a);else if(_t(a,"readystatechange"),wn(a)==4){a.h=!1;try{const G=a.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var _;if(!(_=d)){var A;if(A=G===0){var O=String(a.D).match(Ef)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),A=!O0.test(O?O.toLowerCase():"")}_=A}if(_)_t(a,"complete"),_t(a,"success");else{a.m=6;try{var x=2<wn(a)?a.g.statusText:""}catch{x=""}a.l=x+" ["+a.Z()+"]",bf(a)}}finally{Mo(a)}}}}function Mo(a,d){if(a.g){Nf(a);const _=a.g,A=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||_t(a,"ready");try{_.onreadystatechange=A}catch{}}}function Nf(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function wn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),p0(d)}};function Vf(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function x0(a){const d={};a=(a.g&&2<=wn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<a.length;A++){if(C(a[A]))continue;var _=T(a[A]);const O=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const x=d[O]||[];d[O]=x,x.push(_)}m(d,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(a,d,_){return _&&_.internalChannelParams&&_.internalChannelParams[a]||d}function Mf(a){this.Aa=0,this.i=[],this.j=new Gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,a),this.cb=ns("retryDelaySeedMs",1e4,a),this.Wa=ns("forwardChannelMaxRetries",2,a),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new mf(a&&a.concurrentRequestLimit),this.Da=new V0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mf.prototype,t.la=8,t.G=1,t.connect=function(a,d,_,A){vt(0),this.W=a,this.H=d||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=$f(this,null,this.W),Lo(this)};function _l(a){if(Of(a),a.G==3){var d=a.U++,_=yn(a.I);if(Ae(_,"SID",a.K),Ae(_,"RID",d),Ae(_,"TYPE","terminate"),rs(a,_),d=new Ln(a,a.j,d),d.L=2,d.v=No(yn(_)),_=!1,l.navigator&&l.navigator.sendBeacon)try{_=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!_&&l.Image&&(new Image().src=d.v,_=!0),_||(d.g=Hf(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ro(d)}Uf(a)}function Oo(a){a.g&&(yl(a),a.g.cancel(),a.g=null)}function Of(a){Oo(a),a.u&&(l.clearTimeout(a.u),a.u=null),xo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Lo(a){if(!gf(a.h)&&!a.s){a.s=!0;var d=a.Ga;F||Q(),L||(F(),L=!0),j.add(d,a),a.B=0}}function z0(a,d){return _f(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ki(k(a.Ga,a,d),Bf(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new Ln(this,this.j,a);let x=this.o;if(this.S&&(x?(x=g(x),v(x,this.S)):x=this.S),this.m!==null||this.O||(O.H=x,x=null),this.P)e:{for(var d=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(d+=A,4096<d){d=_;break e}if(d===4096||_===this.i.length-1){d=_+1;break e}}d=1e3}else d=1e3;d=xf(this,O,d),_=yn(this.I),Ae(_,"RID",a),Ae(_,"CVER",22),this.D&&Ae(_,"X-HTTP-Session-Id",this.D),rs(this,_),x&&(this.O?d="headers="+encodeURIComponent(String(Pf(x)))+"&"+d:this.m&&gl(_,this.m,x)),ml(this.h,O),this.Ua&&Ae(_,"TYPE","init"),this.P?(Ae(_,"$req",d),Ae(_,"SID","null"),O.T=!0,dl(O,_,null)):dl(O,_,d),this.G=2}}else this.G==3&&(a?Lf(this,a):this.i.length==0||gf(this.h)||Lf(this))};function Lf(a,d){var _;d?_=d.l:_=a.U++;const A=yn(a.I);Ae(A,"SID",a.K),Ae(A,"RID",_),Ae(A,"AID",a.T),rs(a,A),a.m&&a.o&&gl(A,a.m,a.o),_=new Ln(a,a.j,_,a.B+1),a.m===null&&(_.H=a.o),d&&(a.i=d.D.concat(a.i)),d=xf(a,_,1e3),_.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ml(a.h,_),dl(_,A,d)}function rs(a,d){a.H&&p(a.H,function(_,A){Ae(d,A,_)}),a.l&&wf({},function(_,A){Ae(d,A,_)})}function xf(a,d,_){_=Math.min(a.i.length,_);var A=a.l?k(a.l.Na,a.l,a):null;e:{var O=a.i;let x=-1;for(;;){const G=["count="+_];x==-1?0<_?(x=O[0].g,G.push("ofs="+x)):x=0:G.push("ofs="+x);let Ee=!0;for(let Je=0;Je<_;Je++){let fe=O[Je].g;const at=O[Je].map;if(fe-=x,0>fe)x=Math.max(0,O[Je].g-100),Ee=!1;else try{M0(at,G,"req"+fe+"_")}catch{A&&A(at)}}if(Ee){A=G.join("&");break e}}}return a=a.i.splice(0,_),d.D=a,A}function zf(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;F||Q(),L||(F(),L=!0),j.add(d,a),a.v=0}}function vl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ki(k(a.Fa,a),Bf(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Ff(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ki(k(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Oo(this),Ff(this))};function yl(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Ff(a){a.g=new Ln(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=yn(a.qa);Ae(d,"RID","rpc"),Ae(d,"SID",a.K),Ae(d,"AID",a.T),Ae(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ae(d,"TO",a.ja),Ae(d,"TYPE","xmlhttp"),rs(a,d),a.m&&a.o&&gl(d,a.m,a.o),a.L&&(a.g.I=a.L);var _=a.g;a=a.ia,_.L=1,_.v=No(yn(d)),_.m=null,_.P=!0,hf(_,a)}t.Za=function(){this.C!=null&&(this.C=null,Oo(this),vl(this),vt(19))};function xo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function jf(a,d){var _=null;if(a.g==d){xo(a),yl(a),a.g=null;var A=2}else if(pl(a.h,d))_=d.D,vf(a.h,d),A=1;else return;if(a.G!=0){if(d.o)if(A==1){_=d.m?d.m.length:0,d=Date.now()-d.F;var O=a.B;A=Ao(),_t(A,new uf(A,_)),Lo(a)}else zf(a);else if(O=d.s,O==3||O==0&&0<d.X||!(A==1&&z0(a,d)||A==2&&vl(a)))switch(_&&0<_.length&&(d=a.h,d.i=d.i.concat(_)),O){case 1:_r(a,5);break;case 4:_r(a,10);break;case 3:_r(a,6);break;default:_r(a,2)}}}function Bf(a,d){let _=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(_*=2),_*d}function _r(a,d){if(a.j.info("Error code "+d),d==2){var _=k(a.fb,a),A=a.Xa;const O=!A;A=new gr(A||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bo(A,"https"),No(A),O?D0(A.toString(),_):N0(A.toString(),_)}else vt(2);a.G=0,a.l&&a.l.sa(d),Uf(a),Of(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Uf(a){if(a.G=0,a.ka=[],a.l){const d=yf(a.h);(d.length!=0||a.i.length!=0)&&(M(a.ka,d),M(a.ka,a.i),a.h.i.length=0,b(a.i),a.i.length=0),a.l.ra()}}function $f(a,d,_){var A=_ instanceof gr?yn(_):new gr(_);if(A.g!="")d&&(A.g=d+"."+A.g),Do(A,A.s);else{var O=l.location;A=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var x=new gr(null);A&&bo(x,A),d&&(x.g=d),O&&Do(x,O),_&&(x.l=_),A=x}return _=a.D,d=a.ya,_&&d&&Ae(A,_,d),Ae(A,"VER",a.la),rs(a,A),A}function Hf(a,d,_){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Oe(new Zi({eb:_})):new Oe(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wf(){}t=Wf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zo(){}zo.prototype.g=function(a,d){return new Pt(a,d)};function Pt(a,d){ot.call(this),this.g=new Mf(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!C(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!C(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new qr(this)}V(Pt,ot),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){_l(this.g)},Pt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var _={};_.__data__=a,a=_}else this.u&&(_={},_.__data__=sl(a),a=_);d.i.push(new E0(d.Ya++,a)),d.G==3&&Lo(d)},Pt.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,Pt.aa.N.call(this)};function qf(a){al.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const _ in d){a=_;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}V(qf,al);function Kf(){ul.call(this),this.status=1}V(Kf,ul);function qr(a){this.g=a}V(qr,Wf),qr.prototype.ua=function(){_t(this.g,"a")},qr.prototype.ta=function(a){_t(this.g,new qf(a))},qr.prototype.sa=function(a){_t(this.g,new Kf)},qr.prototype.ra=function(){_t(this.g,"b")},zo.prototype.createWebChannel=zo.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,Kv=function(){return new zo},qv=function(){return Ao()},Wv=pr,ad={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,Sa=Io,lf.COMPLETE="complete",Hv=lf,rf.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",ot.prototype.listen=ot.prototype.K,ys=rf,$v=Zi,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,Uv=Oe}).apply(typeof aa<"u"?aa:typeof self<"u"?self:typeof window<"u"?window:{});const Sm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ji="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Ov("@firebase/firestore");function ps(){return Lr.logLevel}function J(t,...e){if(Lr.logLevel<=de.DEBUG){const n=e.map(Eh);Lr.debug(`Firestore (${ji}): ${t}`,...n)}}function Nn(t,...e){if(Lr.logLevel<=de.ERROR){const n=e.map(Eh);Lr.error(`Firestore (${ji}): ${t}`,...n)}}function Pi(t,...e){if(Lr.logLevel<=de.WARN){const n=e.map(Eh);Lr.warn(`Firestore (${ji}): ${t}`,...n)}}function Eh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t="Unexpected state"){const e=`FIRESTORE (${ji}) INTERNAL ASSERTION FAILED: `+t;throw Nn(e),new Error(e)}function Te(t,e){t||re()}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}}class P2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R2{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new Gv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new ft(e)}}class b2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class D2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new b2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new N2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=M2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function Ri(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Ke(0,0))}static max(){return new ie(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(),r===void 0?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return no.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof no?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class be extends no{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new be(n)}static emptyPath(){return new be([])}}const O2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends no{construct(e,n,r){return new tt(e,n,r)}static isValidIdentifier(e){return O2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ee(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ee(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ee(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tt(n)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(be.fromString(e))}static fromName(e){return new te(be.fromString(e).popFirst(5))}static empty(){return new te(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new be(e.slice()))}}function L2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new ar(i,te.empty(),e)}function x2(t){return new ar(t.readTime,t.key,-1)}class ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ar(ie.min(),te.empty(),-1)}static max(){return new ar(ie.max(),te.empty(),-1)}}function z2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==F2)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(w=>{o[h]=w,++l,l===s&&r(o)},w=>i(w))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function B2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Th.oe=-1;function Hu(t){return t==null}function tu(t){return t===0&&1/t==-1/0}function U2(t){return typeof t=="number"&&Number.isInteger(t)&&!tu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||et.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,et.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ua(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ua(this.root,e,this.comparator,!1)}getReverseIterator(){return new ua(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ua(this.root,e,this.comparator,!0)}}class ua{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class et{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??et.RED,this.left=i??et.EMPTY,this.right=s??et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new et(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}et.EMPTY=null,et.RED=!0,et.BLACK=!1;et.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,n,r,i,s){return this}insert(e,n,r){return new et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cm(this.data.getIterator())}getIteratorFrom(e){return new Cm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class Cm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new nn([])}unionWith(e){let n=new rt(tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ri(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Xv("Invalid base64 string: "+s):s}}(e);return new st(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const $2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(t){if(Te(!!t),typeof t=="string"){let e=0;const n=$2.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xr(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function kh(t){const e=t.mapValue.fields.__previous_value__;return Sh(e)?kh(e):e}function ro(t){const e=ur(t.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,r,i,s,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}class io{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new io("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sh(t)?4:W2(t)?9007199254740991:10:re()}function _n(t,e){if(t===e)return!0;const n=zr(t);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ro(t).isEqual(ro(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ur(i.timestampValue),l=ur(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return xr(i.bytesValue).isEqual(xr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Be(i.geoPointValue.latitude)===Be(s.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Be(i.integerValue)===Be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Be(i.doubleValue),l=Be(s.doubleValue);return o===l?tu(o)===tu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ri(t.arrayValue.values||[],e.arrayValue.values||[],_n);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(km(o)!==km(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!_n(o[c],l[c])))return!1;return!0}(t,e);default:return re()}}function so(t,e){return(t.values||[]).find(n=>_n(n,e))!==void 0}function bi(t,e){if(t===e)return 0;const n=zr(t),r=zr(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Be(s.integerValue||s.doubleValue),c=Be(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Am(t.timestampValue,e.timestampValue);case 4:return Am(ro(t),ro(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(s,o){const l=xr(s),c=xr(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const w=pe(l[h],c[h]);if(w!==0)return w}return pe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=pe(Be(s.latitude),Be(o.latitude));return l!==0?l:pe(Be(s.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let h=0;h<l.length&&h<c.length;++h){const w=bi(l[h],c[h]);if(w)return w}return pe(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===la.mapValue&&o===la.mapValue)return 0;if(s===la.mapValue)return 1;if(o===la.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=o.fields||{},w=Object.keys(h);c.sort(),w.sort();for(let E=0;E<c.length&&E<w.length;++E){const k=pe(c[E],w[E]);if(k!==0)return k;const N=bi(l[c[E]],h[w[E]]);if(N!==0)return N}return pe(c.length,w.length)}(t.mapValue,e.mapValue);default:throw re()}}function Am(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=ur(t),r=ur(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function Di(t){return ud(t)}function ud(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ud(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ud(n.fields[o])}`;return i+"}"}(t.mapValue):re()}function ld(t){return!!t&&"integerValue"in t}function Ch(t){return!!t&&"arrayValue"in t}function Im(t){return!!t&&"nullValue"in t}function Pm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ka(t){return!!t&&"mapValue"in t}function Ns(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ns(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ns(t.arrayValue.values[n]);return e}return Object.assign({},t)}function W2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ka(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ns(n)}setAll(e){let n=tt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Ns(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ka(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ka(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Bt(Ns(this.value))}}function Jv(t){const e=[];return Bi(t.fields,(n,r)=>{const i=new tt([n]);if(ka(r)){const s=Jv(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new mt(e,0,ie.min(),ie.min(),ie.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,i){return new mt(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new mt(e,2,n,ie.min(),ie.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,ie.min(),ie.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.position=e,this.inclusive=n}}function Rm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=bi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function q2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{}class We extends Zv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new G2(e,n,r):n==="array-contains"?new X2(e,r):n==="in"?new J2(e,r):n==="not-in"?new Z2(e,r):n==="array-contains-any"?new eT(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q2(e,r):new Y2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bi(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(bi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vn extends Zv{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new vn(e,n)}matches(e){return ey(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ey(t){return t.op==="and"}function ty(t){return K2(t)&&ey(t)}function K2(t){for(const e of t.filters)if(e instanceof vn)return!1;return!0}function cd(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+Di(t.value);if(ty(t))return t.filters.map(e=>cd(e)).join(",");{const e=t.filters.map(n=>cd(n)).join(",");return`${t.op}(${e})`}}function ny(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&_n(r.value,i.value)}(t,e):t instanceof vn?function(r,i){return i instanceof vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&ny(o,i.filters[l]),!0):!1}(t,e):void re()}function ry(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${Di(n.value)}`}(t):t instanceof vn?function(n){return n.op.toString()+" {"+n.getFilters().map(ry).join(" ,")+"}"}(t):"Filter"}class G2 extends We{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q2 extends We{constructor(e,n){super(e,"in",n),this.keys=iy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Y2 extends We{constructor(e,n){super(e,"not-in",n),this.keys=iy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class X2 extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ch(n)&&so(n.arrayValue,this.value)}}class J2 extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&so(this.value.arrayValue,n)}}class Z2 extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!so(this.value.arrayValue,n)}}class eT extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ch(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>so(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function Dm(t,e=null,n=[],r=[],i=null,s=null,o=null){return new tT(t,e,n,r,i,s,o)}function Ah(t){const e=se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Hu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Di(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Di(r)).join(",")),e.ue=n}return e.ue}function Ih(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!q2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ny(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bm(t.startAt,e.startAt)&&bm(t.endAt,e.endAt)}function dd(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function nT(t,e,n,r,i,s,o,l){return new Wu(t,e,n,r,i,s,o,l)}function Ph(t){return new Wu(t)}function Nm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rT(t){return t.collectionGroup!==null}function Vs(t){const e=se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new rt(tt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ru(s,r))}),n.has(tt.keyField().canonicalString())||e.ce.push(new ru(tt.keyField(),r))}return e.ce}function mn(t){const e=se(t);return e.le||(e.le=iT(e,Vs(t))),e.le}function iT(t,e){if(t.limitType==="F")return Dm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ru(i.field,s)});const n=t.endAt?new nu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nu(t.startAt.position,t.startAt.inclusive):null;return Dm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hd(t,e,n){return new Wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qu(t,e){return Ih(mn(t),mn(e))&&t.limitType===e.limitType}function sy(t){return`${Ah(mn(t))}|lt:${t.limitType}`}function Qr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ry(i)).join(", ")}]`),Hu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Di(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Di(i)).join(",")),`Target(${r})`}(mn(t))}; limitType=${t.limitType})`}function Ku(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Vs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const h=Rm(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,Vs(r),i)||r.endAt&&!function(o,l,c){const h=Rm(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,Vs(r),i))}(t,e)}function sT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oy(t){return(e,n)=>{let r=!1;for(const i of Vs(t)){const s=oT(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oT(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),h=l.data.field(s);return c!==null&&h!==null?bi(c,h):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Yv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=new Me(te.comparator);function Vn(){return aT}const ay=new Me(te.comparator);function ws(...t){let e=ay;for(const n of t)e=e.insert(n.key,n);return e}function uy(t){let e=ay;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cr(){return Ms()}function ly(){return Ms()}function Ms(){return new Ui(t=>t.toString(),(t,e)=>t.isEqual(e))}const uT=new Me(te.comparator),lT=new rt(te.comparator);function le(...t){let e=lT;for(const n of t)e=e.add(n);return e}const cT=new rt(pe);function dT(){return cT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(e)?"-0":e}}function dy(t){return{integerValue:""+t}}function hT(t,e){return U2(e)?dy(e):cy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this._=void 0}}function fT(t,e,n){return t instanceof iu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Sh(s)&&(s=kh(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof oo?fy(t,e):t instanceof ao?py(t,e):function(i,s){const o=hy(i,s),l=Vm(o)+Vm(i.Pe);return ld(o)&&ld(i.Pe)?dy(l):cy(i.serializer,l)}(t,e)}function pT(t,e,n){return t instanceof oo?fy(t,e):t instanceof ao?py(t,e):n}function hy(t,e){return t instanceof su?function(r){return ld(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class iu extends Gu{}class oo extends Gu{constructor(e){super(),this.elements=e}}function fy(t,e){const n=my(e);for(const r of t.elements)n.some(i=>_n(i,r))||n.push(r);return{arrayValue:{values:n}}}class ao extends Gu{constructor(e){super(),this.elements=e}}function py(t,e){let n=my(e);for(const r of t.elements)n=n.filter(i=>!_n(i,r));return{arrayValue:{values:n}}}class su extends Gu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Vm(t){return Be(t.integerValue||t.doubleValue)}function my(t){return Ch(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mT(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oo&&i instanceof oo||r instanceof ao&&i instanceof ao?Ri(r.elements,i.elements,_n):r instanceof su&&i instanceof su?_n(r.Pe,i.Pe):r instanceof iu&&i instanceof iu}(t.transform,e.transform)}class gT{constructor(e,n){this.version=e,this.transformResults=n}}class on{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new on}static exists(e){return new on(void 0,e)}static updateTime(e){return new on(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ca(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qu{}function gy(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rh(t.key,on.none()):new Eo(t.key,t.data,on.none());{const n=t.data,r=Bt.empty();let i=new rt(tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Br(t.key,r,new nn(i.toArray()),on.none())}}function _T(t,e,n){t instanceof Eo?function(i,s,o){const l=i.value.clone(),c=Om(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Br?function(i,s,o){if(!Ca(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Om(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(_y(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Os(t,e,n,r){return t instanceof Eo?function(s,o,l,c){if(!Ca(s.precondition,o))return l;const h=s.value.clone(),w=Lm(s.fieldTransforms,c,o);return h.setAll(w),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Br?function(s,o,l,c){if(!Ca(s.precondition,o))return l;const h=Lm(s.fieldTransforms,c,o),w=o.data;return w.setAll(_y(s)),w.setAll(h),o.convertToFoundDocument(o.version,w).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(E=>E.field))}(t,e,n,r):function(s,o,l){return Ca(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function vT(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=hy(r.transform,i||null);s!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,s))}return n||null}function Mm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ri(r,i,(s,o)=>mT(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eo extends Qu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Br extends Qu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _y(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Om(t,e,n){const r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,pT(o,l,n[i]))}return r}function Lm(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,fT(s,o,e))}return r}class Rh extends Qu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yT extends Qu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_T(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Os(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Os(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ly();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=gy(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Ri(this.mutations,e.mutations,(n,r)=>Mm(n,r))&&Ri(this.baseMutations,e.baseMutations,(n,r)=>Mm(n,r))}}class bh{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return uT}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bh(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,ce;function ST(t){switch(t){default:return re();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function vy(t){if(t===void 0)return Nn("GRPC error has no .code"),H.UNKNOWN;switch(t){case Fe.OK:return H.OK;case Fe.CANCELLED:return H.CANCELLED;case Fe.UNKNOWN:return H.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return H.INTERNAL;case Fe.UNAVAILABLE:return H.UNAVAILABLE;case Fe.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Fe.NOT_FOUND:return H.NOT_FOUND;case Fe.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Fe.ABORTED:return H.ABORTED;case Fe.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Fe.DATA_LOSS:return H.DATA_LOSS;default:return re()}}(ce=Fe||(Fe={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Pr([4294967295,4294967295],0);function xm(t){const e=kT().encode(t),n=new Bv;return n.update(e),new Uint8Array(n.digest())}function zm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Pr([n,r],0),new Pr([i,s],0)]}class Dh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Es(`Invalid padding: ${n}`);if(r<0)throw new Es(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Es(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Es(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Pr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Pr.fromNumber(r)));return i.compare(CT)===1&&(i=new Pr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=xm(e),[r,i]=zm(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Dh(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=xm(e),[r,i]=zm(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Es extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,To.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yu(ie.min(),i,new Me(pe),Vn(),le())}}class To{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new To(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class yy{constructor(e,n){this.targetId=e,this.me=n}}class wy{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Fm{constructor(){this.fe=0,this.ge=Bm(),this.pe=st.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=le(),n=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new To(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Bm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class AT{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vn(),this.qe=jm(),this.Qe=new Me(pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(dd(s))if(r===0){const o=new te(s.path);this.Ue(n,o,mt.newNoDocument(o,ie.min()))}else Te(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=xr(r).toUint8Array()}catch(c){if(c instanceof Xv)return Pi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Dh(o,i,s)}catch(c){return Pi(c instanceof Es?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&dd(l.target)){const c=new te(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,mt.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=le();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.Je(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Yu(e,n,this.Qe,this.ke,r);return this.ke=Vn(),this.qe=jm(),this.Qe=new Me(pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Fm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rt(pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Fm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function jm(){return new Me(te.comparator)}function Bm(){return new Me(te.comparator)}const IT={asc:"ASCENDING",desc:"DESCENDING"},PT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RT={and:"AND",or:"OR"};class bT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fd(t,e){return t.useProto3Json||Hu(e)?e:{value:e}}function ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ey(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DT(t,e){return ou(t,e.toTimestamp())}function gn(t){return Te(!!t),ie.fromTimestamp(function(n){const r=ur(n);return new Ke(r.seconds,r.nanos)}(t))}function Nh(t,e){return pd(t,e).canonicalString()}function pd(t,e){const n=function(i){return new be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ty(t){const e=be.fromString(t);return Te(Iy(e)),e}function md(t,e){return Nh(t.databaseId,e.path)}function sc(t,e){const n=Ty(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(ky(n))}function Sy(t,e){return Nh(t.databaseId,e)}function NT(t){const e=Ty(t);return e.length===4?be.emptyPath():ky(e)}function gd(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ky(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Um(t,e,n){return{name:md(t,e),fields:n.value.mapValue.fields}}function VT(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,w){return h.useProto3Json?(Te(w===void 0||typeof w=="string"),st.fromBase64String(w||"")):(Te(w===void 0||w instanceof Buffer||w instanceof Uint8Array),st.fromUint8Array(w||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const w=h.code===void 0?H.UNKNOWN:vy(h.code);return new ee(w,h.message||"")}(o);n=new wy(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sc(t,r.document.name),s=gn(r.document.updateTime),o=r.document.createTime?gn(r.document.createTime):ie.min(),l=new Bt({mapValue:{fields:r.document.fields}}),c=mt.newFoundDocument(i,s,o,l),h=r.targetIds||[],w=r.removedTargetIds||[];n=new Aa(h,w,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sc(t,r.document),s=r.readTime?gn(r.readTime):ie.min(),o=mt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Aa([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sc(t,r.document),s=r.removedTargetIds||[];n=new Aa([],s,i,null)}else{if(!("filter"in e))return re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new TT(i,s),l=r.targetId;n=new yy(l,o)}}return n}function MT(t,e){let n;if(e instanceof Eo)n={update:Um(t,e.key,e.value)};else if(e instanceof Rh)n={delete:md(t,e.key)};else if(e instanceof Br)n={update:Um(t,e.key,e.data),updateMask:$T(e.fieldMask)};else{if(!(e instanceof yT))return re();n={verify:md(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof iu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof oo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ao)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof su)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:DT(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re()}(t,e.precondition)),n}function OT(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?gn(i.updateTime):gn(s);return o.isEqual(ie.min())&&(o=gn(s)),new gT(o,i.transformResults||[])}(n,e))):[]}function LT(t,e){return{documents:[Sy(t,e.path)]}}function xT(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Sy(t,i);const s=function(h){if(h.length!==0)return Ay(vn.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(w=>function(k){return{field:Yr(k.field),direction:jT(k.dir)}}(w))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=fd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function zT(t){let e=NT(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1);const w=n.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let s=[];n.where&&(s=function(E){const k=Cy(E);return k instanceof vn&&ty(k)?k.getFilters():[k]}(n.where));let o=[];n.orderBy&&(o=function(E){return E.map(k=>function(V){return new ru(Xr(V.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(k))}(n.orderBy));let l=null;n.limit&&(l=function(E){let k;return k=typeof E=="object"?E.value:E,Hu(k)?null:k}(n.limit));let c=null;n.startAt&&(c=function(E){const k=!!E.before,N=E.values||[];return new nu(N,k)}(n.startAt));let h=null;return n.endAt&&(h=function(E){const k=!E.before,N=E.values||[];return new nu(N,k)}(n.endAt)),nT(e,i,o,s,l,"F",c,h)}function FT(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Cy(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xr(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xr(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xr(n.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xr(n.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(n){return We.create(Xr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vn.create(n.compositeFilter.filters.map(r=>Cy(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(n.compositeFilter.op))}(t):re()}function jT(t){return IT[t]}function BT(t){return PT[t]}function UT(t){return RT[t]}function Yr(t){return{fieldPath:t.canonicalString()}}function Xr(t){return tt.fromServerFormat(t.fieldPath)}function Ay(t){return t instanceof We?function(n){if(n.op==="=="){if(Pm(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NAN"}};if(Im(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pm(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NOT_NAN"}};if(Im(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yr(n.field),op:BT(n.op),value:n.value}}}(t):t instanceof vn?function(n){const r=n.getFilters().map(i=>Ay(i));return r.length===1?r[0]:{compositeFilter:{op:UT(n.op),filters:r}}}(t):re()}function $T(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Iy(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,r,i,s=ie.min(),o=ie.min(),l=st.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new qn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.ct=e}}function WT(t){const e=zT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.an=new KT}addToCollectionParentIndex(e,n){return this.an.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ar.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class KT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rt(be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new Ni(0)}static Bn(){return new Ni(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Os(r.mutation,i,nn.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=Cr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ws();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Cr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Vn();const o=Ms(),l=function(){return Ms()}();return n.forEach((c,h)=>{const w=r.get(h.key);i.has(h.key)&&(w===void 0||w.mutation instanceof Br)?s=s.insert(h.key,h):w!==void 0?(o.set(h.key,w.mutation.getFieldMask()),Os(w.mutation,h,w.mutation.getFieldMask(),Ke.now())):o.set(h.key,nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,w)=>o.set(h,w)),n.forEach((h,w)=>{var E;return l.set(h,new QT(w,(E=o.get(h))!==null&&E!==void 0?E:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ms();let i=new Me((o,l)=>o-l),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let w=r.get(c)||nn.empty();w=l.applyToLocalView(h,w),r.set(c,w);const E=(i.get(l.batchId)||le()).add(c);i=i.insert(l.batchId,E)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,w=c.value,E=ly();w.forEach(k=>{if(!s.has(k)){const N=gy(n.get(k),r.get(k));N!==null&&E.set(k,N),s=s.add(k)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,E))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Cr());let l=-1,c=s;return o.next(h=>U.forEach(h,(w,E)=>(l<E.largestBatchId&&(l=E.largestBatchId),s.get(w)?U.resolve():this.remoteDocumentCache.getEntry(e,w).next(k=>{c=c.insert(w,k)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,le())).next(w=>({batchId:l,changes:uy(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=ws();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ws();return this.indexManager.getCollectionParents(e,s).next(l=>U.forEach(l,c=>{const h=function(E,k){return new Wu(k,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(w=>{w.forEach((E,k)=>{o=o.insert(E,k)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,h)=>{const w=h.getKey();o.get(w)===null&&(o=o.insert(w,mt.newInvalidDocument(w)))});let l=ws();return o.forEach((c,h)=>{const w=s.get(c);w!==void 0&&Os(w.mutation,h,nn.empty(),Ke.now()),Ku(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return U.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:WT(i.bundledQuery),readTime:gn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.overlays=new Me(te.comparator),this.Pr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cr();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Cr(),s=n.length+1,o=new te(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((h,w)=>h-w);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let w=s.get(h.largestBatchId);w===null&&(w=Cr(),s=s.insert(h.largestBatchId,w)),w.set(h.getKey(),h)}}const l=Cr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,w)=>l.set(h,w)),!(l.size()>=i)););return U.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ET(n,r));let s=this.Pr.get(n);s===void 0&&(s=le(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this.Ir=new rt(Ge.Tr),this.Er=new rt(Ge.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Ge(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Ge(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new te(new be([])),r=new Ge(n,e),i=new Ge(n,e+1),s=[];return this.Er.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new te(new be([])),r=new Ge(n,e),i=new Ge(n,e+1);let s=le();return this.Er.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ge(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ge{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return te.comparator(e.key,n.key)||pe(e.yr,n.yr)}static dr(e,n){return pe(e.yr,n.yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new rt(Ge.Tr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wT(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Sr=this.Sr.add(new Ge(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ge(n,0),i=new Ge(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const l=this.br(o.yr);s.push(l)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(pe);return n.forEach(i=>{const s=new Ge(i,0),o=new Ge(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],l=>{r=r.add(l.yr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new Ge(new te(s),0);let l=new rt(pe);return this.Sr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.yr)),!0)},o),U.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return U.forEach(n.mutations,i=>{const s=new Ge(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Ge(n,0),i=this.Sr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.Fr=e,this.docs=function(){return new Me(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let r=Vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vn();const o=n.path,l=new te(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:w}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||z2(x2(w),r)<=0||(i.has(w.key)||Ku(n,w))&&(s=s.insert(w.key,w.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){re()}Mr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nS(this)}getSize(e){return U.resolve(this.size)}}class nS extends GT{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.persistence=e,this.Or=new Ui(n=>Ah(n),Ih),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new Vh,this.targetCount=0,this.Br=Ni.Ln()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),U.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Ni(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Qn(n),U.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Lr.pr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n){this.kr={},this.overlays={},this.qr=new Th(0),this.Qr=!1,this.Qr=!0,this.Kr=new ZT,this.referenceDelegate=e(this),this.$r=new rS(this),this.indexManager=new qT,this.remoteDocumentCache=function(i){return new tS(i)}(r=>this.referenceDelegate.Ur(r)),this.serializer=new HT(n),this.Wr=new XT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new eS(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new sS(this.qr.next());return this.referenceDelegate.Gr(),r(i).next(s=>this.referenceDelegate.zr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}jr(e,n){return U.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class sS extends j2{constructor(e){super(),this.currentSequenceNumber=e}}class Mh{constructor(e){this.persistence=e,this.Hr=new Vh,this.Jr=null}static Yr(e){return new Mh(e)}get Zr(){if(this.Jr)return this.Jr;throw re()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(i=>this.Zr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Zr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Zr,r=>{const i=te.fromPath(r);return this.Xr(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return U.or([()=>U.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=le(),i=le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Oh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return h8()?8:B2(c8())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Yi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new oS;return this.Zi(e,n,o).next(l=>{if(s.result=l,this.Gi)return this.Xi(e,n,o,l.size)})}).next(()=>s.result)}Xi(e,n,r,i){return r.documentReadCount<this.zi?(ps()<=de.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Qr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),U.resolve()):(ps()<=de.DEBUG&&J("QueryEngine","Query:",Qr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?(ps()<=de.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Qr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(n))):U.resolve())}Ji(e,n){if(Nm(n))return U.resolve(null);let r=mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hd(n,null,"F"),r=mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.Hi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.es(n,l);return this.ts(n,h,o,c.readTime)?this.Ji(e,hd(n,null,"F")):this.ns(e,h,n,c)}))})))}Yi(e,n,r,i){return Nm(n)||i.isEqual(ie.min())?U.resolve(null):this.Hi.getDocuments(e,r).next(s=>{const o=this.es(n,s);return this.ts(n,o,r,i)?U.resolve(null):(ps()<=de.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qr(n)),this.ns(e,o,n,L2(i,-1)).next(l=>l))})}es(e,n){let r=new rt(oy(e));return n.forEach((i,s)=>{Ku(e,s)&&(r=r.add(s))}),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Zi(e,n,r){return ps()<=de.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Qr(n)),this.Hi.getDocumentsMatchingQuery(e,n,ar.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new Me(pe),this.os=new Ui(s=>Ah(s),Ih),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YT(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}}function lS(t,e,n,r){return new uS(t,e,n,r)}async function Py(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.cs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=le();for(const h of i){o.push(h.batchId);for(const w of h.mutations)c=c.add(w.key)}for(const h of s){l.push(h.batchId);for(const w of h.mutations)c=c.add(w.key)}return n.localDocuments.getDocuments(r,c).next(h=>({ls:h,removedBatchIds:o,addedBatchIds:l}))})})}function cS(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.us.newChangeBuffer({trackRemovals:!0});return function(l,c,h,w){const E=h.batch,k=E.keys();let N=U.resolve();return k.forEach(V=>{N=N.next(()=>w.getEntry(c,V)).next(b=>{const M=h.docVersions.get(V);Te(M!==null),b.version.compareTo(M)<0&&(E.applyToRemoteDocument(b,h),b.isValidDocument()&&(b.setReadTime(h.commitVersion),w.addEntry(b)))})}),N.next(()=>l.mutationQueue.removeMutationBatch(c,E))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=le();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ry(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function dS(t,e){const n=se(t),r=e.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const l=[];e.targetChanges.forEach((w,E)=>{const k=i.get(E);if(!k)return;l.push(n.$r.removeMatchingKeys(s,w.removedDocuments,E).next(()=>n.$r.addMatchingKeys(s,w.addedDocuments,E)));let N=k.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(E)!==null?N=N.withResumeToken(st.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,r)),i=i.insert(E,N),function(b,M,I){return b.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(k,N,w)&&l.push(n.$r.updateTargetData(s,N))});let c=Vn(),h=le();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,w))}),l.push(hS(s,o,e.documentUpdates).next(w=>{c=w.hs,h=w.Ps})),!r.isEqual(ie.min())){const w=n.$r.getLastRemoteSnapshotVersion(s).next(E=>n.$r.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(w)}return U.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.ss=i,s))}function hS(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vn();return n.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ie.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{hs:o,Ps:i}})}function fS(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pS(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.$r.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.$r.allocateTargetId(r).next(o=>(i=new qn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.$r.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ss=n.ss.insert(r.targetId,r),n.os.set(e,r.targetId)),r})}async function _d(t,e,n){const r=se(t),i=r.ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!wo(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ss=r.ss.remove(e),r.os.delete(i.target)}function $m(t,e,n){const r=se(t);let i=ie.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,w){const E=se(c),k=E.os.get(w);return k!==void 0?U.resolve(E.ss.get(k)):E.$r.getTargetData(h,w)}(r,o,mn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.rs.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:le())).next(l=>(mS(r,sT(e),l),{documents:l,Is:s})))}function mS(t,e,n){let r=t._s.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t._s.set(e,r)}class Hm{constructor(){this.activeTargetIds=dT()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gS{constructor(){this.io=new Hm,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new Hm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca=null;function oc(){return ca===null?ca=function(){return 268435456+Math.round(2147483648*Math.random())}():ca++,"0x"+ca.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht="WebChannelConnection";class wS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get vo(){return!1}Fo(n,r,i,s,o){const l=oc(),c=this.Mo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(h,s,o),this.Oo(n,c,h,i).then(w=>(J("RestConnection",`Received RPC '${n}' ${l}: `,w),w),w=>{throw Pi("RestConnection",`RPC '${n}' ${l} failed with error: `,w,"url: ",c,"request:",i),w})}No(n,r,i,s,o,l){return this.Fo(n,r,i,s,o)}xo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ji}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Mo(n,r){const i=vS[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){const s=oc();return new Promise((o,l)=>{const c=new Uv;c.setWithCredentials(!0),c.listenOnce(Hv.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Sa.NO_ERROR:const w=c.getResponseJson();J(ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(w)),o(w);break;case Sa.TIMEOUT:J(ht,`RPC '${e}' ${s} timed out`),l(new ee(H.DEADLINE_EXCEEDED,"Request time out"));break;case Sa.HTTP_ERROR:const E=c.getStatus();if(J(ht,`RPC '${e}' ${s} failed with status:`,E,"response text:",c.getResponseText()),E>0){let k=c.getResponseJson();Array.isArray(k)&&(k=k[0]);const N=k==null?void 0:k.error;if(N&&N.status&&N.message){const V=function(M){const I=M.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(I)>=0?I:H.UNKNOWN}(N.status);l(new ee(V,N.message))}else l(new ee(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ee(H.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{J(ht,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);J(ht,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}Lo(e,n,r){const i=oc(),s=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Kv(),l=qv(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.xmlHttpFactory=new $v({})),this.xo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const w=s.join("");J(ht,`Creating RPC '${e}' stream ${i}: ${w}`,c);const E=o.createWebChannel(w,c);let k=!1,N=!1;const V=new yS({Po:M=>{N?J(ht,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(k||(J(ht,`Opening RPC '${e}' stream ${i} transport.`),E.open(),k=!0),J(ht,`RPC '${e}' stream ${i} sending:`,M),E.send(M))},Io:()=>E.close()}),b=(M,I,C)=>{M.listen(I,P=>{try{C(P)}catch(u){setTimeout(()=>{throw u},0)}})};return b(E,ys.EventType.OPEN,()=>{N||(J(ht,`RPC '${e}' stream ${i} transport opened.`),V.po())}),b(E,ys.EventType.CLOSE,()=>{N||(N=!0,J(ht,`RPC '${e}' stream ${i} transport closed`),V.wo())}),b(E,ys.EventType.ERROR,M=>{N||(N=!0,Pi(ht,`RPC '${e}' stream ${i} transport errored:`,M),V.wo(new ee(H.UNAVAILABLE,"The operation could not be completed")))}),b(E,ys.EventType.MESSAGE,M=>{var I;if(!N){const C=M.data[0];Te(!!C);const P=C,u=P.error||((I=P[0])===null||I===void 0?void 0:I.error);if(u){J(ht,`RPC '${e}' stream ${i} received error:`,u);const f=u.status;let p=function(y){const v=Fe[y];if(v!==void 0)return vy(v)}(f),m=u.message;p===void 0&&(p=H.INTERNAL,m="Unknown error status: "+f+" with message "+u.message),N=!0,V.wo(new ee(p,m)),E.close()}else J(ht,`RPC '${e}' stream ${i} received:`,C),V.So(C)}}),b(l,Wv.STAT_EVENT,M=>{M.stat===ad.PROXY?J(ht,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===ad.NOPROXY&&J(ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{V.yo()},0),V}}function ac(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t){return new bT(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=s,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r,i,s,o,l,c){this.ai=e,this.jo=r,this.Ho=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new by(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Nn(n.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Jo===n&&this.h_(r,i)},r=>{e(()=>{const i=new ee(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)})})}h_(e,n){const r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{r(()=>this.listener.To())}),this.stream.Ao(()=>{r(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(i=>{r(()=>this.P_(i))}),this.stream.onMessage(i=>{r(()=>++this.Xo==1?this.T_(i):this.onNext(i))})}r_(){this.state=5,this.e_.Wo(async()=>{this.state=0,this.start()})}P_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ES extends Dy{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const n=VT(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?gn(o.readTime):ie.min()}(e);return this.listener.E_(n,r)}d_(e){const n={};n.database=gd(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=dd(c)?{documents:LT(s,c)}:{query:xT(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Ey(s,o.resumeToken);const h=fd(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(ie.min())>0){l.readTime=ou(s,o.snapshotVersion.toTimestamp());const h=fd(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=FT(this.serializer,e);r&&(n.labels=r),this.__(n)}A_(e){const n={};n.database=gd(this.serializer),n.removeTarget=e,this.__(n)}}class TS extends Dy{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=OT(e.writeResults,e.commitTime),r=gn(e.commitTime);return this.listener.f_(r,n)}g_(){const e={};e.database=gd(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>MT(this.serializer,r))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new ee(H.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,pd(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(H.UNKNOWN,s.toString())})}No(e,n,r,i,s){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.No(e,pd(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(H.UNKNOWN,o.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class kS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(Nn(n),this.b_=!1):J("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=s,this.B_.oo(o=>{r.enqueueAndForget(async()=>{Ur(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=se(c);h.N_.add(4),await So(h),h.k_.set("Unknown"),h.N_.delete(4),await Ju(h)}(this))})}),this.k_=new kS(r,i)}}async function Ju(t){if(Ur(t))for(const e of t.L_)await e(!0)}async function So(t){for(const e of t.L_)await e(!1)}function Ny(t,e){const n=se(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),Fh(n)?zh(n):$i(n).n_()&&xh(n,e))}function Lh(t,e){const n=se(t),r=$i(n);n.O_.delete(e),r.n_()&&Vy(n,e),n.O_.size===0&&(r.n_()?r.s_():Ur(n)&&n.k_.set("Unknown"))}function xh(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$i(t).d_(e)}function Vy(t,e){t.q_.xe(e),$i(t).A_(e)}function zh(t){t.q_=new AT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),$i(t).start(),t.k_.D_()}function Fh(t){return Ur(t)&&!$i(t).t_()&&t.O_.size>0}function Ur(t){return se(t).N_.size===0}function My(t){t.q_=void 0}async function AS(t){t.k_.set("Online")}async function IS(t){t.O_.forEach((e,n)=>{xh(t,e)})}async function PS(t,e){My(t),Fh(t)?(t.k_.F_(e),zh(t)):t.k_.set("Unknown")}async function RS(t,e,n){if(t.k_.set("Online"),e instanceof wy&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.O_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.O_.delete(l),i.q_.removeTarget(l))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await au(t,r)}else if(e instanceof Aa?t.q_.Ke(e):e instanceof yy?t.q_.He(e):t.q_.We(e),!n.isEqual(ie.min()))try{const r=await Ry(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.q_.rt(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const w=s.O_.get(h);w&&s.O_.set(h,w.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const w=s.O_.get(c);if(!w)return;s.O_.set(c,w.withResumeToken(st.EMPTY_BYTE_STRING,w.snapshotVersion)),Vy(s,c);const E=new qn(w.target,c,h,w.sequenceNumber);xh(s,E)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await au(t,r)}}async function au(t,e,n){if(!wo(e))throw e;t.N_.add(1),await So(t),t.k_.set("Offline"),n||(n=()=>Ry(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await Ju(t)})}function Oy(t,e){return e().catch(n=>au(t,n,e))}async function Zu(t){const e=se(t),n=lr(e);let r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;bS(e);)try{const i=await fS(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,DS(e,i)}catch(i){await au(e,i)}Ly(e)&&xy(e)}function bS(t){return Ur(t)&&t.x_.length<10}function DS(t,e){t.x_.push(e);const n=lr(t);n.n_()&&n.R_&&n.V_(e.mutations)}function Ly(t){return Ur(t)&&!lr(t).t_()&&t.x_.length>0}function xy(t){lr(t).start()}async function NS(t){lr(t).g_()}async function VS(t){const e=lr(t);for(const n of t.x_)e.V_(n.mutations)}async function MS(t,e,n){const r=t.x_.shift(),i=bh.from(r,e,n);await Oy(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Zu(t)}async function OS(t,e){e&&lr(t).R_&&await async function(r,i){if(function(o){return ST(o)&&o!==H.ABORTED}(i.code)){const s=r.x_.shift();lr(r).i_(),await Oy(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Zu(r)}}(t,e),Ly(t)&&xy(t)}async function qm(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Ur(n);n.N_.add(3),await So(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await Ju(n)}async function LS(t,e){const n=se(t);e?(n.N_.delete(2),await Ju(n)):e||(n.N_.add(2),await So(n),n.k_.set("Unknown"))}function $i(t){return t.Q_||(t.Q_=function(n,r,i){const s=se(n);return s.y_(),new ES(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:AS.bind(null,t),Ao:IS.bind(null,t),Vo:PS.bind(null,t),E_:RS.bind(null,t)}),t.L_.push(async e=>{e?(t.Q_.i_(),Fh(t)?zh(t):t.k_.set("Unknown")):(await t.Q_.stop(),My(t))})),t.Q_}function lr(t){return t.K_||(t.K_=function(n,r,i){const s=se(n);return s.y_(),new TS(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:NS.bind(null,t),Vo:OS.bind(null,t),m_:VS.bind(null,t),f_:MS.bind(null,t)}),t.L_.push(async e=>{e?(t.K_.i_(),await Zu(t)):(await t.K_.stop(),t.x_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new jh(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bh(t,e){if(Nn("AsyncQueue",`${e}: ${t}`),wo(t))return new ee(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=ws(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new yi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.U_=new Me(te.comparator)}track(e){const n=e.doc.key,r=this.U_.get(n);r?e.type!==0&&r.type===3?this.U_=this.U_.insert(n,e):e.type===3&&r.type!==1?this.U_=this.U_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.U_=this.U_.remove(n):e.type===1&&r.type===2?this.U_=this.U_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):re():this.U_=this.U_.insert(n,e)}W_(){const e=[];return this.U_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vi{constructor(e,n,r,i,s,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Vi(e,n,yi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}}class zS{constructor(){this.queries=Gm(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){const i=se(n),s=i.queries;i.queries=Gm(),s.forEach((o,l)=>{for(const c of l.z_)c.onError(r)})})(this,new ee(H.ABORTED,"Firestore shutting down"))}}function Gm(){return new Ui(t=>sy(t),qu)}async function FS(t,e){const n=se(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.j_()&&e.H_()&&(r=2):(s=new xS,r=e.H_()?0:1);try{switch(r){case 0:s.G_=await n.onListen(i,!0);break;case 1:s.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Bh(o,`Initialization of query '${Qr(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.z_.push(e),e.Y_(n.onlineState),s.G_&&e.Z_(s.G_)&&Uh(n)}async function jS(t,e){const n=se(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.z_.indexOf(e);o>=0&&(s.z_.splice(o,1),s.z_.length===0?i=e.H_()?0:1:!s.j_()&&e.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BS(t,e){const n=se(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.z_)l.Z_(i)&&(r=!0);o.G_=i}}r&&Uh(n)}function US(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const s of i.z_)s.onError(n);r.queries.delete(e)}function Uh(t){t.J_.forEach(e=>{e.next()})}var vd,Qm;(Qm=vd||(vd={})).X_="default",Qm.Cache="cache";class $S{constructor(e,n,r){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=r||{}}Z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;const r=n!=="Offline";return(!this.options.oa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;const n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=Vi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==vd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e){this.key=e}}class Fy{constructor(e){this.key=e}}class HS{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=le(),this.mutatedKeys=le(),this.da=oy(e),this.Aa=new yi(this.da)}get Ra(){return this.Ia}Va(e,n){const r=n?n.ma:new Km,i=n?n.Aa:this.Aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((w,E)=>{const k=i.get(w),N=Ku(this.query,E)?E:null,V=!!k&&this.mutatedKeys.has(k.key),b=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let M=!1;k&&N?k.data.isEqual(N.data)?V!==b&&(r.track({type:3,doc:N}),M=!0):this.fa(k,N)||(r.track({type:2,doc:N}),M=!0,(c&&this.da(N,c)>0||h&&this.da(N,h)<0)&&(l=!0)):!k&&N?(r.track({type:0,doc:N}),M=!0):k&&!N&&(r.track({type:1,doc:k}),M=!0,(c||h)&&(l=!0)),M&&(N?(o=o.add(N),s=b?s.add(w):s.delete(w)):(o=o.delete(w),s=s.delete(w)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const w=this.query.limitType==="F"?o.last():o.first();o=o.delete(w.key),s=s.delete(w.key),r.track({type:1,doc:w})}return{Aa:o,ma:r,ts:l,mutatedKeys:s}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const o=e.ma.W_();o.sort((w,E)=>function(N,V){const b=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return b(N)-b(V)}(w.type,E.type)||this.da(w.doc,E.doc)),this.ga(r),i=i!=null&&i;const l=n&&!i?this.pa():[],c=this.Ea.size===0&&this.current&&!i?1:0,h=c!==this.Ta;return this.Ta=c,o.length!==0||h?{snapshot:new Vi(this.query,e.Aa,s,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ya:l}:{ya:l}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new Km,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=le(),this.Aa.forEach(r=>{this.wa(r.key)&&(this.Ea=this.Ea.add(r.key))});const n=[];return e.forEach(r=>{this.Ea.has(r)||n.push(new Fy(r))}),this.Ea.forEach(r=>{e.has(r)||n.push(new zy(r))}),n}Sa(e){this.Ia=e.Is,this.Ea=le();const n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return Vi.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}}class WS{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qS{constructor(e){this.key=e,this.Da=!1}}class KS{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new Ui(l=>sy(l),qu),this.Fa=new Map,this.Ma=new Set,this.xa=new Me(te.comparator),this.Oa=new Map,this.Na=new Vh,this.La={},this.Ba=new Map,this.ka=Ni.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function GS(t,e,n=!0){const r=Wy(t);let i;const s=r.va.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ba()):i=await jy(r,e,n,!0),i}async function QS(t,e){const n=Wy(t);await jy(n,e,!0,!1)}async function jy(t,e,n,r){const i=await pS(t.localStore,mn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await YS(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ny(t.remoteStore,i),l}async function YS(t,e,n,r,i){t.Qa=(E,k,N)=>async function(b,M,I,C){let P=M.view.Va(I);P.ts&&(P=await $m(b.localStore,M.query,!1).then(({documents:m})=>M.view.Va(m,P)));const u=C&&C.targetChanges.get(M.targetId),f=C&&C.targetMismatches.get(M.targetId)!=null,p=M.view.applyChanges(P,b.isPrimaryClient,u,f);return Xm(b,M.targetId,p.ya),p.snapshot}(t,E,k,N);const s=await $m(t.localStore,e,!0),o=new HS(e,s.Is),l=o.Va(s.documents),c=To.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,c);Xm(t,n,h.ya);const w=new WS(e,n,o);return t.va.set(e,w),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),h.snapshot}async function XS(t,e,n){const r=se(t),i=r.va.get(e),s=r.Fa.get(i.targetId);if(s.length>1)return r.Fa.set(i.targetId,s.filter(o=>!qu(o,e))),void r.va.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _d(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Lh(r.remoteStore,i.targetId),yd(r,i.targetId)}).catch(yo)):(yd(r,i.targetId),await _d(r.localStore,i.targetId,!0))}async function JS(t,e){const n=se(t),r=n.va.get(e),i=n.Fa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lh(n.remoteStore,r.targetId))}async function ZS(t,e,n){const r=ok(t);try{const i=await function(o,l){const c=se(o),h=Ke.now(),w=l.reduce((N,V)=>N.add(V.key),le());let E,k;return c.persistence.runTransaction("Locally write mutations","readwrite",N=>{let V=Vn(),b=le();return c.us.getEntries(N,w).next(M=>{V=M,V.forEach((I,C)=>{C.isValidDocument()||(b=b.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(N,V)).next(M=>{E=M;const I=[];for(const C of l){const P=vT(C,E.get(C.key).overlayedDocument);P!=null&&I.push(new Br(C.key,P,Jv(P.value.mapValue),on.exists(!0)))}return c.mutationQueue.addMutationBatch(N,h,I,l)}).next(M=>{k=M;const I=M.applyToLocalDocumentSet(E,b);return c.documentOverlayCache.saveOverlays(N,M.batchId,I)})}).then(()=>({batchId:k.batchId,changes:uy(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.La[o.currentUser.toKey()];h||(h=new Me(pe)),h=h.insert(l,c),o.La[o.currentUser.toKey()]=h}(r,i.batchId,n),await ko(r,i.changes),await Zu(r.remoteStore)}catch(i){const s=Bh(i,"Failed to persist write");n.reject(s)}}async function By(t,e){const n=se(t);try{const r=await dS(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Oa.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Da=!0:i.modifiedDocuments.size>0?Te(o.Da):i.removedDocuments.size>0&&(Te(o.Da),o.Da=!1))}),await ko(n,r,e)}catch(r){await yo(r)}}function Ym(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.va.forEach((s,o)=>{const l=o.view.Y_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=se(o);c.onlineState=l;let h=!1;c.queries.forEach((w,E)=>{for(const k of E.z_)k.Y_(l)&&(h=!0)}),h&&Uh(c)}(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ek(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oa.get(e),s=i&&i.key;if(s){let o=new Me(te.comparator);o=o.insert(s,mt.newNoDocument(s,ie.min()));const l=le().add(s),c=new Yu(ie.min(),new Map,new Me(pe),o,l);await By(r,c),r.xa=r.xa.remove(s),r.Oa.delete(e),$h(r)}else await _d(r.localStore,e,!1).then(()=>yd(r,e,n)).catch(yo)}async function tk(t,e){const n=se(t),r=e.batch.batchId;try{const i=await cS(n.localStore,e);$y(n,r,null),Uy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ko(n,i)}catch(i){await yo(i)}}async function nk(t,e,n){const r=se(t);try{const i=await function(o,l){const c=se(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let w;return c.mutationQueue.lookupMutationBatch(h,l).next(E=>(Te(E!==null),w=E.keys(),c.mutationQueue.removeMutationBatch(h,E))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,w,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,w)).next(()=>c.localDocuments.getDocuments(h,w))})}(r.localStore,e);$y(r,e,n),Uy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ko(r,i)}catch(i){await yo(i)}}function Uy(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function $y(t,e,n){const r=se(t);let i=r.La[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}function yd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fa.get(e))t.va.delete(r),n&&t.Ca.Ka(r,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach(r=>{t.Na.containsKey(r)||Hy(t,r)})}function Hy(t,e){t.Ma.delete(e.path.canonicalString());const n=t.xa.get(e);n!==null&&(Lh(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),$h(t))}function Xm(t,e,n){for(const r of n)r instanceof zy?(t.Na.addReference(r.key,e),rk(t,r)):r instanceof Fy?(J("SyncEngine","Document no longer in limbo: "+r.key),t.Na.removeReference(r.key,e),t.Na.containsKey(r.key)||Hy(t,r.key)):re()}function rk(t,e){const n=e.key,r=n.path.canonicalString();t.xa.get(n)||t.Ma.has(r)||(J("SyncEngine","New document in limbo: "+n),t.Ma.add(r),$h(t))}function $h(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){const e=t.Ma.values().next().value;t.Ma.delete(e);const n=new te(be.fromString(e)),r=t.ka.next();t.Oa.set(r,new qS(n)),t.xa=t.xa.insert(n,r),Ny(t.remoteStore,new qn(mn(Ph(n.path)),r,"TargetPurposeLimboResolution",Th.oe))}}async function ko(t,e,n){const r=se(t),i=[],s=[],o=[];r.va.isEmpty()||(r.va.forEach((l,c)=>{o.push(r.Qa(c,e,n).then(h=>{var w;if((h||n)&&r.isPrimaryClient){const E=h?!h.fromCache:(w=n==null?void 0:n.targetChanges.get(c.targetId))===null||w===void 0?void 0:w.current;r.sharedClientState.updateQueryState(c.targetId,E?"current":"not-current")}if(h){i.push(h);const E=Oh.Ui(c.targetId,h);s.push(E)}}))}),await Promise.all(o),r.Ca.E_(i),await async function(c,h){const w=se(c);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>U.forEach(h,k=>U.forEach(k.Ki,N=>w.persistence.referenceDelegate.addReference(E,k.targetId,N)).next(()=>U.forEach(k.$i,N=>w.persistence.referenceDelegate.removeReference(E,k.targetId,N)))))}catch(E){if(!wo(E))throw E;J("LocalStore","Failed to update sequence numbers: "+E)}for(const E of h){const k=E.targetId;if(!E.fromCache){const N=w.ss.get(k),V=N.snapshotVersion,b=N.withLastLimboFreeSnapshotVersion(V);w.ss=w.ss.insert(k,b)}}}(r.localStore,s))}async function ik(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await Py(n.localStore,e);n.currentUser=e,function(s,o){s.Ba.forEach(l=>{l.forEach(c=>{c.reject(new ee(H.CANCELLED,o))})}),s.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ko(n,r.ls)}}function sk(t,e){const n=se(t),r=n.Oa.get(e);if(r&&r.Da)return le().add(r.key);{let i=le();const s=n.Fa.get(e);if(!s)return i;for(const o of s){const l=n.va.get(o);i=i.unionWith(l.view.Ra)}return i}}function Wy(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=By.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ek.bind(null,e),e.Ca.E_=BS.bind(null,e.eventManager),e.Ca.Ka=US.bind(null,e.eventManager),e}function ok(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nk.bind(null,e),e}class Jm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Xu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return lS(this.persistence,new aS,e.initialUser,this.serializer)}createPersistence(e){return new iS(Mh.Yr,this.serializer)}createSharedClientState(e){return new gS}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ak{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ym(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ik.bind(null,this.syncEngine),await LS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zS}()}createDatastore(e){const n=Xu(e.databaseInfo.databaseId),r=function(s){return new wS(s)}(e.databaseInfo);return function(s,o,l,c){return new SS(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new CS(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Ym(this.syncEngine,n,0),function(){return Wm.D()?new Wm:new _S}())}createSyncEngine(e,n){return function(i,s,o,l,c,h,w){const E=new KS(i,s,o,l,c,h);return w&&(E.qa=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=se(i);J("RemoteStore","RemoteStore shutting down."),s.N_.add(5),await So(s),s.B_.shutdown(),s.k_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):Nn("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=Qv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function uc(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Py(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Zm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dk(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>qm(e.remoteStore,i)),t._onlineComponents=e}function ck(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function dk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await uc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ck(n))throw n;Pi("Error using user provided cache. Falling back to memory cache: "+n),await uc(t,new Jm)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await uc(t,new Jm);return t._offlineComponents}async function qy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await Zm(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await Zm(t,new ak))),t._onlineComponents}function hk(t){return qy(t).then(e=>e.syncEngine)}async function eg(t){const e=await qy(t),n=e.eventManager;return n.onListen=GS.bind(null,e.syncEngine),n.onUnlisten=XS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JS.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t,e,n){if(!n)throw new ee(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fk(t,e,n,r){if(e===!0&&r===!0)throw new ee(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ng(t){if(!te.isDocumentKey(t))throw new ee(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rg(t){if(te.isDocumentKey(t))throw new ee(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(t);throw new ee(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ky((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class el{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ig({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ig(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new I2;switch(r.type){case"firstParty":return new D2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tg.get(n);r&&(J("ComponentProvider","Removing Datastore"),tg.delete(n),r.terminate())}(this),Promise.resolve()}}function pk(t,e,n,r={}){var i;const s=(t=rr(t,el))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=ft.MOCK_USER;else{l=l8(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ee(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ft(h)}t._authCredentials=new P2(new Gv(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tl(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}}class ir extends tl{constructor(e,n,r){super(e,n,Ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new te(e))}withConverter(e){return new ir(this.firestore,e,this._path)}}function mk(t,e,...n){if(t=Ii(t),Gy("collection","path",e),t instanceof el){const r=be.fromString(e,...n);return rg(r),new ir(t,null,r)}{if(!(t instanceof Vt||t instanceof ir))throw new ee(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return rg(r),new ir(t.firestore,null,r)}}function wd(t,e,...n){if(t=Ii(t),arguments.length===1&&(e=Qv.newId()),Gy("doc","path",e),t instanceof el){const r=be.fromString(e,...n);return ng(r),new Vt(t,null,new te(r))}{if(!(t instanceof Vt||t instanceof ir))throw new ee(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return ng(r),new Vt(t.firestore,t instanceof ir?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new by(this,"async_queue_retry"),this.Tu=()=>{const n=ac();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=ac();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=ac();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new Rr;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!wo(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}}du(e){const n=this._u.then(()=>(this.hu=!0,e().catch(r=>{this.lu=r,this.hu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Nn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.hu=!1,r))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const i=jh.createAndSchedule(this,e,n,r,s=>this.Ru(s));return this.cu.push(i),i}Eu(){this.lu&&re()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}function sg(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Mi extends el{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new gk}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Yy(this),this._firestoreClient.terminate()}}function _k(t,e){const n=typeof t=="object"?t:_2(),r=typeof t=="string"?t:"(default)",i=f2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=a8("firestore");s&&pk(i,...s)}return i}function Qy(t){return t._firestoreClient||Yy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Yy(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,h,w){return new H2(l,c,h,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Ky(w.experimentalLongPollingOptions),w.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new lk(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oi(st.fromBase64String(e))}catch(n){throw new ee(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oi(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=/^__.*__$/;class yk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Br(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eo(e,this.data,n,this.fieldTransforms)}}function Jy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class Kh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new Kh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return uu(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(Jy(this.yu)&&vk.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class wk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xu(e)}Ou(e,n,r,i=!1){return new Kh({yu:e,methodName:n,xu:r,path:tt.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zy(t){const e=t._freezeSettings(),n=Xu(t._databaseId);return new wk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function e0(t,e,n,r,i,s={}){const o=t.Ou(s.merge||s.mergeFields?2:0,e,n,i);i0("Data must be an object, but it was:",o,r);const l=n0(r,o);let c,h;if(s.merge)c=new nn(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const w=[];for(const E of s.mergeFields){const k=Ek(e,E,n);if(!o.contains(k))throw new ee(H.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);Sk(w,k)||w.push(k)}c=new nn(w),h=o.fieldTransforms.filter(E=>c.covers(E.field))}else c=null,h=o.fieldTransforms;return new yk(new Bt(l),c,h)}function t0(t,e){if(r0(t=Ii(t)))return i0("Unsupported field value:",e,t),n0(t,e);if(t instanceof Xy)return function(r,i){if(!Jy(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=t0(l,i.vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hT(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ke.fromDate(r);return{timestampValue:ou(i.serializer,s)}}if(r instanceof Ke){const s=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ou(i.serializer,s)}}if(r instanceof qh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oi)return{bytesValue:Ey(i.serializer,r._byteString)};if(r instanceof Vt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Nh(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${Hh(r)}`)}(t,e)}function n0(t,e){const n={};return Yv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bi(t,(r,i)=>{const s=t0(i,e.Su(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function r0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof qh||t instanceof Oi||t instanceof Vt||t instanceof Xy)}function i0(t,e,n){if(!r0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Hh(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function Ek(t,e,n){if((e=Ii(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return s0(t,e);throw uu("Field path arguments must be of type string or ",t,!1,void 0,n)}const Tk=new RegExp("[~\\*/\\[\\]]");function s0(t,e,n){if(e.search(Tk)>=0)throw uu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw uu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ee(H.INVALID_ARGUMENT,l+t+c)}function Sk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(a0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kk extends o0{data(){return super.data()}}function a0(t,e){return typeof e=="string"?s0(t,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ak{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new qh(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ro(e));default:return null}}convertTimestamp(e){const n=ur(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);Te(Iy(r));const i=new io(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||Nn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class l0 extends o0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ia(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(a0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ia extends l0{data(e={}){return super.data(e)}}class Ik{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ts(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ia(this._firestore,this._userDataWriter,r.key,r,new Ts(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Ia(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ts(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Ia(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ts(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,w=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),w=o.indexOf(l.doc.key)),{type:Pk(l.type),doc:c,oldIndex:h,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Pk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}class c0 extends Ak{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function Rk(t,e,n){t=rr(t,Vt);const r=rr(t.firestore,Mi),i=u0(t.converter,e,n);return Gh(r,[e0(Zy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,on.none())])}function bk(t){return Gh(rr(t.firestore,Mi),[new Rh(t._key,on.none())])}function Dk(t,e){const n=rr(t.firestore,Mi),r=wd(t),i=u0(t.converter,e);return Gh(n,[e0(Zy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,on.exists(!1))]).then(()=>r)}function Nk(t,...e){var n,r,i;t=Ii(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||sg(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(sg(e[o])){const E=e[o];e[o]=(n=E.next)===null||n===void 0?void 0:n.bind(E),e[o+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),e[o+2]=(i=E.complete)===null||i===void 0?void 0:i.bind(E)}let c,h,w;if(t instanceof Vt)h=rr(t.firestore,Mi),w=Ph(t._key.path),c={next:E=>{e[o]&&e[o](Vk(h,t,E))},error:e[o+1],complete:e[o+2]};else{const E=rr(t,tl);h=rr(E.firestore,Mi),w=E._query;const k=new c0(h);c={next:N=>{e[o]&&e[o](new Ik(h,k,E,N))},error:e[o+1],complete:e[o+2]},Ck(t._query)}return function(k,N,V,b){const M=new uk(b),I=new $S(N,M,V);return k.asyncQueue.enqueueAndForget(async()=>FS(await eg(k),I)),()=>{M.Ga(),k.asyncQueue.enqueueAndForget(async()=>jS(await eg(k),I))}}(Qy(h),w,l,c)}function Gh(t,e){return function(r,i){const s=new Rr;return r.asyncQueue.enqueueAndForget(async()=>ZS(await hk(r),i,s)),s.promise}(Qy(t),e)}function Vk(t,e,n){const r=n.docs.get(e._key),i=new c0(t);return new l0(t,i,e._key,r,new Ts(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ji=i})(g2),eu(new eo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Mi(new R2(r.getProvider("auth-internal")),new V2(r.getProvider("app-check-internal")),function(h,w){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ee(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(h.options.projectId,w)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),vi(Sm,"4.6.5",e),vi(Sm,"4.6.5","esm2017")})();var Mk="firebase",Ok="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(Mk,Ok,"app");const Lk={apiKey:"AIzaSyCzecL9mEbuL3Y5WcaHW6HJAvwyY3QcPS4",authDomain:"notesapp-3d430.firebaseapp.com",projectId:"notesapp-3d430",storageBucket:"notesapp-3d430.appspot.com",messagingSenderId:"903036059406",appId:"1:903036059406:web:09804ee5acaa8f562da15f"},xk=zv(Lk),Ed=_k(xk),og=mk(Ed,"notes");function zk(){const[t,e]=cn.useState([]),[n,r]=cn.useState(""),[i,s]=cn.useState(""),o=t.find(E=>E.id===n)||t[0],l=t.sort((E,k)=>k.updatedAt-E.updatedAt);cn.useEffect(()=>Nk(og,function(k){const N=k.docs.map(V=>({...V.data(),id:V.id}));e(N)}),[]),cn.useEffect(()=>{var E;n||r((E=t[0])==null?void 0:E.id)},[t]),cn.useEffect(()=>{o&&s(o.body)},[o]),cn.useEffect(()=>{const E=setTimeout(()=>{i!==o.body&&h(i)},500);return()=>clearTimeout(E)},[i]);async function c(){const E={body:"# Type your markdown note's title here",createdAt:Date.now(),updatedAt:Date.now()},k=await Dk(og,E);r(k.id)}async function h(E){const k=wd(Ed,"notes",n);await Rk(k,{body:E,updatedAt:Date.now()},{merge:!0})}async function w(E){const k=wd(Ed,"notes",E);await bk(k)}return je.jsx("main",{children:t.length>0?je.jsxs(vh,{sizes:[30,70],direction:"horizontal",className:"split",children:[je.jsx(d3,{notes:l,currentNote:o,setCurrentNoteId:r,newNote:c,deleteNote:w}),je.jsx(UE,{tempNoteText:i,setTempNoteText:s})]}):je.jsxs("div",{className:"no-notes",children:[je.jsx("h1",{children:"You have no notes"}),je.jsx("button",{className:"first-note",onClick:c,children:"Create one now"})]})})}yv(document.getElementById("root")).render(je.jsx(Ot.StrictMode,{children:je.jsx(zk,{})}));
